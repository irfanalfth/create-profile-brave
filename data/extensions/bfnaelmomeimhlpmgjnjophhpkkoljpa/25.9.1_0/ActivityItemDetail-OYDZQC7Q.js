import{a as P}from"./chunk-N5FJSS7H.js";import{G as w,X as _,ea as Ee,fa as Ie,ha as xe}from"./chunk-DSGFIM4C.js";import"./chunk-PAXKK56F.js";import"./chunk-BZEXQKR7.js";import"./chunk-QC7IENKX.js";import"./chunk-TH54P6T4.js";import{c as q,d as fe}from"./chunk-YRQAR2SD.js";import"./chunk-MJUR6GSK.js";import"./chunk-5R5I7UFN.js";import"./chunk-FS5WEDFF.js";import"./chunk-NJHVGQ3T.js";import"./chunk-FMDLOOK7.js";import"./chunk-PUJ7YG5C.js";import"./chunk-U3WYUBZV.js";import"./chunk-JOYNNZVI.js";import"./chunk-2WTSXO3L.js";import{b as ge}from"./chunk-6WTXMLHF.js";import"./chunk-C5UDUURS.js";import"./chunk-DZ2NE3XW.js";import{a as Le}from"./chunk-6PWMWQVM.js";import"./chunk-O2N6PUOM.js";import"./chunk-WWTHUL36.js";import"./chunk-NGO5FOJW.js";import"./chunk-DIDVQIO4.js";import"./chunk-HROBW3I6.js";import"./chunk-ZON27MKP.js";import"./chunk-O2GJOI3B.js";import"./chunk-2LU4YM7A.js";import"./chunk-E6VR42GU.js";import"./chunk-W27Z2YZM.js";import"./chunk-IVAERDLS.js";import"./chunk-XJTFMD4C.js";import"./chunk-DSKUEGWR.js";import"./chunk-2XU6ODO7.js";import"./chunk-7ZVEM3WY.js";import"./chunk-VQVTLSDS.js";import{j as G}from"./chunk-5LRZ7IFN.js";import{db as we}from"./chunk-ATEHMOFB.js";import{e as B}from"./chunk-2P7VAWV5.js";import{A as X,D as x,E as j,x as A,z as Y}from"./chunk-RFHVH32K.js";import"./chunk-UCBZOSRF.js";import"./chunk-BBWCN5OU.js";import"./chunk-2JLBDXN2.js";import"./chunk-T2ZXNVG7.js";import"./chunk-QYQ24YHA.js";import{b as Ae}from"./chunk-B73KBMEE.js";import{b as he}from"./chunk-BB4NLGB2.js";import"./chunk-SWF27PRY.js";import"./chunk-BTKBODVJ.js";import"./chunk-SAX3UIWU.js";import"./chunk-RB5D6XZ6.js";import"./chunk-PQZYPWXP.js";import"./chunk-WFPABEAU.js";import"./chunk-FIZDH5HD.js";import"./chunk-QDZH7H34.js";import{S as ve,Z as be,a as ke,c as ye,j as Ce}from"./chunk-LWOUUIX7.js";import{h as M,j as ue,k as R}from"./chunk-ETHULGZP.js";import"./chunk-IBEI3NGL.js";import"./chunk-LGUE2NXS.js";import"./chunk-RNP7TDDY.js";import{fe as De,gb as S,ob as E}from"./chunk-ERHX3GUR.js";import"./chunk-WY7QFQOG.js";import"./chunk-ZTEVIBRP.js";import"./chunk-X6EPTHBD.js";import"./chunk-24ISZ5TA.js";import"./chunk-2J2WSGCG.js";import"./chunk-DHK5JDA3.js";import{m as Te}from"./chunk-FI5JCZQR.js";import"./chunk-7XYHSLSH.js";import"./chunk-W476YZUB.js";import"./chunk-ZIPBM4OE.js";import{E as me,ga as g}from"./chunk-HTY4DAML.js";import{a as pe}from"./chunk-6MAAUKN7.js";import"./chunk-UNDMYLJW.js";import{f as re,h as ce,n as de}from"./chunk-3KENBVE7.js";ce();de();var o=re(pe()),W=re(pe());var ze=B.a`
  cursor: pointer;
`,Ke=B.div`
  display: flex;
  justify-content: space-between;
  gap: 8px;
`,L=B.span`
  cursor: pointer;
  color: ${p=>p.color||"white"};
  &:hover {
    color: #8a7ad8;
  }
`,He=B.div`
  margin: -16px -16px 0 -16px;
  width: calc(100% + 32px);
  height: calc(100% + 16px);
  overflow-y: auto;
  position: absolute;
  top: 0;
  left: 0;
`,Ne=({label:p,url:m})=>o.createElement(ze,{onClick:()=>self.open(m)},o.createElement(we,{color:"#AB9FF2",noWrap:!0,lineHeight:14,maxWidth:`${Ae/2}`,weight:600,size:14},p)),Ye=({activityItem:p})=>{let{interactionData:m,chainMeta:V}=p,{t:e}=Te(),{transactionType:U}=m,{status:Se,networkFee:Re,networkFeePayer:J}=V,D=V.chainId,b=Se==="failed",{pushDetailView:Q}=ge(),{getKnownAddressLabel:Be}=be(),{data:Z}=ve(),{handleHideModalVisibility:ee}=xe(),z=(0,W.useCallback)(()=>ee("activityItem"),[ee]),{data:F}=De(),te=F?.isReadOnly,r=(0,W.useCallback)((a,t)=>{Q(o.createElement(He,null,o.createElement(Ie,{caip19:a,title:t,entryPoint:"activityItemDetail"})))},[Q]),_e=J?F?.addresses.some(a=>a.address.toLowerCase()===J.toLowerCase()):!1,Pe=me(p.timestamp*1e3,e("richTransactionDetailAt")),O=S.getTokenDecimals(D),h=S.getTokenSymbol(D),Ue=j(Re,O,h),I=o.createElement(w,{activityItem:p,size:"medium"}),u={label:e("richTransactionDetailDate"),value:Pe},ae=A(p.id),k=[];if(Z){let a=V.chainId,t=Z.explorers[a]??ke.get(a).defaultExplorer,i=Ce({networkID:a,endpoint:"transaction",explorerType:t,param:ae});i!==""&&k.push({label:e("richTransactionDetailViewOnExplorer",{explorer:ye[t]}),value:i,type:"link"})}let N=E({chainId:D,slip44:S.getSlip44(D),resourceType:"nativeToken"}),y=b?{label:e("richTransactionDetailStatus"),value:e("richTransactionDetailFailed"),color:"#EB3742"}:{label:e("richTransactionDetailStatus"),value:e("historyStatusSucceeded"),color:"#21E56F"},C={label:e("richTransactionDetailNetworkFee"),value:_e?Ue:void 0},v={label:e("historyNetwork"),value:S.getNetworkName(D)},oe=Ee(),ie=(0,W.useCallback)((a,t)=>{he.capture("activityItemSwapAgainClicked",{data:{from_asset_caip19:t,to_asset_caip19:a}}),oe({buyFungibleCaip19:a,sellFungibleCaip19:t}),z()},[oe,z]),d;switch(U){case"TOKEN_SEND":{let t=m.balanceChanges[0],i=X(t,F?.addresses??[]),{token:{symbol:n,decimals:l,displayName:s,tokenType:c,isSpam:T},amount:f}=t,$=Y(c),ne=E(x(t.token,D)),Fe=i?"+":"-",K=l!==void 0?`${g(f,l)} ${n||""}`:e("transactionsUnknownAmount"),Oe=`${Fe}${K}`,H=A(i?t.from:t.to),se=ue(H,void 0,Be(H,D)),$e={label:e(i?"richTransactionDetailFrom":"richTransactionDetailTo"),value:o.createElement(P,{delayedChildren:o.createElement(_,{alignment:"topCenter",copyString:H},se)},se)},le=Ve=>o.createElement(L,{onClick:()=>r(ne,t.token.symbol),color:i&&!b?"#21E56F":void 0},Ve),Me=b?[{label:e("historyAttemptedAmount"),value:K}]:[],We=b?e("transactionsSendFailed"):`${e("transactionsSent")}`;d={sections:[{rows:[u,y,$e,v,C,...Me,...k]}],title:i?e("transactionsReceived"):We,primaryText:$?{value:s||e("richTransactionDetailUnknownNFT")}:b||l===void 0?{value:le(K)}:{value:le(Oe)},secondaryText:{value:""},image:$?I:o.createElement(w,{activityItem:p,size:"medium",onClick:()=>r(ne,t.token.symbol)}),warning:i&&T?e("spamActivityWarning"):""};break}case"TOKEN_BURN":{let{amount:a,token:t}=m,i="";b||(t.displayName?a==="1"?i=t.displayName:i=`${t.displayName} (${a})`:i=e("richTransactionDetailUnknownNFT")),d={sections:[{rows:[u,y,v,C,...k]}],title:e("richTransactionDetailBurned"),primaryText:{value:i},secondaryText:{value:""},image:I};break}case"TOKEN_SWAP":{let{receiveAmount:a,receiveToken:t,sendAmount:i,sendToken:n,dapp:l}=m,s=R(A(n.id)||""),c=R(A(t.id)||""),T=E(x(n,D)),f=E(x(t,D));d={sections:[{rows:[u,y,v,C]},{title:e("richTransactionDetailSwapDetails"),rows:[{label:e("richTransactionDetailProvider"),value:l?.displayName&&l.logoURI?o.createElement(q,{name:l.displayName,imageURL:l.logoURI}):l?.displayName||e("historyUnknownDappName")},{label:e("richTransactionDetailYouPaid"),value:j(i,n.decimals,n.symbol||""),onClick:()=>r(T,n.symbol||s)},{label:e("richTransactionDetailYouReceived"),value:t.decimals!==void 0?`+${g(a,t.decimals)} ${t.symbol||""}`:e("transactionsUnknownAmount"),color:t.decimals!==void 0&&!b?"#21E56F":"",onClick:()=>r(f,t.symbol||c)},...k]}],title:e("richTransactionDetailTokenSwap"),primaryText:{value:o.createElement(o.Fragment,null,o.createElement(L,{onClick:()=>r(T,n.symbol||s)},n.symbol||s)," \u2192 ",o.createElement(L,{onClick:()=>r(f,t.symbol||c)},t.symbol||c))},secondaryText:{value:""},image:o.createElement(w,{activityItem:p,size:"medium",onClick:te?void 0:()=>ie(f,T)}),swapAgain:te?void 0:{sendToken:T,receiveToken:f}};break}case"BRIDGE_INIT":{let t=m.balanceChanges[0],i=X(t,F?.addresses??[]),{token:{symbol:n,decimals:l},amount:s}=t,c=E(x(t.token,D)),T=l!==void 0?`${g(s,l)} ${n||""}`:e("transactionsUnknownAmount"),f=p.interactionData.explorerUrl??`https://explorer.li.fi/tx/${ae}`,$={label:e("transactionBridgeStatusLink"),value:f,type:"link"};d={sections:[{rows:[u,y,v,C,$]}],title:b?e("transactionBridgeInitiatedFailed"):`${e("transactionBridgeInitiated")}`,primaryText:{value:o.createElement(L,{onClick:()=>r(c,n),color:i&&!b?"#21E56F":void 0},T)},secondaryText:{value:""},image:o.createElement(w,{activityItem:p,size:"medium",onClick:()=>r(c,n)})};break}case"TOKEN_UNWRAP":{let{token:a,amount:t}=m,i=R(A(a.id)||""),n=E(x(a,D)),l=a.decimals!==void 0?`+${g(t,a.decimals)} ${a.symbol||""}`:e("transactionsUnknownAmount");d={sections:[{rows:[u,y,v,C]},{title:e("richTransactionDetailUnwrapDetails"),rows:[{label:e("richTransactionDetailYouReceived"),value:o.createElement(L,{onClick:()=>r(n,a.symbol),color:b?void 0:"#21E56F"},l)},...k]}],title:e("richTransactionDetailTokenUnwrap"),primaryText:{value:o.createElement(L,{onClick:()=>r(n,a.symbol)},a.symbol||i)},secondaryText:{value:""},image:o.createElement(w,{activityItem:p,size:"medium",onClick:()=>r(n,a.symbol)})};break}case"WITHDRAW_STAKE":{let{amount:a,stakeAccount:t}=m,i=A(t),n=M(i,4);d={sections:[{rows:[u,y,{label:e("richTransactionDetailAccount"),value:o.createElement(P,{delayedChildren:o.createElement(_,{alignment:"topCenter",copyString:i},n)},n)},v,C,...k]}],title:e("richTransactionDetailWithdrawStake"),primaryText:{value:o.createElement(L,{onClick:()=>r(N,h),color:b?void 0:"#21E56F"},"+",g(a,O)," ",h)},secondaryText:{value:""},image:o.createElement(w,{activityItem:p,size:"medium",onClick:()=>r(N,h)})};break}case"DEACTIVATE_STAKE":{let{amount:a,stakeAccount:t}=m,i=A(t),n=M(i,4);d={sections:[{rows:[u,y,{label:e("richTransactionDetailAccount"),value:o.createElement(P,{delayedChildren:o.createElement(_,{alignment:"topCenter",copyString:i},n)},n)},v,C,...k]}],title:e("richTransactionDetailUnstaked"),primaryText:{value:o.createElement(L,{onClick:()=>r(N,h)},g(a,O)," ",h)},secondaryText:{value:""},image:o.createElement(w,{activityItem:p,size:"medium",onClick:()=>r(N,h)})};break}case"STAKE":{let{amount:a,stakeAccount:t,validatorName:i,validatorWebsite:n}=m,l=A(t),s=M(l,4);d={sections:[{rows:[u,y,{label:e("richTransactionDetailAccount"),value:o.createElement(P,{delayedChildren:o.createElement(_,{alignment:"topCenter",copyString:l},s)},s)},{label:"Validator",value:i&&n?o.createElement(Ne,{label:i,url:n}):i},v,C,...k]}],title:e("richTransactionDetailStaked"),primaryText:{value:o.createElement(L,{onClick:()=>r(N,h)},"-",g(a,O)," ",h)},secondaryText:{value:""},image:o.createElement(w,{activityItem:p,size:"medium",onClick:()=>r(N,h)})};break}case"COLLECTIBLE_LIST":case"COLLECTIBLE_BUY_ITEM":case"COLLECTIBLE_CANCEL_BID":case"COLLECTIBLE_BID_ITEM":case"COLLECTIBLE_UNLIST":case"COLLECTIBLE_SELL_ITEM":{let{dapp:a,item:t,forAmount:i,forAsset:n,listingUrl:l}=m,s=n.decimals!==void 0?`${g(i,n.decimals)} ${n.symbol||""}`:e("transactionsUnknownAmount"),c=t.displayName||e("richTransactionDetailUnknownNFT"),T={COLLECTIBLE_LIST:{priceRow:{label:e("richTransactionDetailListingPrice"),value:s},sectionTitle:e("richTransactionDetailListingDetails"),detailTitle:e("richTransactionDetailListed")},COLLECTIBLE_UNLIST:{priceRow:{label:e("richTransactionDetailOriginalListingPrice"),value:s},sectionTitle:e("richTransactionDetailListingDetails"),detailTitle:e("richTransactionDetailUnlisted")},COLLECTIBLE_BID_ITEM:{priceRow:{label:e("richTransactionDetailPrice"),value:s},sectionTitle:e("richTransactionDetailBidDetails"),detailTitle:e("richTransactionDetailBid")},COLLECTIBLE_CANCEL_BID:{priceRow:{label:e("richTransactionDetailPrice"),value:s},sectionTitle:e("richTransactionDetailBidDetails"),detailTitle:e("richTransactionDetailCancelBid")},COLLECTIBLE_BUY_ITEM:{priceRow:{label:e("richTransactionDetailPrice"),value:s},sectionTitle:e("richTransactionDetailPurchaseDetails"),detailTitle:e("richTransactionDetailBought")},COLLECTIBLE_SELL_ITEM:{priceRow:{label:e("richTransactionDetailPrice"),value:s},sectionTitle:e("richTransactionDetailSaleDetails"),detailTitle:e("richTransactionDetailSold")}};d={sections:[{rows:[u,y,v,C]},{title:T[U].sectionTitle,rows:[T[U].priceRow,{label:e("richTransactionDetailItem"),value:c&&l?o.createElement(Ne,{label:c,url:l}):c},{label:e("richTransactionDetailMarketplace"),value:a?.displayName&&a?.logoURI?o.createElement(q,{name:a.displayName,imageURL:a.logoURI}):a?.displayName||""},...k]}],title:T[U].detailTitle,primaryText:{value:c},secondaryText:{value:""},image:I};break}case"CANCEL_TX":{d={sections:[{rows:[u,y,v,C,...k]}],title:e("transactionCancelled"),primaryText:{value:""},secondaryText:{value:""},image:I};break}case"TOKEN_APPROVAL":{let{dapp:a,token:t,isApproved:i}=m,n=a?.displayName||e("historyUnknownDappName"),l=a?.displayName?[{label:e("transactionApproveAppLabel"),value:a?.displayName}]:[],s=R(A(t.id)||""),c=Y(t.tokenType)?t.displayName:t.symbol,T=E(x(t,D));d={sections:[{rows:[u,y,v,C]},{title:e("transactionApproveDetailsTitle"),rows:[...l,{label:e("transactionApproveTokenLabel"),value:c||s,onClick:()=>r(T,c||s)},...k]}],title:o.createElement(L,{onClick:()=>r(T,c||s)},e(i?"transactionApproveToken":"transactionRevokeApproveToken",{tokenSymbol:c||""})),primaryText:{value:""},secondaryText:{value:n},image:o.createElement(w,{activityItem:p,size:"medium",onClick:()=>r(T,c||s)})};break}case"COLLECTION_APPROVAL":{let{dapp:a,collection:t,isApproved:i}=m,n=a?.displayName||e("historyUnknownDappName"),l=a?.displayName?[{label:e("transactionApproveAppLabel"),value:a?.displayName}]:[],s=t.displayName;d={sections:[{rows:[u,y,v,C]},{title:e("transactionApproveDetailsTitle"),rows:[...l,{label:e("transactionApproveCollectionLabel"),value:s},...k]}],title:e(i?"transactionApproveToken":"transactionRevokeApproveToken",{tokenSymbol:s}),primaryText:{value:""},secondaryText:{value:n},image:I};break}case"CANCEL_ORDER":{let{dapp:a}=m;d={sections:[{rows:[u,y,v,C,...k]}],title:e("transactionCancelOrder"),primaryText:{value:""},secondaryText:{value:a?.displayName||e("historyUnknownDappName")},image:I};break}case"UNCLASSIFIED_APP_INTERACTION":default:{let{dapp:a}=m,t=a?.displayName||e("historyUnknownDappName");d={sections:[{rows:[u,y,v,C,...k]}],title:e("richTransactionDetailAppInteraction"),primaryText:{value:""},secondaryText:{value:t},image:I};break}}return o.createElement(o.Fragment,null,o.createElement(fe,{...d}),o.createElement(Le,{removeFooterExpansion:!1},o.createElement(Ke,null,o.createElement(G,{onClick:z},e("commandClose")),d.swapAgain&&o.createElement(G,{onClick:()=>ie(d.swapAgain.receiveToken,d.swapAgain.sendToken),theme:"primary"},e("commandSwapAgain")))))},Ct=Ye;export{Ye as ActivityItemDetail,Ne as Link,Ct as default};
//# sourceMappingURL=ActivityItemDetail-OYDZQC7Q.js.map
