import{a as He}from"./chunk-GO2HV2OU.js";import{A as Xe,B as Ye,a as Qe,b as G,l as qe,s as Ke,w as Ge}from"./chunk-OL2OWHMO.js";import{a as $e}from"./chunk-KVRVAK45.js";import"./chunk-RJAJ3GON.js";import"./chunk-ZXWO2YO2.js";import{fa as Ue,ha as re}from"./chunk-DSGFIM4C.js";import"./chunk-PAXKK56F.js";import"./chunk-BZEXQKR7.js";import"./chunk-QC7IENKX.js";import"./chunk-TH54P6T4.js";import"./chunk-YRQAR2SD.js";import"./chunk-MJUR6GSK.js";import"./chunk-5R5I7UFN.js";import{a as ee}from"./chunk-FS5WEDFF.js";import"./chunk-NJHVGQ3T.js";import"./chunk-FMDLOOK7.js";import"./chunk-PUJ7YG5C.js";import"./chunk-U3WYUBZV.js";import"./chunk-JOYNNZVI.js";import{h as W}from"./chunk-2WTSXO3L.js";import{b as _e}from"./chunk-6WTXMLHF.js";import{a as R}from"./chunk-C5UDUURS.js";import"./chunk-DZ2NE3XW.js";import{a as Ve}from"./chunk-6PWMWQVM.js";import"./chunk-O2N6PUOM.js";import"./chunk-WWTHUL36.js";import"./chunk-NGO5FOJW.js";import{a as ve}from"./chunk-DIDVQIO4.js";import{b as J}from"./chunk-HROBW3I6.js";import"./chunk-ZON27MKP.js";import"./chunk-O2GJOI3B.js";import"./chunk-2LU4YM7A.js";import"./chunk-E6VR42GU.js";import"./chunk-W27Z2YZM.js";import"./chunk-IVAERDLS.js";import"./chunk-XJTFMD4C.js";import"./chunk-DSKUEGWR.js";import"./chunk-2XU6ODO7.js";import"./chunk-7ZVEM3WY.js";import"./chunk-VQVTLSDS.js";import{j as ze}from"./chunk-5LRZ7IFN.js";import{db as ne,j as We}from"./chunk-ATEHMOFB.js";import{a as Ce,e as I}from"./chunk-2P7VAWV5.js";import{$a as Ee,Aa as De,Da as Ne,P as Se,S as be,Za as Le,_a as Be,cb as K,ia as Pe,ka as ke,la as Te,mb as Oe,nb as Me,sa as Ie,va as Ae,za as Fe}from"./chunk-RFHVH32K.js";import"./chunk-UCBZOSRF.js";import"./chunk-BBWCN5OU.js";import"./chunk-2JLBDXN2.js";import"./chunk-T2ZXNVG7.js";import"./chunk-QYQ24YHA.js";import"./chunk-B73KBMEE.js";import{b as we}from"./chunk-BB4NLGB2.js";import"./chunk-SWF27PRY.js";import"./chunk-BTKBODVJ.js";import"./chunk-SAX3UIWU.js";import"./chunk-RB5D6XZ6.js";import"./chunk-PQZYPWXP.js";import"./chunk-WFPABEAU.js";import"./chunk-FIZDH5HD.js";import"./chunk-QDZH7H34.js";import"./chunk-LWOUUIX7.js";import"./chunk-ETHULGZP.js";import"./chunk-IBEI3NGL.js";import"./chunk-LGUE2NXS.js";import"./chunk-RNP7TDDY.js";import{gb as Y,gd as fe,me as ge,ob as ue}from"./chunk-ERHX3GUR.js";import"./chunk-WY7QFQOG.js";import"./chunk-ZTEVIBRP.js";import{A as he,a as b,b as ye,c as Z,g as U,h as xe,l as g,m as y,v as $,z as j}from"./chunk-X6EPTHBD.js";import"./chunk-24ISZ5TA.js";import"./chunk-2J2WSGCG.js";import"./chunk-DHK5JDA3.js";import{a as de,m as S}from"./chunk-FI5JCZQR.js";import"./chunk-7XYHSLSH.js";import"./chunk-W476YZUB.js";import"./chunk-ZIPBM4OE.js";import{R as te}from"./chunk-HTY4DAML.js";import{a as T}from"./chunk-6MAAUKN7.js";import"./chunk-UNDMYLJW.js";import{f as k,h as n,n as i}from"./chunk-3KENBVE7.js";n();i();var c=k(T());n();i();var F=k(T());n();i();var u=k(T());n();i();var yr=k(T());var H=I.div`
  display: flex;
  align-items: center;
  height: 36px;
  input {
    font-size: ${e=>e.fontSize??34}px;
    line-height: 1;
    font-weight: 600;
    padding: 0;
    background: none;
  }
`,Vr=I.div`
  width: 100%;
  margin-top: 11px;
  margin-bottom: 10px;
`;var _r=I.div`
  color: #ab9ff2;
  font-size: 14px;
  font-weight: 400;
  white-space: nowrap;
  cursor: pointer;
  margin-left: 5px;
  border-radius: 8px;
  padding: 8px;
  &:hover {
    background-color: #333333;
  }
`;n();i();var C=k(T()),Q=({input:e,isLoading:r,onSelectorPress:o,perspective:a,selectorIcon:t,selectorLabel:l,accessories:s,footer:m})=>{let{t:h}=S(),f=h(a==="buy"?"swapAssetCardBuyTitle":"swapAssetCardSellTitle"),v=(0,C.useMemo)(()=>{if(s)return C.default.createElement(g,{display:"flex",direction:"row",alignItems:"center",gap:6,marginTop:6},s)},[s]);(0,C.useEffect)(()=>{a==="buy"?K.markFrame("buyTokenUpdated"):K.markFrame("sellTokenUpdated")},[l,a]);let N=C.default.createElement(g,{display:"flex",direction:"column",gap:0,backgroundColor:"bgRow",borderRadius:"table",padding:20},C.default.createElement(y,{font:"labelSemibold",color:"textTertiary",children:f}),C.default.createElement(g,{display:"flex",direction:"row",alignItems:"center",minHeight:48},e,C.default.createElement(g,{flex:1}),r?C.default.createElement(U,{width:112,height:24}):C.default.createElement(g,{onPress:o,display:"flex",gap:8,direction:"row",backgroundColor:{base:"gray",hover:"borderPrimary"},paddingY:4,paddingLeft:4,paddingRight:8,alignItems:"center",borderRadius:"full",cursor:"pointer",testID:`${a}-token-button`},t,C.default.createElement(y,{font:"captionSemibold",color:"textPrimary",children:l}),C.default.createElement(Z.ChevronDown,{size:14}))),v);return xr(N,m)},xr=(e,r)=>r?C.default.createElement(g,{direction:"column",backgroundColor:"bgRow",borderRadius:"table"},e,r):e;n();i();var L=k(T()),Ze=({warnings:e})=>{if(e.length===0)return null;let r=e[0],o=l=>{switch(l.level){case"warn":return{backgroundColor:"accentWarning",textColor:"bgWallet"};case"info":return{backgroundColor:"bgRow",textColor:"textPrimary"}}},{backgroundColor:a,textColor:t}=o(r);return L.default.createElement(L.default.Fragment,null,L.default.createElement(g,{width:"100%",height:1,backgroundColor:"bgWallet"}),L.default.createElement(g,{gap:8,direction:"row",backgroundColor:a,padding:"screen",borderBottomRadius:"table"},L.default.createElement(g,{flexShrink:0},L.default.createElement(Z.AlertTriangle,{color:t,size:18})),L.default.createElement(y,{flexShrink:1,font:"caption",color:t,children:de.t(r.titleKey,r.options)})))};n();i();var je=32,oe="_4ag7710",Je="_4ag7712 _51gaznvq _51gazn11l _51gaznx4";n();i();var B=k(T()),Re={secondaryContainer:b({display:"flex",flexDirection:"row",alignItems:"center",gap:6}),pointer:b({cursor:"pointer"})},er=({isLoading:e,usdAmount:r,cryptoSubtitle:o,supportsCurrencyDenominationSwitching:a,switchCurrencyDenomination:t})=>{let l=Pe(m=>m.primaryCurrency),s=(0,B.useMemo)(()=>e?B.default.createElement(U,{width:40,height:18,borderRadius:12,testID:"secondary-price-loader"}):l==="crypto"&&r!==void 0?B.default.createElement(ve,{font:"caption",color:"textSecondary",value:r,intlNumberFormatOptions:{notation:"compact"}}):l==="fiat"&&o?B.default.createElement(y,{font:"caption",color:"textSecondary",children:o}):null,[o,l,e,r]);return B.default.createElement("div",{className:Re.secondaryContainer,onClick:t},s,a?B.default.createElement($,{icon:"SwapVertical",size:20,shape:"circle",backgroundColor:{base:"gray",hover:"borderPrimary"},color:"textSecondary",className:Re.pointer}):null)};var ie={filters:b({display:"flex",flexDirection:"row",alignItems:"center",gap:4,marginLeft:2}),currencyPrefix:b({marginRight:2}),accessoryContainer:b({alignItems:"center",display:"flex",flexDirection:"row",gap:6,marginTop:6}),spacer:b({flex:1})},rr=({asset:e,perspective:r,onInputChange:o,onFungibleTap:a,onFilterTap:t,switchCurrencyDenomination:l,onBalanceTap:s})=>{let{amount:m,balance:h,fungible:f,isAmountEditable:v,isAmountLoading:N,isSecondaryCryptoSubtitleLoading:P,isWarning:d,secondaryCryptoSubtitle:V,amountPrefix:E,selectedFilter:p,filters:O,supportsCurrencyDenominationSwitching:X,usdAmount:pe}=e,{t:le}=S(),fr=u.default.createElement(J,{image:{type:"fungible",src:f.data?.logoUri,fallback:f.data?.symbol||f.data?.tokenAddress},size:32,tokenType:f.type,chainMeta:f.data?.chain}),gr=M=>M.length>16?16:M.length>14?18:M.length>12?20:22,wr=(0,u.useMemo)(()=>{let M=gr(m);return N?u.default.createElement(U,{width:100,height:18,borderRadius:12}):u.default.createElement(H,{hasWarning:d,fontSize:M},u.default.createElement(y,{font:"heading3",children:E,className:ie.currencyPrefix}),u.default.createElement(W,{name:"amount",border:"0",placeholder:"0",warning:d,value:m,decimalLimit:f.data?.decimals,disabled:!v,onUserInput:o}))},[N,d,E,m,f.data?.decimals,v,o]),me=(0,u.useMemo)(()=>u.default.createElement(er,{isLoading:P,usdAmount:pe,cryptoSubtitle:V,supportsCurrencyDenominationSwitching:X,switchCurrencyDenomination:l}),[P,pe,V,X,l]),ce=(0,u.useMemo)(()=>{let M=_=>{switch(_){case .25:return"25%";case .5:return"50%";case 1:return le("swapAssetCardMaxButton")}};return O.map(_=>u.default.createElement(j,{key:_,active:_===p,children:M(_),onChange:()=>t(_),className:oe}))},[O,le,p,t]),Sr=(0,u.useMemo)(()=>u.default.createElement(u.default.Fragment,null,me,u.default.createElement("div",{className:ie.spacer}),u.default.createElement(y,{font:"caption",color:{base:"textSecondary",hover:s?"textPrimary":void 0},children:h,onPress:s}),u.default.createElement("div",{className:ie.filters},ce)),[h,ce,s,me]),br=(0,u.useMemo)(()=>{if(e.warnings.length!==0)return u.default.createElement(Ze,{warnings:e.warnings})},[e.warnings]);return u.default.createElement(Q,{perspective:r,input:wr,selectorIcon:fr,selectorLabel:f.data?.symbol??"",onSelectorPress:a,accessories:Sr,footer:br})};n();i();var q=k(T());var or=({onSelectorTap:e,perspective:r})=>{let{t:o}=S();return q.default.createElement(Q,{perspective:r,input:q.default.createElement(H,{hasWarning:!1,fontSize:32},q.default.createElement(W,{name:"amount",border:"0",placeholder:"0",warning:!1,value:"",decimalLimit:0,disabled:!0,onUserInput:()=>{}})),selectorIcon:q.default.createElement($,{icon:"Plus",size:28,shape:"circle",color:"textPrimary",backgroundColor:"bgArea"}),selectorLabel:o("commandSelect"),onSelectorPress:e,accessories:q.default.createElement(y,{font:"caption",color:"textSecondary",children:"$0"})})};n();i();var w=k(T());var ae={filters:b({display:"flex",flexDirection:"row",alignItems:"center",gap:4,marginLeft:2}),secondaryContainer:b({display:"flex",flexDirection:"row",alignItems:"center",gap:6}),currencyPrefix:b({marginRight:2}),accessoryContainer:b({alignItems:"center",display:"flex",flexDirection:"row",gap:6,marginTop:6}),spacer:b({flex:1})},hr=[.5,1],tr=({perspective:e})=>{let{t:r}=S(),o=(0,w.useMemo)(()=>{let s=Number(ye.typography.font.heading3.fontSize.replace("px",""));return w.default.createElement(H,{fontSize:s},w.default.createElement(W,{name:"amount",border:"0",placeholder:"0",warning:!1,value:e==="sell"?"":"0",onUserInput:()=>{}}))},[e]),a=(0,w.useMemo)(()=>w.default.createElement(y,{font:"caption",color:"textSecondary",children:"$0"}),[]),t=(0,w.useMemo)(()=>{let s=m=>{switch(m){case .25:return"25%";case .5:return"50%";case 1:return r("swapAssetCardMaxButton")}};return hr.map(m=>w.default.createElement(j,{active:!1,children:s(m),onChange:()=>{},className:oe}))},[r]),l=(0,w.useMemo)(()=>w.default.createElement(w.default.Fragment,null,w.default.createElement("div",{className:ae.secondaryContainer},a,e==="sell"?w.default.createElement($,{icon:"SwapVertical",size:20,shape:"circle",backgroundColor:"gray",color:"textSecondary"}):null),w.default.createElement("div",{className:ae.spacer}),w.default.createElement(xe,{font:"caption",width:64}),e==="sell"?w.default.createElement("div",{className:ae.filters},t):null),[t,a,e]);return w.default.createElement(Q,{perspective:e,input:o,isLoading:!0,selectorIcon:null,selectorLabel:"",onSelectorPress:()=>{},accessories:l})};var nr={container:b({display:"flex",flexDirection:"column",flex:1}),assets:b({gap:12,display:"flex",flexDirection:"column"})},ir=({onSelectAsset:e,isLoadingInitialAssets:r})=>{let{buy:o,sell:a,switchPerspective:t,setAmount:l,switchCurrencyDenomination:s,setFilter:m}=De(),{t:h}=S(),f=(0,F.useCallback)(P=>{K.startTrace("switchButtonClick",P),t()},[t]),v=(0,F.useCallback)(async(P,d)=>{await we.capture("swapperSwapDefaultQuoteSelected",{data:{quotePercentageValue:P}}),m(P,d)},[m]),N=(0,F.useMemo)(()=>[{perspective:"sell",asset:a},{perspective:"buy",asset:o}].map(({asset:P,perspective:d})=>{if(!P)return F.default.createElement(or,{key:d+"select",perspective:d,onSelectorTap:()=>e(d)});if(r)return F.default.createElement(tr,{key:d+"loading",perspective:d});let V=P.filters.length>0?()=>m(1,d):void 0,E=F.default.createElement(rr,{key:d,asset:P,perspective:d,switchCurrencyDenomination:s,onFungibleTap:()=>e(d),onInputChange:p=>{l(d,p)},onFilterTap:p=>v(p,d),onBalanceTap:V});return d==="buy"?F.default.createElement(g,{position:"relative",key:d+"swap-button"},E,F.default.createElement("div",{className:Je,style:{pointerEvents:"none"}},F.default.createElement(he,{label:h("swapperSwitchTokens"),size:je,shape:"circle",onClick:f,backgroundColor:{base:"accentPrimary",hover:"accentPrimaryLight"},icon:"SwapVertical"}))):E}),[a,o,r,s,v,e,l,m,f,h]);return F.default.createElement("div",{className:nr.container},F.default.createElement("div",{className:nr.assets},N))};n();i();var x=k(T());var Cr=x.default.memo(({rankAlgo:e,limit:r})=>{let{t:o}=S(),a=fe(),t=G(p=>p.sortBy),l=G(p=>p.sortDirection),s=G(p=>p.timeFrame),m=G(p=>p.network),{data:h,error:f,isLoading:v,refetch:N}=be({sortBy:t,sortDirection:l,timeFrame:s,limit:r,rankAlgo:e,network:m}),{pushDetailView:P}=_e(),d=(0,x.useCallback)(({item:p,index:O})=>{let X=ue({chainId:p.chainId,address:p.address,resourceType:"address"});a.capture("onExploreListItemClickedByUser",{data:{explore:{context:"swap",listName:"tokens",itemDetails:{position:O,title:p.name||p.symbol,id:`${p.address}-${p.chainId}`}}}}),P(x.default.createElement(Ue,{caip19:X,title:p.name??void 0,entryPoint:"exploreInSwap"}))},[a,P]),V=!!f||h?.items.length===0,E=v||typeof h>"u";return x.default.createElement(g,{direction:"column",paddingTop:24,flex:1},x.default.createElement(g,{paddingX:"screen",paddingBottom:10},x.default.createElement(y,{font:"title2",color:"textPrimary"},o("exploreTokens"))),x.default.createElement(Ge,{isError:V,isLoading:E,refetch:N,filters:x.default.createElement(Xe,null),listHeader:x.default.createElement(qe,null),rows:(h?.items??[]).map((p,O)=>({...Ke({item:p,sortBy:t,image:x.default.createElement(Ye,{index:O,displayRank:!0,image:x.default.createElement(J,{image:{type:"fungible",src:p.logoUrl,fallback:p.symbol||p.name},size:48,badge:{type:"network",preset:Y.getChainID(p.chainId)}})})}),onClick:()=>d({item:p,index:O})}))}))});function vr(){let e=Se("tokens");return e?x.default.createElement(Qe,{sortByOptions:e.sortBy,sortBy:e.sortByDefault,sortDirection:e.sortDirectionDefault,networkOptions:e.network,network:e.networkDefault,timeFrameOptions:e.timeFrame,timeFrame:e.timeFrameDefault},x.default.createElement(Cr,{rankAlgo:e.rankAlgo,limit:10})):null}var ar=x.default.memo(vr);n();i();var lr=k(T());n();i();var sr=k(T());var Pr={autoSlippageOptIn:"autoSlippageOptIn"},pr=()=>{let{handleShowModalVisibility:e}=re();return(0,sr.useCallback)(r=>{let o=Pr[r];if(!o)throw new Error(`Swap review interceptor modal not found or configured for ${r}.`);e(o)},[e])};var mr=()=>{let{goToInsufficientBalance:e,goToSwapReview:r,goToSwapTermsOfService:o,goToConfirmation:a}=He(),t=pr(),{disabled:l,title:s,type:m,onClick:h}=Ee({goToInsufficientBalance:e,goToSwapReview:r,goToSwapTermsOfService:o,goToConfirmation:a,showOverlay:t,showFungibleDetails:()=>{},showBuyFungibleScreen:()=>{},navigateToSwapper:()=>{}});function f(v){return v==="primary"?"primary":v==="alert"?"warning":"default"}return lr.default.createElement(ze,{type:"submit",theme:f(m),disabled:l,onClick:h,width:"90%"},s)};n();i();var z=k(T());n();i();var D=k(T());var kr=I.div`
  overflow-y: "scroll";
  padding-top: 16px;
`,Tr=I.fieldset.attrs({disabled:!0})`
  pointer-events: none;
  user-select: none;
`,Ir=I.div`
  position: absolute;
  z-index: 1;
  top: 0;
  height: 100vh;
  width: 100%;
  background-color: ${te("#222222",.75)};
`,cr=I.div`
  background-color: ${te("#E5A221",.7)};
  padding: 12px 15px;
  position: absolute;
  /* TODO: change 15px to 16px and create a screen padding constant like on mobile */
  top: -15px;
  left: -15px;
  right: 15px;
  width: calc(100% + 2 * 15px);
`,dr=I(ne).attrs({size:14,lineHeight:19,weight:500,color:"#fff",textAlign:"left"})``,se=({message:e,swapDisabled:r=!0,children:o})=>r?D.default.createElement(D.default.Fragment,null,D.default.createElement(Ir,{"data-testid":"disable-overlay"},D.default.createElement(cr,null,D.default.createElement(dr,null,e))),D.default.createElement(Tr,{"data-testid":"disable-wrapper"},o)):D.default.createElement(kr,null,D.default.createElement(cr,null,D.default.createElement(dr,null,e)),D.default.createElement(D.default.Fragment,null,o));var Ar=I.div`
  display: flex;
  flex: 1;
  padding-bottom: 16px;
  margin-bottom: -16px; // fix extension padding issue when scrollable or not
`,ur=z.default.memo(({children:e})=>{let r=ge(),o=r.every(m=>Y.isMainnetNetworkID(m)),t=Te().some(m=>r.includes(m)),{t:l}=S(),s=(0,z.useMemo)(()=>({availableOnlyOnMainnet:l("swapAvailableOnMainnet"),notAvailableOnSelectedNetwork:l("swapNotAvailableOnSelectedNetwork")}),[l]);return o?t?z.default.createElement(Ar,null,e):z.default.createElement(se,{message:s.notAvailableOnSelectedNetwork,swapDisabled:!0},e):z.default.createElement(se,{message:s.availableOnlyOnMainnet,swapDisabled:!0},e)});var Fr=I(R)`
  position: fixed;
  bottom: 70px;
  left: 16px;
  padding: 16px;
`,Dr=()=>{let[e]=We(),r=e.get("sellFungible")??void 0,o=e.get("sellAmount")??void 0,a=e.get("buyFungible")??void 0,t=Ne(),{getSwapQuotesStrategy:l,onSwapTabExit:s}=Be();Fe({getSwapQuotesStrategy:l,skipInitialBuyFungible:!0}),Ie();let{isLoading:m}=Ae({paramsSellFungible:r,paramsSellAmount:o,paramsBuyFungible:a});return(0,c.useLayoutEffect)(()=>()=>{s(),t()},[s,t]),{isLoadingInitialAssets:m}},Nr=({isLoadingInitialAssets:e})=>{let{t:r}=S(),{quoteResponse:o,hasNoRoutes:a}=ke(),{handleShowModalVisibility:t}=re(),l=(0,c.useCallback)(v=>{t(v==="sell"?"swapSellAssetSelect":"swapBuyAssetSelect")},[t]),s=Oe({goToAssetSelect:l}),m=(0,c.useCallback)(()=>{t("messageOverlay",{title:r("swapProviderAutoUpdateTitle"),message:r("swapProviderAutoUpdateMessage")})},[t,r]);Me({showDefaultAutoProvider:m});let h=(0,c.useMemo)(()=>c.default.createElement(ir,{onSelectAsset:s,isLoadingInitialAssets:e}),[e,s]),f=(0,c.useMemo)(()=>!o&&!a,[o,a]);return c.default.createElement(ur,null,c.default.createElement(R,{justify:"space-between",flex:1},c.default.createElement(R,{align:"normal",padding:"16px 16px 0 16px",margin:o?"0 0 70px 0":"0"},h,o||a?c.default.createElement($e,null):null),f?c.default.createElement(ar,null):null,c.default.createElement(Fr,null,o?c.default.createElement(Ve,{removeFooterExpansion:!1,cssOverride:Ce`
                background: #2b2b2b;
              `},c.default.createElement(mr,null)):null)))},Lr=()=>c.default.createElement(Le,null,c.default.createElement(Br,null)),Br=()=>{let{isLoadingInitialAssets:e}=Dr();return e?c.default.createElement(g,{gap:1},c.default.createElement(ee,{height:"120px",borderRadius:"8px 8px 0 0"}),c.default.createElement(ee,{height:"120px",borderRadius:"0 0 8px 8px"})):c.default.createElement(Nr,{isLoadingInitialAssets:e})},Wn=Lr;export{Wn as default};
//# sourceMappingURL=SwapTabPage-FY536M2E.js.map
