import{d as Jt}from"./chunk-3HSHFE64.js";import{a as tr,b as rr,c as or}from"./chunk-B6P2KUW6.js";import{a as Rt}from"./chunk-GQ2QBAVB.js";import{a as j,c as re,d as q,f as Zt,h as ve}from"./chunk-O7S62B4R.js";import{a as Qt,c as Xt}from"./chunk-SQ2J5G23.js";import{A as Bt,F as zt,L as _t,Q as Kt,R as $t,S as ze,T as jt,t as be}from"./chunk-DSGFIM4C.js";import{a as Gt}from"./chunk-FS5WEDFF.js";import{a as X}from"./chunk-NJHVGQ3T.js";import{a as Vt}from"./chunk-U3WYUBZV.js";import{b as Ce,g as qt}from"./chunk-2WTSXO3L.js";import{b as D,d as Nt,g as U}from"./chunk-6WTXMLHF.js";import{a as Yt}from"./chunk-DZ2NE3XW.js";import{f as Ct}from"./chunk-NGO5FOJW.js";import{a as It}from"./chunk-LEJK3SFC.js";import{a as er,b as sr}from"./chunk-RW2YJBDQ.js";import{e as Et}from"./chunk-O2GJOI3B.js";import{h as wt,i as Pt,j as At}from"./chunk-W27Z2YZM.js";import{a as Ht}from"./chunk-IVAERDLS.js";import{a as Wt,b as Dt,j as Ot,k as te}from"./chunk-5LRZ7IFN.js";import{A as Ut,D as Te,G as Lt,N as kt,db as M,p as Ne}from"./chunk-ATEHMOFB.js";import{e as w}from"./chunk-2P7VAWV5.js";import{J as xt,L as Tt,Oa as vt,Pa as Ft,rb as Mt}from"./chunk-RFHVH32K.js";import{a as ht,b as ee}from"./chunk-BB4NLGB2.js";import{a as xr}from"./chunk-BTKBODVJ.js";import{K as at,L as ct,N as xe,O as lt,U as dt,V as mt,g as it,ga as yt}from"./chunk-LWOUUIX7.js";import{g as Ze,h as Re,p as le}from"./chunk-ETHULGZP.js";import{a as bt}from"./chunk-IBEI3NGL.js";import{Fe as St,He,Jd as nt,Qd as $,Rd as pt,Wd as R,Xc as we,bd as et,be as ut,cd as tt,gb as De,gd as rt,nd as Oe,od as Pe,qd as Ae,rd as ot,sd as st,td as Z,ue as ft,we as Be,xe as gt}from"./chunk-ERHX3GUR.js";import{_ as b,c as ae,l as E,m as K,v as de}from"./chunk-X6EPTHBD.js";import{m as g}from"./chunk-FI5JCZQR.js";import{$ as V,B as Ye,ta as Je}from"./chunk-W476YZUB.js";import{p as Ge}from"./chunk-ZIPBM4OE.js";import{G as Qe,H as he,I as We,R as Xe}from"./chunk-HTY4DAML.js";import{a as L}from"./chunk-6MAAUKN7.js";import{f as C,h as m,i as v,m as Buffer,n as p}from"./chunk-3KENBVE7.js";m();p();var Ve=C(L());var nr=({value:e,onChange:r})=>{let{t}=g();return Ve.default.createElement(Tr,null,Ve.default.createElement(qt,{placeholder:t("assetListSearch"),value:e,onChange:s=>{"value"in s.target&&typeof s.target.value=="string"&&r(s.target.value)},showClearIcon:!!e,onClear:()=>{r("")}}))},Tr=w.div`
  padding: 14px 0 14px;
  background: #222;
  position: relative;
  border-bottom: none;

  &:after {
    content: "";
    position: absolute;
    bottom: 0;
    left: -20px;
    width: calc(100% + 40px);
    border-bottom: 1px solid #323232; // #474747
  }
`;m();p();var d=C(L());m();p();m();p();m();p();m();p();var J=C(L()),br=({navigateToPublicAddresses:e,toastController:r})=>{let{t}=g(),s=Z(),n=Be(),{PRIVACY_STATE_DISPLAY_METADATA:a}=Fe(),{mutateAsync:i}=Ae();return J.default.createElement(E,{direction:"column",width:"100%",gap:16},J.default.createElement(b,{rows:["public","private","invisible"].map(o=>{let{icon:f,title:S,description:l}=a[o],h=f,u=o===n;return{type:"radio",id:`privacy-state--${o}`,active:u,alignStartNodeItems:"ascender",start:J.default.createElement(h,{size:18,color:"accentPrimary"}),topLeft:{text:S},bottomLeft:{component:()=>J.default.createElement(K,{align:"left",font:"label",color:"textSecondary",children:l})},onPress:()=>{u||i({privacyState:o},{onSuccess:()=>{s.onPrivacyStateUpdated(o),r.success(t("settingsManageUserProfileUpdatePrivacyStateToast"),{id:"privacy-state-toast"})},onError:()=>r.error(t("settingsManageUserProfileUpdatePrivacyStateToastFailure"),{id:"privacy-state-toast"})})}}})}),J.default.createElement(b,{rows:[{type:"drawer",disabled:n==="invisible",start:J.default.createElement(ae.Search,{size:18,color:"accentPrimary"}),topLeft:{text:t("settingsClaimUsernameManageAddressesTitle")},topRight:n==="invisible"?{text:t("pastParticipleDisabled")}:void 0,onPress:e}]}))},Fe=()=>{let{t:e}=g(),r=Be(),t=(0,J.useMemo)(()=>({public:{title:e("settingsManageUserProfilePrivacyStatePublic"),icon:ae.Globe,description:e("settingsManageUserProfilePrivacyStatePublicDescription")},private:{title:e("settingsManageUserProfilePrivacyStatePrivate"),icon:ae.Lock,description:e("settingsManageUserProfilePrivacyStatePrivateDescription")},invisible:{title:e("settingsManageUserProfilePrivacyStateInvisible"),icon:ae.EyeOff,description:e("settingsManageUserProfilePrivacyStateInvisibleDescription")},hidden:{title:e("settingsManageUserProfilePrivacyStatePublic"),icon:ae.Globe,description:e("settingsManageUserProfilePrivacyStatePublicDescription")}}),[e]);return{currentPrivacyState:t[r],PRIVACY_STATE_DISPLAY_METADATA:t}};m();p();var me=C(bt()),G=C(L()),Cr=({AccountAvatar:e,toastController:r})=>{let{t}=g(),s=Z(),n=nt(),{data:a=[]}=$(),i=gt(),{mutateAsync:o,isPending:f}=Ae(),S=(0,G.useMemo)(()=>n.map(l=>{let h=De.getChainID(l),F=a.filter(I=>I.addresses.some(k=>(0,me.default)(k.networkID,l))).map(I=>{let k=a.findIndex(P=>(0,me.default)(P.identifier,I.identifier)),y=I.addresses.find(P=>(0,me.default)(P.networkID,l))?.address;if(!y)throw new Error(`Unable to find address for Chain (${l}) in account: ${I.identifier}`);let x=I.addresses.some(P=>(0,me.default)(i?.[l],P.address));return{start:G.default.createElement(e,{size:"small",accountIcon:I.icon,accountIndex:k,accountName:I.name}),topLeft:{text:I.name,font:"body"},bottomLeft:{text:Re(y||"")},active:x,disabled:f,type:"radio",onPress:async()=>{try{let P={...i,[l]:y};await o({addresses:P}),r.success(t("settingsManageUserProfileUpdatePublicAddressToast")),s.onPublicAddressesUpdated(Object.entries(P).filter(([A,z])=>!!z).map(([A])=>A))}catch(P){V.captureError(P,"account"),r.error(t("settingsManageUserProfileUpdatePublicAddressToastFailure"))}}}});return F.length===1&&F[0]?.type==="check"&&F[0]?.active&&(F[0].disabled=!0),G.default.createElement(E,{key:l,direction:"column",gap:16},G.default.createElement(E,{direction:"row",gap:12,alignItems:"center",justifyContent:"flex-start"},G.default.createElement(Vt,{networkID:l,size:24}),G.default.createElement(K,{font:"captionSemibold",color:"textPrimary",children:t(De.getChainName(h))})),G.default.createElement(b,{rows:F}))}),[e,a,n,f,s,o,i,t,r]);return G.default.createElement(E,{direction:"column",width:"100%",gap:24},S)};m();p();var _e=C(bt()),ce=C(L()),vr=({AccountAvatar:e,toastController:r})=>{let{t}=g(),s=Z(),{data:n=[]}=$(),{data:a}=Pe(),{mutateAsync:i}=ot(),{mutateAsync:o}=st(),f=(0,ce.useMemo)(()=>n.filter(S=>Ze(S)).map(S=>{let l=n.findIndex(u=>(0,_e.default)(u.identifier,S.identifier)),h=a?.some(u=>(0,_e.default)(u.accountHash,S.identifier))||!1;return{type:"check",active:h,start:ce.default.createElement(e,{size:"small",accountIcon:S.icon,accountIndex:l,accountName:S.name}),topLeft:{text:S.name,font:"body"},onPress:async()=>{try{let u=a?.length??0;h?(await o(S.identifier),u--):(await i(S.identifier),u++),r.success(t("settingsManageUserProfileUpdateLinkedWalletsToast")),s.onLinkedWalletsUpdated(u,n.length)}catch(u){V.captureError(u,"account"),r.error(t("settingsManageUserProfileUpdateLinkedWalletsToastFailure"))}}}}),[e,n,s,o,a,t,r,i]);return ce.default.createElement(E,{width:"100%"},ce.default.createElement(b,{rows:f}))};m();p();var oe=C(L()),Fr=({getAuthFactorRow:e,toastController:r})=>{let{t}=g(),s=Z(),{data:n=[]}=$(),{data:a=[]}=R("all"),{data:i}=we(),o=Object.values(i||{}).filter(y=>y?.isExistingAuthFactor).length,{mutateAsync:f}=et(),{mutateAsync:S}=tt(),[l,h]=(0,oe.useMemo)(()=>{let y=Object.keys(i||{}),x=new Set,P=new Set;for(let A of n)A.type==="seed"||A.type==="seedless"?A.seedIdentifier&&y.includes(A.seedIdentifier)&&x.add(A.seedIdentifier):A.type==="privateKey"&&A.privateKeyIdentifier&&y.includes(A.privateKeyIdentifier)&&P.add(A.privateKeyIdentifier);return[[...x],[...P]]},[n,i]),u=(0,oe.useCallback)(async y=>{try{let x=o;i?.[y]?.isExistingAuthFactor?(await S({authenticationPublicKey:i[y]?.authenticationPublicKey}),x--):(await f({secretIdentifier:y}),x++),r.success(t("settingsManageUserProfileUpdateAuthFactorsToast")),s.onAuthFactorsUpdated(x,l.length+h.length)}catch(x){V.captureError(x,"account"),r.error(t("settingsManageUserProfileUpdateAuthFactorsToastFailure"))}},[f,i,s,S,t,r,o,h.length,l.length]),F=l.map(y=>{let x=le(n,y).length,P=i?.[y]?.isExistingAuthFactor??!1,A=P&&o===1,z=a.findIndex(ie=>ie.identifier===y);return e({accountTypePrefix:t("addAccountSecretPhraseDefaultLabel",{number:z+1}),numberOfAccountsText:x===1?t("settingsClaimUsernameNoOfAccountsSingular"):x>0?t("settingsClaimUsernameNoOfAccounts",{noOfAccounts:x}):t("settingsClaimUsernameEmptyAccounts"),secretId:y,isActive:P,accounts:n,onSelect:u,disabled:A})}),I=h.map((y,x)=>{let P=le(n,y).length,A=i?.[y]?.isExistingAuthFactor??!1,z=A&&o===1;return e({accountTypePrefix:t("addAccountPrivateKeyDefaultLabel",{number:x+1}),numberOfAccountsText:P?t("settingsClaimUsernameNoOfAccounts",{noOfAccounts:P}):t("settingsClaimUsernameEmptyAccounts"),secretId:y,isActive:A,accounts:n,onSelect:u,disabled:z})}),k=[...F,...I];return oe.default.createElement(E,{width:"100%"},oe.default.createElement(b,{rows:k}))};m();p();var _=C(L());var Mr=({navigateToEditUsername:e,navigateToAuthFactors:r,navigateToEditBiography:t,navigateToSyncedAccounts:s,navigateToPrivacyState:n,navigateToFollowers:a})=>{let{t:i}=g(),{data:[o]}=Je(["enable-edit-username"]),f=ft(),{data:S,isPending:l}=Oe(),h=S?.biography,{data:u,isPending:F}=we(),I=Object.values(u||{}),k=I.filter(T=>T?.isExistingAuthFactor)?.length?.toString(),y=F||I?.length===0,{data:x,isPending:P}=Pe(),A=P?void 0:x?.length?.toString()||"0",{currentPrivacyState:z}=Fe(),ie=z?.icon,{data:ge}=Oe(),{isPending:Se}=xt(ge?.id),{formattedFollowers:ye}=Tt(ge?.id),Ee=(0,_.useMemo)(()=>{let T=[];return o?T.push({type:"drawer",topLeft:{text:i("settingsManageUserProfileAboutUsername")},topRight:f&&{text:`@${f}`},onPress:e}):T.push({topLeft:{text:i("settingsManageUserProfileAboutUsername")},topRight:f&&{text:`@${f}`}}),t&&T.push({type:"drawer",topLeft:{text:i("settingsManageUserProfileAboutBio")},topRight:{text:h},disabled:l,onPress:t}),T},[h,l,t,e,i,f,o]),Ue=(0,_.useMemo)(()=>{let T=[{type:"drawer",topLeft:{text:i("settingsManageUserProfileAuthFactors")},topRight:!y&&{text:k},disabled:y,onPress:r},{type:"drawer",topLeft:{text:i("settingsManageUserProfileLinkedWallets")},topRight:A&&{text:A},disabled:P,onPress:s},{type:"drawer",topLeft:{text:i("settingsManageUserProfilePrivacy")},topRight:!l&&{text:z.title,before:_.default.createElement(ie,{size:16,color:"textSecondary"})},disabled:l,onPress:n}];return a&&T.unshift({type:"drawer",topLeft:{text:i("followers")},topRight:{text:ye},disabled:Se,onPress:a}),T},[ie,y,z.title,k,ye,Se,P,l,r,a,n,s,A,i]);return _.default.createElement(E,{gap:24,width:"100%"},_.default.createElement(E,{gap:"section",width:"100%"},_.default.createElement(K,{font:"bodySemibold",color:"textSecondary",children:i("settingsManageUserProfileAbout")}),_.default.createElement(b,{rows:Ee})),_.default.createElement(E,{gap:"section",width:"100%"},_.default.createElement(K,{font:"bodySemibold",color:"textSecondary",children:i("settingsManageUserProfileManage")}),_.default.createElement(b,{rows:Ue})))};m();p();var Y=C(L()),$e=Y.default.memo(({type:e,onSuccess:r,isMobile:t=!1})=>{let{t:s}=g(),[n,a]=Y.default.useState(!1),i=e==="privateKey",o=s(i?"exportSecretPrivateKey":"exportSecretRecoveryPhrase"),f=i?"exportPrivateKey":"exportMnemonic",S=(0,Y.useMemo)(()=>[{key:"warning-1",icon:Y.default.createElement(de,{icon:"Key",backgroundColor:"accentAlert",shape:"square"}),title:s("exportSecretOnlyWayDescription",{secretNameText:o})},{key:"warning-2",icon:Y.default.createElement(de,{icon:"EyeOff",backgroundColor:"accentAlert",shape:"square"}),title:s("exportSecretDoNotShowDescription",{secretNameText:o})},{key:"warning-3",icon:Y.default.createElement(de,{icon:"AlertOctagon",backgroundColor:"accentAlert",shape:"square"}),title:s("exportSecretNeverShareDescription",{secretNameText:o})}],[s,o]);return Y.default.createElement(Bt,{marginX:t?0:"-16",marginBottom:t?0:"-16",mobileTitleSheetInset:t,image:Y.default.createElement(de,{icon:"ShieldWarning",size:64,backgroundColor:"accentAlert",shape:"circle"}),title:s("exportSecretShowSecretRecoveryPhraseModalTitle",{secretNameText:o}),items:S,primaryButton:{theme:"secondary",children:s("commandContinue"),onAction:r,disabled:!n,testID:"primary-button"},displayEvent:{event:f},footer:{checkbox:{shape:"square",label:{text:s("exportSecretWillNotShare",{secretNameText:o})},checked:n,onChange:()=>a(l=>!l),id:"export-secret-warning-checkbox",testID:"export-secret-warning-checkbox"}}})});var pe=C(L());var ir=({onSuccess:e,type:r})=>{let{t}=g(),s=r==="privateKey",n=t(s?"exportSecretShowPrivateKey":"exportSecretShowSecretRecoveryPhrase");return pe.default.createElement(pe.default.Fragment,null,pe.default.createElement(U,{shouldWrap:!0},n),pe.default.createElement($e,{onSuccess:e,type:r}))};m();p();var B=C(L());m();p();var se=C(L());var ar=se.default.memo(({indexes:e,wordlist:r})=>se.default.createElement(Ur,null,e.length&&r.length?e.map((t,s)=>se.default.createElement(Ir,{key:s},se.default.createElement(Lr,null,`${s+1}.`),se.default.createElement(kr,{"data-testid":`secret-recovery-phrase-word-input-${s}`,readOnly:!0,autoComplete:"off",autoCorrect:"off",spellCheck:!1,value:r[t],pattern:"[A-Za-z\\s]+"}))):Array.from({length:e?e.length:12},(t,s)=>se.default.createElement(Er,{key:s})))),Ir=w(X).attrs({align:"center",justify:"center"})`
  color: #fff;
  background: #181818;
  border: 1px solid #2f2f2f;
  border-radius: 6px;
  box-shadow: 0 0 4px 0 rgba(0, 0, 0, 0.25);
  align-self: center;
  height: 41px;
`,Er=w(Gt).attrs({backgroundColor:"#484848",borderRadius:"6px",height:"41px"})``,Ur=w.div`
  display: grid;
  grid-template-columns: 1fr 1fr 1fr;
  row-gap: 10px;
  column-gap: 4.5px;
  width: 100%;
`,Lr=w(M).attrs({size:14,weight:400,color:"#999999"})`
  padding-left: 8px;
  padding-right: 2px;
`,kr=w.input`
  color: #fff;
  background: none;
  border: none;
  width: 100%;
  font-size: 14px;
  font-weight: 500;
  padding: 0;
`;m();p();var ue=C(L());var cr=({type:e})=>{let{t:r}=g(),t=e==="privateKey"?r("exportSecretPrivateKey"):r("exportSecretRecoveryPhrase");return ue.default.createElement(Wr,{"data-testid":`warning-island-${e}`},ue.default.createElement(zt,{color:"#EB3742",title:ue.default.createElement(Ht,{i18nKey:"exportSecretWarningPrimaryInterpolated",values:{secretNameText:t}},"Do ",ue.default.createElement("u",null,"not")," share your ",t,"!"),description:r("exportSecretWarningSecondaryInterpolated",{secretNameText:t})}))},Wr=w.div`
  margin-bottom: 20px;
`;var lr=({accountIdentifier:e,password:r})=>{let{t}=g(),{popDetailView:s}=D(),[{indexes:n,wordlist:a},i]=(0,B.useState)({indexes:[],wordlist:[]}),{data:o}=pt(e);return(0,B.useEffect)(()=>{(async()=>{if((o?.type==="seed"||o?.type==="seedless")&&o?.seedIdentifier)try{let f=await r.foldAsync(u=>Et(Buffer.from(u).toString("utf-8"),o.seedIdentifier));if(!f)throw new Error("Could not get mnemonic");let S=await It(),l=f.fold(S.fromEntropy),h=Array.from(await l.getIndexes());i({indexes:h,wordlist:S.wordlist}),V.addBreadcrumb("account",`\u2705 Exported S*ed for Account: ${e}`,"info"),ee.capture("exportMnemonic")}catch{throw V.addBreadcrumb("account",`\u{1F6AB} Failed to Export S*ed for Account: "${e}", account: "${JSON.stringify(o)}"`,"error"),new Error("Could not get mnemonic")}else V.addBreadcrumb("account",`\u{1F6AB} Failed to Export S*ed: Account: "${JSON.stringify(o)}"`,"error")})()},[o,e,r]),B.default.createElement(B.default.Fragment,null,B.default.createElement(U,{shouldWrap:!0},t("exportSecretYourSecretRecoveryPhrase")),B.default.createElement(j,null,B.default.createElement(q,null,B.default.createElement(cr,{type:"mnemonic"}),B.default.createElement(ar,{indexes:n,wordlist:a}))),B.default.createElement(Ot,{onClick:()=>{s(),s(),s()}},t("pastParticipleDone")))};m();p();var c=C(L());var je=({navigationCallback:e})=>{let{t:r}=g(),{data:t=[]}=$(),{data:s=[]}=R("all"),a=!(s?.length>0),i=He(l=>l.editableAccountMetadata),o=He(l=>l.setEditableAccountMetadata),f=(0,c.useCallback)(l=>{o&&o({...i,seedIdentifier:l})},[i,o]),S=(0,c.useCallback)(l=>{f(l),e(l)},[f,e]);return c.default.createElement(c.default.Fragment,null,c.default.createElement(U,{icon:c.default.createElement(Lt,{fill:"#777"})},r("settingsSelectSecretPhrase")),c.default.createElement(j,null,a?c.default.createElement(K,{children:r("addAccountNoSecretPhrases"),font:"labelBold"}):c.default.createElement(E,{gap:8},c.default.createElement(Br,null,s?.map((l,h)=>c.default.createElement(Dr,{key:`seed-select-${l.identifier}`,accounts:le(t,l.identifier),seedIdentifier:l.identifier,onClick:S,index:h}))))))},Dr=({accounts:e,seedIdentifier:r,index:t,onClick:s})=>{let{t:n}=g(),[a,i]=(0,c.useState)(!1),[o,f]=(0,c.useState)(!1),S=(0,c.useCallback)(()=>{i(!a)},[a,i]),l=(0,c.useCallback)(()=>{o||s(r)},[o,s,r]),h=(0,c.useMemo)(()=>e.length>1?n(a?"addAccountHideAccountsForSeed":"addAccountShowAccountsForSeed",{numOfAccounts:e.length}):e.length===1?n(a?"addAccountHideAccountForSeed":"addAccountShowAccountForSeed"):n("addAccountZeroAccountsForSeed"),[e.length,a,n]),u=(0,c.useMemo)(()=>e.length>=1?{onMouseEnter:()=>f(!0),onMouseLeave:()=>f(!1),onClick:S}:null,[e.length,S]);return c.default.createElement(Hr,{onClick:l},c.default.createElement(mr,null,c.default.createElement(Nr,null,c.default.createElement(zr,null,c.default.createElement(Vr,null,n("addAccountSecretPhraseDefaultLabel",{number:t+1})),c.default.createElement(Kr,{...u},h)),c.default.createElement(X,{width:"fit-content"},c.default.createElement(pr,null,c.default.createElement(Ne,{fill:"#777",width:10})))),c.default.createElement(Or,{accounts:e,expanded:a})))},Or=({accounts:e,expanded:r})=>{let[t,{height:s}]=Ct(),n=(0,c.useMemo)(()=>({initial:{opacity:0,height:0},animate:{opacity:1,height:s},exit:{opacity:0,height:0},transition:{delay:0,duration:.2}}),[s]);return c.default.createElement(Dt,{mode:"wait"},r&&e.length>0&&c.default.createElement(dr,{...n},c.default.createElement(dr,{ref:t},c.default.createElement($r,null,e.map((a,i)=>c.default.createElement(X,{key:`account-${a.identifier}`,justify:"flex-start"},c.default.createElement(Rt,{size:24,accountIcon:a.icon,accountName:a.name,accountIndex:i}),c.default.createElement(_r,{style:{marginLeft:6}},a.name)))))))},Br=w.div`
  display: flex;
  flex-direction: column;
  align-items: flex-start;
  justify-content: flex-start;
  gap: 12px;
`,Hr=w(X).attrs({align:"center"})`
  position: relative;
  cursor: pointer;
  background-color: #2a2a2a;
  border-radius: 8px;
  &:hover {
    background-color: #333;
  }
`,Nr=w(X).attrs({justify:"space-between"})`
  padding: 15px;
`,zr=w.div`
  display: flex;
  flex-direction: column;
  align-items: flex-start;
  justify-content: flex-start;
`,Vr=w(M).attrs({size:16,weight:500,lineHeight:19})``,_r=w(M).attrs({size:15,weight:500,lineHeight:19})``,Kr=w(M).attrs({size:13,weight:500,lineHeight:19})`
  color: #ab9ff2;
  margin-top: 2px;
`,mr=w.div`
  display: flex;
  flex-direction: column;
  width: 100%;
`,$r=w(mr)`
  border-top: 1px solid #222222;
  padding: 15px;
  align-items: flex-start;
  gap: 12px;
`,dr=w(Wt.div)`
  overflow: hidden;
`,Mn=({accounts:e,seedMetas:r,onClick:t,selectedSeedIdentifier:s})=>{let{t:n}=g(),a=(0,c.useMemo)(()=>{if(!r||!s)return 0;let o=r.find(f=>f.identifier===s);return o?r.indexOf(o):0},[r,s]),i=(0,c.useMemo)(()=>!e||!s?[]:e.filter(o=>(o.type==="seed"||o.type==="seedless")&&o.seedIdentifier===s),[e,s]);return c.default.createElement(jr,null,c.default.createElement(Qr,null,n("addAccountSecretPhraseLabel")),c.default.createElement(qr,{onClick:t,"data-testid":"select-secret-phrase-button"},c.default.createElement(X,{justify:"space-between"},c.default.createElement(X,null,c.default.createElement(Gr,null,n("addAccountSecretPhraseDefaultLabel",{number:a+1})," ",c.default.createElement(Yr,null,"(",i.length>1?n("addAccountNumAccountsForSeed",{numOfAccounts:i.length}):n("addAccountOneAccountsForSeed"),")"))),c.default.createElement(pr,null,c.default.createElement(Ne,{fill:"#777",width:10})))),c.default.createElement(ur,null,n("addAccountSelectSeedDescription")))},jr=w(Qt)`
  width: 100%;
  position: relative;
`,qr=w(Xt)`
  padding: 8px 16px 8px 12px;
`,pr=w.div`
  svg {
    transform: rotate(270deg) translateX(2px);
  }
`,Gr=w(M).attrs({size:16,weight:400,lineHeight:19})``,Yr=w(M).attrs({size:16,weight:400,lineHeight:19,as:"span"})`
  display: inline-flex;
  padding: 0 8px;
  color: #777777;
`,ur=w(M).attrs({size:14,weight:400,lineHeight:19,textAlign:"left"})`
  margin-top: 8px;
  color: #777777;
`,Qr=w(ur)`
  margin-top: 24px;
  margin-bottom: 8px;
  display: flex;
  align-items: center;
  svg {
    margin-left: 6px;
  }
`;m();p();var Q=C(L());var fe=[0,1,5,10,15,30,60,240,480],fr=()=>{let{t:e}=g(),{popDetailView:r}=D(),{data:t}=xe(),{mutateAsync:s}=lt(),n=(0,Q.useCallback)(async i=>{try{let o=We(i);await s({lockTimeInMs:o}),ee.capture("changeLockTimerDuration",{data:{mins:i}}),r(),t!==o&&be.success(e("changeLockTimerToast"))}catch(o){console.error(o)}},[t,r,s,e]),a=(0,Q.useMemo)(()=>{if(t===void 0)return[];let i=Qe(t);return Xr(i),fe.map(o=>({topLeft:{text:he(e,We(o))},active:i===o,type:"check",onClick:()=>n(o)}))},[t,n,e]);return Q.default.createElement(Q.default.Fragment,null,Q.default.createElement(U,null,e("changeLockTimerPrimaryText")),Q.default.createElement(j,null,Q.default.createElement(b,{rows:a})))},Xr=async e=>{if(!fe.includes(e)){let r=fe.findIndex(t=>t>e);r?fe.splice(r,0,e):fe.push(e)}};m();p();var W=C(L());var Jr={currentPassword:"",password:"",confirmPassword:""},Zr={currentPassword:void 0,password:void 0,confirmPassword:void 0},gr=()=>{let{t:e}=g(),{popDetailView:r}=D(),[t,s]=(0,W.useState)(Jr),{currentPassword:n,password:a,confirmPassword:i}=t,[o,f]=(0,W.useState)(Zr),S=o.password??o.confirmPassword??o.currentPassword,l=!n||!a||!i,[h,u]=(0,W.useState)(!1),F=k=>{let y=k.currentTarget.name,x=k.currentTarget.value;s({...t,[y]:x})};return W.default.createElement(ve,{onSubmit:async k=>{k.preventDefault(),u(!0);let y,x=tr(a)??or(n,a),P=rr(a,i);if(x||P)return f({...o,password:x,confirmPassword:P}),u(!1);try{if(!await Kt(n))throw new Error("Incorrect password");await $t(i),u(!1),r(),be.success(e("changePasswordToast"))}catch(A){V.captureError(A,"account"),y=A?.message.includes("Incorrect password")?e("changePasswordErrorIncorrectCurrentPassword"):e("changePasswordErrorGeneric"),f({...o,currentPassword:y}),u(!1)}}},W.default.createElement(U,null,e("changePasswordPrimaryText")),W.default.createElement(re,{size:"large"},W.default.createElement(q,null,W.default.createElement(Ut,null),W.default.createElement(M,{size:26,weight:500},e("changePasswordPrimaryText")),W.default.createElement(Zt,null,W.default.createElement(Ce,{type:"password",name:"currentPassword",placeholder:e("changePasswordCurrentPassword"),warning:!!o.currentPassword,onChange:F}),W.default.createElement(Ce,{type:"password",name:"password",placeholder:e("changePasswordNewPassword"),warning:!!o.password,onChange:F}),W.default.createElement(Ce.WithWarning,{type:"password",name:"confirmPassword",placeholder:e("changePasswordConfirmNewPassword"),warning:!!o.confirmPassword,warningMessage:S,onChange:F}))),W.default.createElement(te,{primaryText:e("commandSave"),secondaryText:e("commandCancel"),onSecondaryClicked:r,primaryDisabled:l||h,primaryLoading:h})))};m();p();var O=C(L());var Rr=w.div`
  border: 1px solid #ffdc62;
  border-radius: 6px;
  padding: 8px 16px;
`,Sr=O.default.memo(()=>{let{t:e}=g(),{downloadLogs:r,goSupportDesk:t,isFetching:s}=sr();return O.default.createElement(ve,{onSubmit:r},O.default.createElement(U,null,e("settingsDownloadApplicationLogs")),O.default.createElement(re,{size:"medium"},O.default.createElement("div",null),O.default.createElement(q,null,O.default.createElement(Yt,{diameter:96,color:Xe("#AB9FF2",.1)},O.default.createElement(kt,null)),O.default.createElement(M,{size:28,weight:500,lineHeight:34,margin:"20px 0 0",maxWidth:"280px"},e("settingsDownloadApplicationLogs")),O.default.createElement(M,{size:16,color:"#777777",lineHeight:19,margin:"0 0 4px"},e("settingsDownloadApplicationLogsHelper")),O.default.createElement(Rr,null,O.default.createElement(M,{size:14,color:"#FFDC62",lineHeight:20,weight:500},e("settingsDownloadApplicationLogsWarning")))),O.default.createElement(te,{primaryDisabled:s,primaryText:e("commandDownload"),secondaryText:e("settingsSupportDesk"),onSecondaryClicked:t})))});m();p();var H=C(L());var yr=({seedIdentifier:e})=>{let{t:r}=g(),{hideSettingsMenu:t}=Nt(),{mutate:s}=ut(),{data:n=[]}=R("all"),a=n.findIndex(f=>f.identifier===e)??0,i=(0,H.useCallback)(()=>{s({seedIdentifier:e}),ee.capture("walletSeeds",{data:{numOfSeeds:n?.length}}),t()},[t,s,e,n]),{popDetailView:o}=D();return H.default.createElement(H.default.Fragment,null,H.default.createElement(U,null,r("settingsRemoveSecretPhrase")),H.default.createElement(re,{size:"large"},H.default.createElement("div",null),H.default.createElement(q,null,H.default.createElement(Te,null),H.default.createElement(M,{size:28,weight:500,lineHeight:34},r("removeSeedPrimaryText",{number:a+1})),H.default.createElement(M,{size:16,color:"#777777",lineHeight:19,maxWidth:"312px"},r("removeSeedSecondaryText",{number:a+1}))),H.default.createElement(te,{primaryText:r("commandContinue"),secondaryText:r("commandCancel"),primaryTheme:"primary",onPrimaryClicked:i,onSecondaryClicked:o})))};m();p();var N=C(L()),hr=C(xr());var eo=new ht,wr=()=>{let{t:e}=g(),{mutateAsync:r}=vt(),{mutateAsync:t}=Ft(),[s,n]=(0,N.useState)("idle"),a=s==="resetting",i=async()=>{n("resetting"),ee.capture("resetApp"),await eo.clear(),await er.logOut(),await _t(),await r(!0),await t(!0),hr.default.runtime.reload()},{popDetailView:o}=D();return N.default.createElement(N.default.Fragment,null,N.default.createElement(U,null,e("settingsResetApp")),N.default.createElement(re,{size:"large"},N.default.createElement("div",null),N.default.createElement(q,null,N.default.createElement(Te,null),N.default.createElement(M,{size:28,weight:500,lineHeight:34},e("resetSeedPrimaryText")),N.default.createElement(M,{size:16,color:"#777777",lineHeight:19,maxWidth:"312px"},e("resetSeedSecondaryText"))),N.default.createElement(te,{primaryDisabled:a,primaryLoading:a,primaryText:e("commandContinue"),secondaryText:e("commandCancel"),primaryTheme:"primary",onPrimaryClicked:i,onSecondaryClicked:o})))};var to=e=>e.type==="seed"||e.type==="seedless",ha=()=>{let{t:e}=g(),{pushDetailViewCallback:r,pushDetailView:t}=D(),{data:s=[]}=$(),n=s.filter(to),a=n.filter(T=>T.type==="seed"),i=n.filter(T=>T.type==="seedless"),{additionalPermissionRows:o}=ro(),{data:f=[]}=R("recoverable-only"),S=St(),{data:l}=xe(),{data:h,isPending:u}=at(),{mutate:F}=ct(),{data:I,isPending:k}=dt(),{mutate:y}=mt(),x=(0,d.useCallback)(()=>{F({isAnalyticsOptedOut:!h})},[h,F]),P=(0,d.useCallback)(()=>{y({showWalletShortcuts:!I}),Mt.invalidateQueries({queryKey:[Jt]})},[I,y]),A=(0,d.useCallback)(T=>{t(d.default.createElement(jt,{password:T,isSettings:!0}))},[t]),z=r(d.default.createElement(ze,{type:"seedless",onSuccess:A})),ie=(0,d.useMemo)(()=>{let T=[{topLeft:{text:e("settingsChangePasswordPrimary")},type:"drawer",onClick:r(d.default.createElement(gr,null))},{topLeft:{text:e("settingsAutoLockTimerPrimary")},topRight:{text:he(e,l)},type:"drawer",onClick:r(d.default.createElement(fr,null))}];return f.length&&T.splice(1,0,{topLeft:{text:e("seedlessResetPinPrimaryText")},type:"drawer",onClick:z}),T},[f.length,l,r,z,e]),ge=(0,d.useMemo)(()=>{let T=[{topLeft:{text:e("settingsResetApp"),color:"accentAlert"},onClick:r(d.default.createElement(wr,null))}];return S&&T.unshift({topLeft:{text:e("settingsRemoveSecretPhrase"),color:"accentAlert"},onClick:r(d.default.createElement(je,{navigationCallback:Le=>t(d.default.createElement(yr,{seedIdentifier:Le}))}))}),T},[t,r,S,e]),Se=(0,d.useMemo)(()=>u?[]:[{id:"toggleAnalytics",active:!h,type:"toggle",topLeft:{text:e("settingsSecurityAnalyticsPrimary")},onClick:x}],[h,u,x,e]),ye=(0,d.useMemo)(()=>[{topLeft:{text:e("settingsDownloadApplicationLogs")},type:"drawer",onClick:r(d.default.createElement(Sr,null))}],[r,e]),Ee=(0,d.useMemo)(()=>k?[]:[{id:"toggleWalletShortcuts",topLeft:{text:e("settingsWalletShortcutsPrimary")},active:I??it,type:"toggle",onClick:P}],[I,k,P,e]),Ue=(0,d.useMemo)(()=>{let T=[],Le=Pr=>{let qe=n.find(ke=>ke.seedIdentifier===Pr);if(!qe)return;let Ar=ke=>{t(d.default.createElement(ir,{type:"mnemonic",onSuccess:()=>t(d.default.createElement(lr,{accountIdentifier:qe.identifier,password:ke}))}))};t(d.default.createElement(ze,{type:"mnemonic",onSuccess:Ar}))};return(a.length||i.length)&&T.push({topLeft:{text:e("exportSecretShowSecretRecoveryPhrase")},type:"drawer",onClick:r(d.default.createElement(je,{navigationCallback:Le}))}),T},[r,t,n,a.length,i.length,e]);return d.default.createElement(d.default.Fragment,null,d.default.createElement(U,null,e("settingsSecurityPrimary")),d.default.createElement(j,null,d.default.createElement(E,{gap:"section"},d.default.createElement(b,{rows:ie}),d.default.createElement(b,{rows:ye}),o.length>0?d.default.createElement(b,{rows:o}):null,d.default.createElement(b,{rows:Ee}),d.default.createElement(E,{gap:"list"},d.default.createElement(b,{rows:Se}),d.default.createElement(E,{paddingX:4},d.default.createElement(K,{font:"caption",children:e("settingsSecurityAnalyticsHelper"),color:"textSecondary"}))),d.default.createElement(b,{rows:Ue}),d.default.createElement(b,{rows:ge}))))};function ro(){let e=rt(),{t:r}=g(),t=Ge(v.IS_FIREFOX),s=Ye.isFeatureEnabled("always-show-all-sites-permissions"),[n,a]=(0,d.useState)(null),[i,o]=(0,d.useState)(!1);(0,d.useEffect)(()=>{let u=!0;return(async()=>{let F=await wt();u&&a(F)})(),()=>{u=!1}},[a]);let[f,S]=(0,d.useState)(!1),l=(0,d.useCallback)(async()=>{S(!0);try{let u=!!n;if(u)await At(),e.capture("allSitesPermissions",{data:{uiContext:"settings",oldValue:u,newValue:!1}}),a(!1);else{let F=await Pt();e.capture("allSitesPermissions",{data:{uiContext:"settings",oldValue:u,newValue:F}}),a(F)}}catch(u){u instanceof Error&&u.message.includes("You cannot remove required permissions")?o(!0):(console.error("Failed to set permissions"),console.error(u))}finally{S(!1)}},[n,e]),h=(0,d.useMemo)(()=>t||s?n===null?[]:[{id:"toggleAllSitesPermissions",active:n,disabled:i||f,onClick:l,type:"toggle",topLeft:r("settingsAllSitesPermissionsTitle"),helperText:r(i?"settingsAllSitesPermissionsDisabled":"settingsAllSitesPermissionsSubtitle")}]:[],[t,s,n,i,f,l,r]);return(0,d.useMemo)(()=>({additionalPermissionRows:h}),[h])}m();p();var ne=C(L());var Ia=()=>{let{t:e}=g(),{popDetailView:r}=D(),{currencyRows:t,searchQuery:s,setSearchQuery:n}=yt({goBack:r});return ne.default.createElement(ne.default.Fragment,null,ne.default.createElement(U,null,e("settingsCurrency")),ne.default.createElement(nr,{value:s,onChange:n}),ne.default.createElement(j,null,ne.default.createElement(b,{rows:t})))};export{je as a,Mn as b,ar as c,cr as d,br as e,Cr as f,vr as g,Fr as h,Mr as i,ir as j,lr as k,nr as l,Ia as m,fr as n,gr as o,Sr as p,yr as q,ha as r};
//# sourceMappingURL=chunk-MIUAKFWY.js.map
