import{ca as rt,ea as nt,fa as it,ha as at}from"./chunk-DSGFIM4C.js";import"./chunk-PAXKK56F.js";import"./chunk-BZEXQKR7.js";import"./chunk-QC7IENKX.js";import"./chunk-TH54P6T4.js";import"./chunk-YRQAR2SD.js";import"./chunk-MJUR6GSK.js";import"./chunk-5R5I7UFN.js";import"./chunk-FS5WEDFF.js";import"./chunk-NJHVGQ3T.js";import"./chunk-FMDLOOK7.js";import"./chunk-PUJ7YG5C.js";import"./chunk-U3WYUBZV.js";import"./chunk-JOYNNZVI.js";import"./chunk-2WTSXO3L.js";import{b as ot}from"./chunk-6WTXMLHF.js";import"./chunk-C5UDUURS.js";import"./chunk-DZ2NE3XW.js";import"./chunk-6PWMWQVM.js";import"./chunk-O2N6PUOM.js";import"./chunk-WWTHUL36.js";import"./chunk-NGO5FOJW.js";import{a as W}from"./chunk-DIDVQIO4.js";import{b as tt}from"./chunk-HROBW3I6.js";import"./chunk-ZON27MKP.js";import"./chunk-O2GJOI3B.js";import"./chunk-2LU4YM7A.js";import"./chunk-E6VR42GU.js";import"./chunk-W27Z2YZM.js";import"./chunk-IVAERDLS.js";import"./chunk-XJTFMD4C.js";import"./chunk-DSKUEGWR.js";import"./chunk-2XU6ODO7.js";import"./chunk-7ZVEM3WY.js";import"./chunk-VQVTLSDS.js";import"./chunk-5LRZ7IFN.js";import"./chunk-ATEHMOFB.js";import"./chunk-2P7VAWV5.js";import{o as f,p as C,q as Y,r as Q,s as ne,t as U,u as _e,v as be,w as ie}from"./chunk-RFHVH32K.js";import"./chunk-UCBZOSRF.js";import"./chunk-BBWCN5OU.js";import"./chunk-2JLBDXN2.js";import"./chunk-T2ZXNVG7.js";import{p as Ke}from"./chunk-QYQ24YHA.js";import"./chunk-B73KBMEE.js";import"./chunk-BB4NLGB2.js";import"./chunk-SWF27PRY.js";import"./chunk-BTKBODVJ.js";import"./chunk-SAX3UIWU.js";import"./chunk-RB5D6XZ6.js";import{Ub as ze,Wc as Ge,Zc as ae,sd as $e,zd as ke}from"./chunk-PQZYPWXP.js";import"./chunk-WFPABEAU.js";import"./chunk-FIZDH5HD.js";import"./chunk-QDZH7H34.js";import"./chunk-LWOUUIX7.js";import"./chunk-ETHULGZP.js";import"./chunk-IBEI3NGL.js";import"./chunk-LGUE2NXS.js";import"./chunk-RNP7TDDY.js";import{Ee as We,Od as qe,S as q,Zd as je,fe as re,gb as he,ge as He,nb as j,ob as Oe}from"./chunk-ERHX3GUR.js";import"./chunk-WY7QFQOG.js";import"./chunk-ZTEVIBRP.js";import{V as Je,b as H,c as Xe,ca as et,l as y,m as B,n as Ye,r as Ze}from"./chunk-X6EPTHBD.js";import"./chunk-24ISZ5TA.js";import"./chunk-2J2WSGCG.js";import"./chunk-DHK5JDA3.js";import{a as M}from"./chunk-FI5JCZQR.js";import"./chunk-7XYHSLSH.js";import{V as Me,ta as Qe}from"./chunk-W476YZUB.js";import{t as Le}from"./chunk-ZIPBM4OE.js";import{R as oe,a as d,k as Ae,x as w}from"./chunk-HTY4DAML.js";import{a as D}from"./chunk-6MAAUKN7.js";import"./chunk-UNDMYLJW.js";import{f as v,h as n,i as u,n as i}from"./chunk-3KENBVE7.js";n();i();n();i();n();i();var F=v(D());n();i();n();i();n();i();function S(e){let t=f(0),o=f(()=>({i:0}),(c,l)=>{let g=c(o);return Object.assign(g,{m:!0,peek:c,set:l}),l(t,b=>b+1),()=>{g.m=!1,m(g),p(g)}});o.onMount=c=>c();let r=f(c=>{c(t);let l=c(o);if(!l.m||l.irc||l.i&&!l.irf)return l.p;p(l);let g=new Map,b=T=>{let k=c(T);return g.set(T,k),k};b.peek=l.peek;let V=(...T)=>{try{return++l.i,l.set(...T)}finally{Array.from(g.keys(),c),--l.i}};V.recurse=(T,...k)=>{if(l.fc){if(u.NODE_ENV!=="production")throw new Error("set.recurse is not allowed in cleanup");return}try{return l.irc=!0,l.set(T,...k)}finally{l.irc=!1,Array.from(g).some(E)&&s(l)}};function E([T,k]){return c(T)!==k}++l.i;function I(){try{if(l.irf=!1,!l.m)return;m(l),l.c=a.effect(b,V)}catch(T){l.e=T,s(l)}finally{l.p=void 0,--l.i}}return l.irf?I():l.p=Promise.resolve().then(I)});if(u.NODE_ENV!=="production"){let c=function(l,g){Object.defineProperty(l,"debugLabel",{get:()=>`${a.debugLabel??"effect"}:${g}`}),l.debugPrivate=!0};c(t,"refresh"),c(o,"ref"),c(r,"base")}let a=f(c=>void c(r));return a.effect=e,a;function s(c){try{c.irf=!0,c.set(t,l=>l+1)}finally{c.irf=!1}}function m(c){if(typeof c.c=="function")try{c.fc=!0,c.c()}finally{c.fc=!1,c.c=void 0}}function p(c){if("e"in c){let l=c.e;throw delete c.e,l}}}n();i();n();i();n();i();var Mt=d.object({account:d.string(),quantity:d.number(),quantityString:d.string()}),Qt=d.object({address:d.string(),quantity:d.number(),quantityString:d.string(),lastTransferredDate:d.string().nullish(),subaccounts:d.array(Mt)}),st=d.object({caip19:d.string(),name:d.string().nullish(),symbol:d.string().nullish(),decimals:d.number(),spamStatus:d.enum(["VERIFIED","NOT_VERIFIED","POSSIBLE_SPAM","SPAM"]).nullish(),logoUri:d.string()}),mt=d.object({price:d.number(),priceChange24h:d.number(),lastUpdatedAt:d.string()}).nullish(),Ot=st.extend({totalQuantity:d.number(),totalQuantityString:d.string(),price:mt,queriedWalletBalances:Ae(Qt)}).transform(e=>{let{caip19:t,...o}=e;return{type:t.includes("/nativeToken:")?"native":"fungible",encodedCaip19:t,...o}}),ct=d.object({items:Ae(Ot),cursor:d.string().nullish().default(null)}).transform(e=>{let{items:t,cursor:o,...r}=e;return{...r,nextCursor:o,tokens:t,updatedAt:Date.now()}}),qt=st.extend({price:mt,timestamp:d.string(),postQuantityString:d.string(),postQuantity:d.number()}).transform(e=>{let{caip19:t,...o}=e;return{type:t.includes("/nativeToken:")?"native":"fungible",encodedCaip19:t,...o}}),lt=d.object({cursor:d.string().nullish().default(null),items:d.array(qt)}).transform(e=>({nextCursor:e.cursor,transfers:e.items})),ut=d.object({totalValueUsdCentsCurrent:d.number(),totalValueUsdStringCurrent:d.string(),totalValueUsdCents24h:d.number(),totalValueUsdString24h:d.string(),totalPercentChange24h:d.number()});var Ce=w({minutes:10});async function jt({walletCaip19s:e,fungibleCaip19s:t,cursor:o}){let r={walletAddresses:e.join(","),includePrices:"true"};o&&(r.cursor=o),t&&t.length>0&&(r.fungibleAddresses=t.sort().join(","));try{let a=await q.api().timeout(w({seconds:30})).get("/portfolio/v1/fungibles/balances",{params:r}).then(s=>{if(s.data.errors)throw new Error(s.data.message);return s.data});return ct.parse(a)}catch(a){throw console.error(a),a}}function pt({walletCaip19s:e}){return{staleTime:Ce,gcTime:w({days:3}),queryKey:["infinite-tokens",{walletCaip19s:e}],enabled:!!e.length,queryFn:({pageParam:t})=>jt({walletCaip19s:e,cursor:t}),initialPageParam:"",getNextPageParam:t=>t.nextCursor||void 0}}n();i();n();i();var _=f(null);var z=f(e=>{let t=e(_);return t?t.addresses.map(o=>Oe({chainId:o.networkID,address:o.address,resourceType:"address"})).sort():[]});var A=_e(e=>{let t=e(z);return pt({walletCaip19s:t})});n();i();var G=f(e=>{let{data:t,status:o}=e(A);return o==="success"||t&&t.pages.length>0?t.pages.flatMap(a=>a.tokens.map(s=>({...s,caip19:j(s.encodedCaip19),legacyKey:ae(j(s.encodedCaip19))?.[0]}))):[]});n();i();var x=f({});var Z=f(1/0),xe=f(e=>e(Z),(e,t,o)=>{if(o===null){t(Z,1/0);return}let r=Math.min(e(Z),o);r!==e(Z)&&t(Z,r)}),se=xe,ft=S((e,t)=>{let{hasNextPage:o}=e(A),r=e(G),a=e(x);if(r.length>0&&!o){t(xe,0);return}let s=r.slice(-100).filter(m=>m.type==="fungible").map(m=>{let p=a[m.encodedCaip19];return p?m.totalQuantity*p.price/10**m.decimals:1/0});t(xe,Math.min(...s))});n();i();var Ht=S((e,t)=>{let r=e(ne).getQueryCache().subscribe(a=>{if(!a||a.type!=="updated")return;let s=a.query;s.queryKey[0]==="prices"&&t(x,m=>{let p=s.queryKey[1].id,c=s.state.data,l=m[p];return!c||l?.price===c?.price||!(!l?.lastUpdatedAt||c.lastUpdatedAt&&new Date(c.lastUpdatedAt)>l.lastUpdatedAt)?m:{...m,[p]:{price:c.price,priceChange24h:c.priceChange24h??c.usd_24h_change,lastUpdatedAt:new Date(c.lastUpdatedAt)}}})});return()=>{r()}}),dt=Ht;n();i();n();i();function J(e){return t=>{let o=!1,r={...t};for(let[a,s]of Object.entries(e)){let m=s?.price,p=s?.lastUpdatedAt?new Date(s.lastUpdatedAt):null;if(!m||!p)continue;let c=t[a]?.price!==m&&(!t[a]?.lastUpdatedAt||p>t[a].lastUpdatedAt);o=o||c,c&&(r[a]={price:s.price,priceChange24h:s.priceChange24h,lastUpdatedAt:p})}return o?r:t}}n();i();var me=f(e=>e(G).slice(-100).reduce((r,a)=>(a.price&&(r[a.encodedCaip19]=a.price),r),{}));var Wt=S((e,t)=>{let o=e(me);!o||Object.keys(o).length===0||t(x,J(o))}),gt=Wt;n();i();n();i();n();i();n();i();async function _t(e){let t={walletAddresses:e.walletCaip19s.join(","),includePrices:"true"};"cursor"in e&&(t.cursor=e.cursor),"from"in e&&(t.fromTimestamp=e.from.toString());let o=await q.api().timeout(w({seconds:30})).get("/portfolio/v1/fungibles/updates",{params:t}).then(r=>r.data);return lt.parse(o)}async function yt(e){let t=[],o=()=>t.at(-1)?.nextCursor;do{let r=o(),a=await _t(r?{walletCaip19s:e.walletCaip19s,cursor:r}:e);t.push(a)}while(o());return t.flatMap(r=>r.transfers)}n();i();function Pe({newTransfers:e,existingTransfers:t={}}){return e.reduce((o,r)=>o[r.encodedCaip19]?.totalQuantityString===r.postQuantityString?o:{...o,[r.encodedCaip19]:{...r,caip19:j(r.encodedCaip19),legacyKey:ae(j(r.encodedCaip19))?.[0],totalQuantity:r.postQuantity,totalQuantityString:r.postQuantityString}},t)}n();i();var Tt=f(e=>{let{data:t}=e(A);return t?.pages[0].updatedAt??0});var At=5e3;function zt(e){let t=e?.filter(o=>!o.encodedCaip19.includes("nativeToken"));return!t||t.length===0?null:Math.floor(Math.max(...t.map(o=>new Date(o.timestamp).getTime()))/1e3)}function Gt(e){let t=zt(e);return t?t+1:null}var Kt=U(e=>{let t=e(ne),o=e(Tt),r=Math.floor((o-w({minutes:10}))/1e3),a=e(z),s=["token-transfers",{walletCaip19s:a,from:r}];return{enabled:!!r,queryKey:s,refetchInterval:At,queryFn:async()=>{let p=t.getQueryData(s)?.lastTimestamp;if(!p)return{transfers:{},lastTimestamp:r-Math.ceil(At*1.25/1e3)};let c=await yt({walletCaip19s:a,from:p}),l=t.getQueryData(s)?.transfers??{};return{transfers:Pe({newTransfers:c,existingTransfers:l}),lastTimestamp:Gt(c)??p}}}}),ce=ie(Kt,({data:e})=>e?.transfers??{},(e,t)=>JSON.stringify(e)===JSON.stringify(t));var ht=f(e=>{let t=e(ce);return Object.values(t).reduce((r,a)=>(a.price&&(r[a.encodedCaip19]=a.price),r),{})});var $t=S((e,t)=>{let o=e(ht);!o||Object.keys(o).length===0||t(x,J(o))}),bt=$t;n();i();n();i();function Se(e){return t=>{let o=!1,r={...t};for(let a of e.queried){let s=e.prices[a],m=s?.price,c=!!!t[a]?.lastUpdatedAt||s.lastUpdatedAt&&new Date(s.lastUpdatedAt)>t[a].lastUpdatedAt;m&&t[a]?.price!==m&&c&&(o=!0,r[a]={price:m,priceChange24h:s.priceChange24h??s.usd_24h_change,lastUpdatedAt:s.lastUpdatedAt?new Date(s.lastUpdatedAt):new Date})}return o?r:t}}n();i();n();i();function ve({tokens:e}){return ze({tokens:e})}n();i();n();i();n();i();function Xt(e){return{totalQuantity:e.totalQuantity,totalQuantityString:e.totalQuantityString}}var kt=f(e=>{let t=e(G),o=e(ce),r=new Set(Object.keys(o)),a=t.reduce((s,m)=>{let p=o[m.encodedCaip19];return p?(r.delete(m.encodedCaip19),[...s,{...m,...Xt(p)}]):[...s,m]},[]);return r.forEach(s=>{let m=o[s];m&&a.push({...m,queriedWalletBalances:[]})}),a});function Yt(e,t){if(e.type==="native"&&t.type!=="native")return-1;if(e.type!=="native"&&t.type==="native")return 1;if(e.type==="native"&&t.type==="native")return e.name&&t.name?e.name.localeCompare(t.name):0}function Zt(e,t){if(!e&&t)return 1;if(e&&!t)return-1}function Ct(e,t){if(e&&t)return e.localeCompare(t);if(e&&!t)return-1;if(!e&&t)return 1}function xt(e,t){if(e!==t)return t-e}var le=f(e=>{let t=e(x),o=e(kt),r=e(se),a=o.filter(s=>s.totalQuantity>0||s.type==="native").map(s=>({...s,livePrice:t[s.encodedCaip19]??s.price})).sort((s,m)=>{let p=s.livePrice?.price,c=m.livePrice?.price,l=Zt(p,c);if(l)return l;let g=s.totalQuantity/10**s.decimals,b=m.totalQuantity/10**m.decimals;if(!p&&!c){let T=Yt(s,m);if(T)return T;let k=xt(g,b);if(k)return k;let $=Ct(s.name,m.name);return $||0}let V=(p??0)*g,E=(c??0)*b,I=xt(V,E);return I||(Ct(s.name,m.name)??0)});return r?a.filter(s=>{let m=s.livePrice?.price,p=s.totalQuantity/10**s.decimals;return(m??0)*p>=r}):a});var ee=10,Pt=ee*.75;function St(e){let t=Math.max(0,e-Pt);return Math.floor(t/ee)*ee}function vt(e){let t=e+Pt;return Math.ceil(t/ee)*ee}var ue=f(0),pe=f(0),Jt=f(e=>{let t=e(le),o=e(ue),r=e(pe);return t.slice(o,r)}),Dt=ie(Jt,e=>e,(e,t)=>{let o=e.map(a=>a.encodedCaip19).sort().join(","),r=t.map(a=>a.encodedCaip19).sort().join(",");return o===r});var wt=U(e=>{let t=e(Dt);return{enabled:t.length>0,refetchInterval:5e3,queryKey:["visible-prices",{tokens:t.map(o=>o.encodedCaip19).sort(),type:"visible-chunk"}],queryFn:async()=>{let o=await ve({tokens:t.map(r=>r.caip19)});return{prices:Object.fromEntries(Object.entries(o).map(([r,a])=>[r,{...a,lastUpdatedAt:a.lastUpdatedAt??new Date().toISOString()}])),queried:t.map(r=>r.encodedCaip19)}}}});var eo=S((e,t)=>{let{data:o}=e(wt);o&&t(x,Se(o))}),Ft=eo;n();i();var fe=f("fungibles");n();i();var It=v(D());n();i();var to=be(e=>{let t=je(e);return U(()=>t)}),Vt=be(e=>f(t=>!t(to(e)).data?.isDeveloperMode));n();i();n();i();async function De({walletCaip19s:e}){let t=await q.api().timeout(w({seconds:30})).get("/portfolio/v1/fungibles/value",{params:{walletAddresses:e.join(",")}}).then(o=>o.data);return ut.parse(t)}var K=U(e=>{let t=e(z);return{enabled:t.length>0,queryKey:["portfolio-value",{walletCaip19s:t}],refetchInterval:5e3,queryFn:()=>De({walletCaip19s:t})}});function we(){let e=Me(),t=C(_),o=C(K),r=C(Vt(e)),a=(0,It.useMemo)(()=>typeof o.data?.totalValueUsdCentsCurrent<"u"?o.data.totalValueUsdCentsCurrent/100:void 0,[o.data?.totalValueUsdCentsCurrent]),{data:s}=qe(t?.identifier),{mutate:m}=He();return We({accountBalance:s?.value,accountId:t?.identifier??"",enabled:r,value:o.data?o.data.totalValueUsdCentsCurrent/100:void 0,setAccountBalance:m}),a}n();i();var de=v(D());n();i();var N=v(D());n();i();function Fe(e){return e===void 0?"-":`${e>=0?"+":"-"}${Math.abs(e).toFixed(2)}%`}n();i();var R=v(D());function Ve({children:e,maxFontSize:t}){let o=(0,R.useRef)(null),[r,a]=(0,R.useState)(t);return(0,R.useEffect)(()=>{let s=o.current;if(!s)return;let m=new ResizeObserver(()=>{let p=r;s.querySelectorAll("*").forEach(l=>{for(;l.scrollWidth>s.clientWidth&&p>10;)p-=1,l.style.fontSize=`${p}px`}),a(p)});return m.observe(s),()=>{m.disconnect()}},[r]),R.default.createElement(y,{ref:o,overflow:"hidden",width:"100%",display:"flex",direction:"column",alignItems:"center"},R.default.createElement("div",{style:{fontSize:`${r}px`,whiteSpace:"nowrap"}},e))}var oo={minimumFractionDigits:2,maximumFractionDigits:2};function Ie({percentChangeColor:e,totalValueUsdCurrent:t,totalValueUsd24h:o,totalPercentChange24h:r,children:a}){return N.default.createElement(N.default.Fragment,null,N.default.createElement(y,{width:"100%",marginBottom:10},N.default.createElement(Ve,{maxFontSize:38},N.default.createElement(W,{font:"inherit",value:t,intlNumberFormatOptions:oo}))),N.default.createElement(y,{direction:"row",alignItems:"center",gap:6,justifyContent:"center"},N.default.createElement(W,{signConfig:"always",marginRight:6,font:"title1",color:"sentiment",value:o}),N.default.createElement(B,{color:e.name,borderRadius:6,paddingX:4,paddingY:2,style:{backgroundColor:oe(e.token,.1)}},Fe(r))),a)}function Be({children:e}){let{data:t}=C(K),o=t?.totalPercentChange24h,r=t?.totalValueUsdCents24h,a=t?.totalValueUsdCentsCurrent,s=(0,de.useMemo)(()=>{let m=o?o>0?"accentSuccess":"accentAlert":"textSecondary",p=o?o>0?H.colors.legacy.accentSuccess:H.colors.legacy.accentAlert:H.colors.legacy.textSecondary;return{name:m,token:p}},[o]);return de.default.createElement(Ie,{percentChangeColor:s,totalPercentChange24h:o,totalValueUsd24h:r!==void 0&&a!==void 0?(a-r)/100:void 0,totalValueUsdCurrent:a!==void 0?a/100:void 0},e)}n();i();var h=v(D());n();i();n();i();var ge=f(e=>{let{isLoading:t}=e(me),{isLoading:o}=e(A);return t||o});var te={type:"loading"},ro={type:"error"},Bt=f(e=>{if(e(fe)==="collectibles")return[];let o=e(le),{hasNextPage:r,isError:a}=e(A),s=e(ge);return o.length===0&&s?[te,te,te,te]:o.length===0&&a?[ro]:r?[...o,te]:o});n();i();var Re=f({start:0,end:0}),Rt=f(e=>e(Re),(e,t,o)=>{let r=0,a=0;Array.isArray(o)?(r=Math.min(...o),a=Math.max(...o),t(Re,{start:r,end:a})):(t(Re,o),r=o.start,a=o.end);let s=St(r),m=vt(a);s!==e(ue)&&t(ue,s),m!==e(pe)&&t(pe,m)});n();i();var ye=v(D());n();i();var Nt=f(e=>{let{fetchNextPage:t,hasNextPage:o,isFetching:r,refetch:a,data:s}=e(A),m=e(ge);return async()=>{if(!r&&o&&!m){let p=s?.pages[0];p&&new Date().getTime()-p.updatedAt>Ce&&await a(),t()}}});function Ne(){let e=C(Nt);return(0,ye.useEffect)(()=>{e()},[e]),ye.default.createElement(Je,null)}n();i();var L=v(D());n();i();function Te(e,t){return t*Number(e.totalQuantity)/10**e.decimals}function no({token:e,price:t}){let o=t?Te(e,t):"-";return o==="-"?L.default.createElement(B,null,"-"):L.default.createElement(W,{value:o,font:Le?"bodySemibold":"title3Semibold",minimumResolutionValue:.01,intlNumberFormatOptions:ke})}var io=(e,t)=>{if(t===-100)return-1*e;let o=e/(1+t/100);return e-o};function ao({token:e,price:t,priceChange:o,renderImage:r}){let a=e.totalQuantity/10**e.decimals,s=Te(e,t??0),m=io(s,o??0);return L.default.createElement(Ye,{truncate:"left",topLeft:e.name??"Unknown Token",verticalAlign:"baseline",bottomLeft:`${$e(a)} ${e.symbol}`,topRight:t?L.default.createElement(no,{token:e,price:t}):"-",bottomRight:o?L.default.createElement(W,{signConfig:"exceptZero",value:m,color:"sentiment",minimumResolutionValue:.01,intlNumberFormatOptions:ke}):"-",start:r({imageSrc:e.logoUri||"",tokenSymbol:e.symbol||"Unknown Token",tokenType:Ge(e.caip19),chainId:e.caip19.chainId,type:e.type})})}var Et=(0,L.memo)(ao);n();i();var O=v(D());n();i();var Ut=f(e=>{let{refetch:t}=e(K),{refetch:o,isPending:r,isRefetching:a,isLoading:s}=e(A);return{isPending:r,isLoading:s,isRefetching:a,refetch:()=>{o(),t()}}});function Ee(){let{refetch:e}=C(Ut);return O.default.createElement(y,{marginY:4,alignItems:"center",paddingX:"screen"},O.default.createElement(y,{width:48,height:48,alignItems:"center",justifyContent:"center",borderRadius:"full",marginBottom:16,style:{backgroundColor:oe(H.colors.legacy.accentWarning,.2)}},O.default.createElement(Xe.AlertCircle,{size:24,color:"accentWarning"})),O.default.createElement(B,{font:"bodySemibold",marginBottom:14},M.t("homeErrorTitle")),O.default.createElement(B,{align:"center",marginBottom:32},M.t("homeErrorDescription")),O.default.createElement(Ze,{onPress:e},M.t("homeErrorButtonText")))}function so(e){let{mainnetID:t,iconUrl:o,name:r,tokenSymbol:a}=he[e];return{id:t,imageUrl:o,name:r,symbol:a}}function mo({imageSrc:e,tokenSymbol:t,tokenType:o,chainId:r}){return h.default.createElement(tt,{image:{type:"fungible",src:e,fallback:t},tokenType:o,chainMeta:so(he.getChainID(r))})}var co=({dataRow:e,onFungibleDetailNav:t})=>{let o=e.type==="loading",r=e.type==="error";return o?h.default.createElement(Ne,null):r?h.default.createElement(Ee,null):h.default.createElement(y,{onPress:()=>t({caip19:e.encodedCaip19,key:e.legacyKey??"",tokenAccount:void 0}),width:"100%",paddingX:"screen",marginBottom:8},h.default.createElement(Et,{token:e,price:e.livePrice?.price,priceChange:e.livePrice?.priceChange24h,renderImage:mo}))};function lo({onFungibleDetailNav:e,renderListHeaderComponent:t}){let o=Y(Rt),r=C(Bt),a=(0,h.useCallback)(({stopIndex:m,startIndex:p})=>{o({start:p,end:m})},[o]),s=(0,h.useCallback)((m,p)=>m.type==="loading"?`loading-${p}`:m.type==="error"?`error-${p}`:m.encodedCaip19,[]);return h.default.createElement(et.ScrollView,{estimatedItemSize:74,onViewableIndexesChanged:a},t?h.default.createElement(y,{marginY:16,marginX:"screen"},t()):null,r.map((m,p)=>h.default.createElement(co,{key:s(m,p),dataRow:m,onFungibleDetailNav:e})))}var Lt=(0,h.memo)(lo);function Ue({onFungibleDetailNav:e,onTappingAccount:t,onTappingQRButton:o,onTappingSearch:r,renderListFooterComponent:a,renderPageFooterComponent:s,renderListHeaderComponent:m,renderPageHeaderComponent:p,renderFixedHeaderComponent:c,renderCollectiblesComponent:l}){let{data:g,isLoading:b}=re(),V=Y(_),E=Y(se);Q(gt),Q(bt),Q(dt),Q(Ft),Q(ft);let I=we();(0,F.useEffect)(()=>{b||(V(g??null),E(null))},[g,b,V,E]);let{data:[T]}=Qe(["enable-merge-collectibles"]),[k,$]=Q(fe);return F.default.createElement(F.default.Fragment,null,p?.(),F.default.createElement(Lt,{renderCollectiblesComponent:l,renderFixedHeaderComponent:c,renderListFooterComponent:a,renderListHeaderComponent:()=>F.default.createElement(y,null,F.default.createElement(Be,null,m?.()),T?F.default.createElement(y,{direction:"row",gap:12,width:"100%",marginBottom:12,marginX:16},[{key:"fungibles",title:M.t("portfolioHomeTokens"),isActive:k==="fungibles"},{key:"collectibles",title:M.t("portfolioHomeCollectibles"),isActive:k==="collectibles"}].map(X=>F.default.createElement(B,{key:X.key,font:"title1Semibold",onPress:X.isActive?void 0:()=>$(X.key),color:X.isActive?"textPrimary":"textSecondary"},X.title))):null),onFungibleDetailNav:e,onTappingAccount:t,onTappingQRButton:o,onTappingSearch:r}),s?.({portfolioValue:I}))}var P=v(D());function uo(){let{data:e}=re(),t=nt(),{pushDetailView:o}=ot(),{handleShowModalVisibility:r,handleHideModalVisibility:a}=at(),s=(0,P.useCallback)(()=>{e&&r("onramp")},[r,e]),m=(0,P.useCallback)(()=>{e&&r("receive",{account:e,onCloseClick:()=>a("receive")})},[a,r,e]),p=(0,P.useCallback)(()=>{t({})},[t]),c=(0,P.useCallback)(()=>{r("sendFungibleSelect")},[r]),{ctaActions:l}=Ke({onTappingBuy:s,onTappingReceive:m,onTappingSend:c,onTappingSwap:p,account:e}),g=(0,P.useCallback)(()=>P.default.createElement(y,{marginY:32},P.default.createElement(rt,{disabled:e?.isReadOnly,actions:l,uiContextName:"home",maxButtons:4})),[l,e?.isReadOnly]),b=(0,P.useCallback)(({caip19:V,key:E,tokenAccount:I})=>{o(P.default.createElement(it,{caip19:V,fungibleKey:E,splTokenAccount:I,entryPoint:"home"}))},[o]);return P.default.createElement(Ue,{onFungibleDetailNav:b,renderListHeaderComponent:g})}export{uo as default};
//# sourceMappingURL=PortfolioHomeTabPage-SZ64NLGK.js.map
