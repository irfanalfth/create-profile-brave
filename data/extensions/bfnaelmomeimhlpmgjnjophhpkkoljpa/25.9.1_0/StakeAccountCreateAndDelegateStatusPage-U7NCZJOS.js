import{a as S}from"./chunk-NIC7HW4H.js";import{a as N,b as z,c as H}from"./chunk-RE5M6MUQ.js";import"./chunk-TJVVH2WB.js";import"./chunk-6ZOJTCTS.js";import"./chunk-SHAEZV7V.js";import{e as v,k as E}from"./chunk-TH54P6T4.js";import"./chunk-6WTXMLHF.js";import"./chunk-DZ2NE3XW.js";import"./chunk-NGO5FOJW.js";import"./chunk-2LU4YM7A.js";import"./chunk-E6VR42GU.js";import"./chunk-W27Z2YZM.js";import{a as P}from"./chunk-IVAERDLS.js";import"./chunk-DSKUEGWR.js";import{b as g}from"./chunk-2XU6ODO7.js";import"./chunk-7ZVEM3WY.js";import"./chunk-5LRZ7IFN.js";import{db as A}from"./chunk-ATEHMOFB.js";import"./chunk-2P7VAWV5.js";import{t as x}from"./chunk-BBWCN5OU.js";import"./chunk-T2ZXNVG7.js";import"./chunk-QYQ24YHA.js";import"./chunk-B73KBMEE.js";import"./chunk-BB4NLGB2.js";import"./chunk-SWF27PRY.js";import"./chunk-BTKBODVJ.js";import{Da as b,Ea as L}from"./chunk-PQZYPWXP.js";import"./chunk-WFPABEAU.js";import"./chunk-FIZDH5HD.js";import"./chunk-QDZH7H34.js";import"./chunk-LWOUUIX7.js";import"./chunk-ETHULGZP.js";import{L as k,fe as I,gb as C}from"./chunk-ERHX3GUR.js";import"./chunk-WY7QFQOG.js";import"./chunk-24ISZ5TA.js";import"./chunk-2J2WSGCG.js";import"./chunk-DHK5JDA3.js";import{m as T}from"./chunk-FI5JCZQR.js";import"./chunk-7XYHSLSH.js";import"./chunk-W476YZUB.js";import"./chunk-ZIPBM4OE.js";import"./chunk-HTY4DAML.js";import{a as G}from"./chunk-6MAAUKN7.js";import"./chunk-UNDMYLJW.js";import{f as q,h as y,n as p}from"./chunk-3KENBVE7.js";y();p();var e=q(G());var J=n=>{let s={lamports:n.lamports,votePubkey:n.votePubkey,usdPerSol:n.usdPerSol,onClose:n.onClose,validatorName:n.validatorName},{t}=T(),{createStakeAccountAndDelegateStake:c,needsLedgerApproval:d,txHash:a,confirmationStatus:l,isError:u,error:r,onDeny:i}=U(s);if(d)return e.default.createElement(z,{ledgerAction:c,cancel:i});if(u){let o=r?.message;return N(r)?e.default.createElement(H,{ledgerActionError:r,onRetryClick:c,onCancelClick:i}):e.default.createElement(g,{icon:"error",title:t("stakeAccountCreateAndDelegateStakingFailed"),onClose:i,showButton:!!a,iconSize:"large"},e.default.createElement(A,{wordBreak:"break-word",color:"#777777",size:16,lineHeight:20.8},o??t("stakeAccountCreateAndDelegateErrorStaking")),e.default.createElement(S,{txHash:a},t("stakeAccountCreateAndDelegateViewTransaction")))}return l==="finalized"?e.default.createElement(g,{icon:"success",title:t("stakeAccountCreateAndDelegateSolStaked"),onClose:n.onClose,iconSize:"large"},e.default.createElement(A,{wordBreak:"break-word",color:"#777777",size:16,lineHeight:20.8},e.default.createElement(P,{i18nKey:"stakeAccountCreateAndDelegateSolStakedDisclaimerInterpolated"},"Your SOL will begin earning rewards",e.default.createElement("br",null)," in the next couple days once the stake account becomes active.")),e.default.createElement(S,{txHash:a},t("stakeAccountCreateAndDelegateViewTransaction"))):e.default.createElement(g,{icon:"loading",title:t("stakeAccountCreateAndDelegateStakingSol"),onClose:n.onClose,iconSize:"large"},e.default.createElement(A,{wordBreak:"break-word",color:"#777777",size:16,lineHeight:20.8},t("stakeAccountCreateAndDelegateStakingSolDisclaimerInterpolated",{validatorName:n.validatorName})),e.default.createElement(S,{txHash:a},t("stakeAccountCreateAndDelegateViewTransaction")))},Ae=J,U=({onClose:n,...s})=>{let{data:t,isSuccess:c}=I(),{accountIdentifier:d,isLedgerAccount:a,solanaChainAddress:l,solanaPublicKey:u,connection:r,networkID:i}=(0,e.useMemo)(()=>{let F=t?.identifier??"",f=(t?.addresses??[]).find(j=>C.isSolanaNetworkID(j.networkID)),O=new k.PublicKey(f?.address??""),Q=t?.type==="ledger",h=f?.networkID,Y=b(L(h));return{accountIdentifier:F,isLedgerAccount:Q,solanaChainAddress:f,solanaPublicKey:O,connection:Y,networkID:h}},[t]),o=E(r),m=(0,e.useCallback)(()=>{o.mutate({...s,accountIdentifier:d,senderAddress:l,authorizedPubkey:u,votePubkey:new k.PublicKey(s.votePubkey)})},[d,s,o,l,u]),D=x(),B=(0,e.useCallback)(()=>{D.denied({chainType:"solana",chainName:"solana",networkId:C.getSolanaNetworkIDValue(i),type:"delegate"}),n()},[i,n,D]);(0,e.useEffect)(()=>{if(c){if(!t||!l)throw new Error("Selected account undefined when trying to perform stake transaction.");a||m()}},[c]);let w=o.data?.id,K=v(r,2e3,w),M=a&&(o.isIdle||o.isPending),V=K.data?.value?.confirmationStatus;return{createStakeAccountAndDelegateStake:m,onDeny:B,needsLedgerApproval:M,txHash:w,confirmationStatus:V,isError:o.isError,error:o.error}};export{J as StakeAccountCreateAndDelegateStatusPage,Ae as default};
//# sourceMappingURL=StakeAccountCreateAndDelegateStatusPage-U7NCZJOS.js.map
