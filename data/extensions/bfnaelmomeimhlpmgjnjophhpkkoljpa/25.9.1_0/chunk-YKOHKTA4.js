import{O as et,c as Y,d as P,e as A,f as D,g as b,h as k,r as tt}from"./chunk-2JLBDXN2.js";import{c as z}from"./chunk-QYQ24YHA.js";import{Aa as W,Ca as G,F as _,La as K,kb as V,l as v,lb as h,m as R,pb as X,q as U,qb as q,r as $,rb as j,sb as H,t as O,yb as Z}from"./chunk-PQZYPWXP.js";import{d as J,h as Q}from"./chunk-FIZDH5HD.js";import{K as S,L as g,c as gt,gb as T,gd as F,r as yt}from"./chunk-ERHX3GUR.js";import{n as B}from"./chunk-WY7QFQOG.js";import{N as M,X as L,Y as Tt}from"./chunk-HTY4DAML.js";import{f as C,h as o,l as ft,m as Buffer,n as r}from"./chunk-3KENBVE7.js";o();r();o();r();var I=C(gt(),1);var ot=C(yt(),1);var nt=(0,I.struct)([(0,I.u8)("instruction"),X("amount")]);function rt(t,e,n,i,a=[],l=h){let s=j([{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:e,isSigner:!1,isWritable:!0}],n,a),m=Buffer.alloc(nt.span);return nt.encode({instruction:q.Burn,amount:BigInt(i)},m),new ot.TransactionInstruction({keys:s,programId:l,data:m})}var bt=({t,apiErrors:e,clientErrors:n})=>{let i={title:t("collectiblesSellStatusErrorTitle"),subtitle:t("collectiblesSellStatusErrorSubtitle")};return e.isSellErrorCode?e?.sellStepsError?.code===1?{title:t("collectiblesSellRecentlyTransferedNFTTitle"),subtitle:t("collectiblesSellRecentlyTransferedNFTSubtitle")}:e?.sellStepsError?.code===3?{title:t("collectiblesSellNotAvailableAnymoreTitle"),subtitle:t("collectiblesSellNotAvailableAnymoreSubtitle")}:e?.sellStepsError?.code===9?{title:t("collectiblesSellNotAvailableAnymoreTitle"),subtitle:t("collectiblesSellNotAvailableAnymoreSubtitle")}:i:n.hasEnoughGas?n.executeSellError?n.executeSellError.message===et?{title:t("collectiblesSellNotAvailableAnymoreTitle"),subtitle:t("collectiblesSellNotAvailableAnymoreSubtitle")}:i:null:{title:t("collectiblesSellInsufficientFundsTitle"),subtitle:t("collectiblesSellInsufficientFundsSubtitle")}};o();r();var Ct=t=>k(t)?t.standard==="ERC1155":b(t)?t.standard==="SemiFungible":!1;o();r();var St=t=>t.replace(/(\/|-|_|#)+?\d+(?!-|_|\/)+/g,"").replace(/\d+( of )\d+/g,"").trim(),ht=(t,e)=>{if(t.name&&t.name.length>0)return t.name;if(t.externalUrl){let n=M({url:t.externalUrl,format:"domain"});if(n)return n}if(e?.name){let n=St(e.name);if(n)return n}if(e?.symbol)return e.symbol};o();r();var E=C(ft());o();r();async function it(t){let{mint:e}=t,n=new S.Transaction,i=await tt({networkID:"solana:101",mintAddress:e});return n.add(await U({...t,...i})),n}var It=async({mintAddress:t,owner:e,amountToBurn:n,collectionPubKey:i,tokenEdition:a,compression:l,programId:s,isProgrammable:m,connection:x})=>{let u=new S.Transaction,p=new g.PublicKey(t),d=await H(p,e);if(l?.compressed)return it({compression:l,mint:t});if(s===R)return V({mint:t,connection:x,owner:e.toBase58()});if(m)return O({senderAddress:e,senderAccount:d,mintAddress:new g.PublicKey(t)});if(a===null||!Y(a)){let f=rt(d,p,e,n),y=z(d,e,e);u.add(f,y)}else{let f=E.Buffer.from(p.toBytes()),y=P(f),lt=A(f),w;if(i!==null){let ut=new g.PublicKey(i),dt=E.Buffer.from(ut.toBytes());w=D(dt)}let ct={metadata:y,owner:e,mint:p,tokenAccount:d,masterEditionAccount:lt,splTokenProgram:h,collectionMetadata:w},{createBurnNftInstruction:mt}=await $(),pt=mt(ct,v);u.add(pt)}return u},xt=async({mintAddress:t,owner:e,amountToBurn:n,collectionPubKey:i,tokenEdition:a,chainId:l,compression:s,programId:m,isProgrammable:x})=>{let u=G(l),p=await It({mintAddress:t,owner:e,amountToBurn:n,collectionPubKey:i,tokenEdition:a,compression:s,programId:m,isProgrammable:x,connection:u});p.recentBlockhash=(await u.getLatestBlockhash("confirmed")).blockhash,p.feePayer=e;let d=await K(p,{connection:u}),f=await Z(l,[d.compileMessage()]),y=_(f);return{burnTxWithPriority:d,networkFeeUiAmount:y}};o();r();function at({chainID:t,amount:e,collectible:n,symbol:i}){let a=Q(t);switch(a.chainName){case"solana":return{...a,asset:{amount:e.toString(),mint:"mint"in n?n.mint:"UNKNOWN",symbol:i,type:"collectible"}};case"ethereum":case"polygon":case"base":case"monad":return{...a,asset:{amount:e.toString(),address:"contract"in n?n.contract:"UNKNOWN",symbol:i,type:"collectible"}};case"bitcoin":return{...a,asset:{id:"firstCreatedInscriptionId"in n?n.firstCreatedInscriptionId:"UNKNOWN",symbol:i,type:"collectible"}};case"sui":return{...a,asset:{amount:e.toString(),address:"not yet implemented",symbol:i,type:"collectible"}}}}o();r();var Pt="list",st=t=>new J(t,Pt),At=L(F,t=>st(t));o();r();o();r();o();r();var Dt=(t,e="standard",n,i,a,l,s)=>{if(T.isEVMNetworkID(t)){let m=W.get(t).transactionSpeedSeconds(e);return{ownerAddress:n.address,networkID:t,data:{hash:"",nonce:"",unsignedTransaction:B.parse({from:n.address}),estimatedTimeToMineInSeconds:m},type:"send",display:{summary:{topLeft:{text:`${s("transactionsPendingSending")} ${l} ${i}`},bottomLeft:{text:`${s("transactionsToParagraphInterpolated",{to:a})}`}},detail:{header:`${l} ${i}`,uiRecipient:a}}}}else{if(T.isSolanaNetworkID(t))return{ownerAddress:n.address,networkID:t,data:{signature:""},type:"send",display:{summary:{topLeft:{text:`${s("transactionsPendingSending")} ${l} ${i}`},bottomLeft:{text:`${s("transactionsToParagraphInterpolated",{to:a})}`}}}};if(T.isBitcoinNetworkID(t))return{ownerAddress:n.address,networkID:t,data:{txID:"",psbtHex:""},type:"send",display:{summary:{topLeft:{text:`${s("transactionsPendingSending")} ${l} ${i}`},bottomLeft:{text:`${s("transactionsToParagraphInterpolated",{to:a})}`}}}};if(T.isSuiNetworkID(t))return{ownerAddress:n.address,networkID:t,data:{digest:""},type:"send",display:{summary:{topLeft:{text:`${s("transactionsPendingSending")} ${l} ${i}`},bottomLeft:{text:`${s("transactionsToParagraphInterpolated",{to:a})}`}}}};throw new Error(`Unable to create pending transaction input for network id ${t}}`)}};o();r();var kt=(t,e)=>{if(b(t.chainData))return{standard:t.chainData.standard,pubkey:t.chainData.tokenAccount,mintPubKey:t.chainData.mint,ownerPubKey:e,decimals:parseInt(t.decimals??"0",10),amount:t.balance??"0",delegate:null,delegatedAmount:"",logoURI:null,name:t.name??null,symbol:t.symbol??null,state:"initialized",collectionPubKey:t.collection.id,uses:null,creators:[],uri:t.uri??"",collectionName:t.collection.name??void 0,collectibleImage:t.media?.previews?.medium??void 0}};o();r();var N=C(Tt()),Et=1e6,Nt=1e4,wt=t=>t>Et?">1M":t<Nt?(0,N.default)(t).format("0,0.[000]"):(0,N.default)(t).format("0.[0]a").toUpperCase();o();r();export{bt as a,Ct as b,Dt as c,ht as d,kt as e,wt as f,xt as g,at as h,At as i};
//# sourceMappingURL=chunk-YKOHKTA4.js.map
