import{a as gs}from"./chunk-PAXKK56F.js";import{b as he,c as qt,d as ye,e as cs,f as Es,g as ds,i as $s,j as ht,k as vs}from"./chunk-BZEXQKR7.js";import{a as s6}from"./chunk-QC7IENKX.js";import{d as ms,g as ft,h as s7,l as Fs,n as qs,o as Z6,s as fs,t as Gs,x as Is,y as Gt}from"./chunk-TH54P6T4.js";import{a as hs,b as Ae}from"./chunk-YRQAR2SD.js";import{a as vt}from"./chunk-MJUR6GSK.js";import{a as O6}from"./chunk-FS5WEDFF.js";import{a as Nj}from"./chunk-NJHVGQ3T.js";import{d as It}from"./chunk-FMDLOOK7.js";import{b as pj}from"./chunk-PUJ7YG5C.js";import{a as is,c as ps,e as us}from"./chunk-U3WYUBZV.js";import{a as as,b as Bs}from"./chunk-JOYNNZVI.js";import{g as ks,h as ls}from"./chunk-2WTSXO3L.js";import{a as kA,b as lA,f as ej,g as Ft}from"./chunk-6WTXMLHF.js";import{a as be}from"./chunk-C5UDUURS.js";import{a as gt}from"./chunk-DZ2NE3XW.js";import{a as uj}from"./chunk-6PWMWQVM.js";import{a as Rn,f as Vn,g as Xn}from"./chunk-O2N6PUOM.js";import{b as yn}from"./chunk-WWTHUL36.js";import{c as hn,d as bn}from"./chunk-NGO5FOJW.js";import{a as Aj}from"./chunk-DIDVQIO4.js";import{a as j7,b as y6}from"./chunk-HROBW3I6.js";import{a as t7}from"./chunk-ZON27MKP.js";import{e as Un}from"./chunk-O2GJOI3B.js";import{z as ns}from"./chunk-2LU4YM7A.js";import{c as mt}from"./chunk-E6VR42GU.js";import{b as Wo}from"./chunk-W27Z2YZM.js";import{a as ss}from"./chunk-IVAERDLS.js";import{a as Lj}from"./chunk-XJTFMD4C.js";import{a as zn}from"./chunk-DSKUEGWR.js";import{a as n7}from"./chunk-VQVTLSDS.js";import{a as wA,b as x6,c as ge,d as ve,e as ts,f as r7,h as ut,j as jj,k as rs,l as os}from"./chunk-5LRZ7IFN.js";import{$ as Zn,G as Yn,P as pt,Y as Qn,aa as As,ab as es,ba as js,c as Q6,cb as o7,db as Z,v as Jn,x as Wn}from"./chunk-ATEHMOFB.js";import{e as v}from"./chunk-2P7VAWV5.js";import{B as ln,C as cn,Ea as Kn,F as Bt,Fa as Sn,Ga as Tn,Ha as _n,Ja as Dn,Va as Hn,aa as xn,fb as Et,gb as Cn,ia as Y6,ma as ct,na as Pn,rb as dt,wa as wn,x as at,y as an,z as v6}from"./chunk-RFHVH32K.js";import{c as Dj}from"./chunk-UCBZOSRF.js";import{f as On,u as e7,x as Mn}from"./chunk-BBWCN5OU.js";import{g as jn,l as rn,m as on,s as sn}from"./chunk-QYQ24YHA.js";import{d as $t,e as Ln,f as Nn}from"./chunk-B73KBMEE.js";import{b as IA}from"./chunk-BB4NLGB2.js";import{a as NB}from"./chunk-BTKBODVJ.js";import{a as gn}from"./chunk-SAX3UIWU.js";import{a as vn}from"./chunk-RB5D6XZ6.js";import{Ac as An,Bd as Bn,Ca as Xo,Da as Uo,Ea as zo,Fd as kn,Gd as Wr,Ra as Jo,Sb as Ur,Tb as Ge,Vc as en,Yc as zr,ec as Yo,id as tn,jd as W6,rc as Qo,sd as nn,uc as Zo,xd as Jr,zd as Ie}from"./chunk-PQZYPWXP.js";import{b as J6}from"./chunk-QDZH7H34.js";import{Z as Vo}from"./chunk-LWOUUIX7.js";import{h as g6,i as wo,k as nt}from"./chunk-ETHULGZP.js";import{c as En,e as $n,f as un}from"./chunk-LGUE2NXS.js";import{b as Yr,c as Qr,i as dn,j as bj,k as pn}from"./chunk-RNP7TDDY.js";import{Cb as xo,Ce as No,Ge as Ro,Ie as hj,Jd as To,Mb as Oo,Qd as _o,S as gj,Sb as Mo,V as vj,Wd as it,Yb as Po,Yc as st,Yd as Do,dd as Ko,fe as YA,gb as WA,gd as GA,ib as fA,ld as So,nb as Xr,ob as z6,oe as Ho,te as Co,ue as Lo}from"./chunk-ERHX3GUR.js";import{A as kt,B as xj,D as lt,E as h6,M as Fn,S as qn,U as fn,V as b6,_ as n6,a as T,b as ZA,ba as Gn,c as dA,f as Zr,g as $j,ja as In,l as F,m as y,n as yj,p as mn,r as NA,s as Cj,v as o6,x as sj,y as A7}from"./chunk-X6EPTHBD.js";import{a as qo}from"./chunk-2J2WSGCG.js";import{c as Nr}from"./chunk-DHK5JDA3.js";import{a as AA,b as yo,l as Vr,m as O}from"./chunk-FI5JCZQR.js";import{$ as L,B as Io,L as Hj,N as zA,Q as U6,ja as JA,ta as ot}from"./chunk-W476YZUB.js";import{e as Lr,h as fo,t as fe,u as Go}from"./chunk-ZIPBM4OE.js";import{C as tt,R as I6,U as bo,a as hA,f as go,fa as rt,l as vo,m as ho,n as Rr}from"./chunk-HTY4DAML.js";import{a as I}from"./chunk-6MAAUKN7.js";import{d as LB,f as G,h as a,m as Buffer,n as B}from"./chunk-3KENBVE7.js";a();B();var iA=G(I());a();B();var Pt=G(I(),1),Oe=G(I(),1),Vj=G(I(),1);a();B();var RB={data:""},VB=A=>typeof self=="object"?((A?A.querySelector("#_goober"):self._goober)||Object.assign((A||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:A||RB;var XB=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,UB=/\/\*[^]*?\*\/|  +/g,bs=/\n+/g,i6=(A,j)=>{let e="",t="",r="";for(let o in A){let n=A[o];o[0]=="@"?o[1]=="i"?e=o+" "+n+";":t+=o[1]=="f"?i6(n,o):o+"{"+i6(n,o[1]=="k"?"":j)+"}":typeof n=="object"?t+=i6(n,j?j.replace(/([^,])+/g,s=>o.replace(/(^:.*)|([^,])+/g,i=>/&/.test(i)?i.replace(/&/g,s):s?s+" "+i:i)):o):n!=null&&(o=/^--/.test(o)?o:o.replace(/[A-Z]/g,"-$&").toLowerCase(),r+=i6.p?i6.p(o,n):o+":"+n+";")}return e+(j&&r?j+"{"+r+"}":r)+t},Rj={},ys=A=>{if(typeof A=="object"){let j="";for(let e in A)j+=e+ys(A[e]);return j}return A},zB=(A,j,e,t,r)=>{let o=ys(A),n=Rj[o]||(Rj[o]=(i=>{let k=0,l=11;for(;k<i.length;)l=101*l+i.charCodeAt(k++)>>>0;return"go"+l})(o));if(!Rj[n]){let i=o!==A?A:(k=>{let l,c,d=[{}];for(;l=XB.exec(k.replace(UB,""));)l[4]?d.shift():l[3]?(c=l[3].replace(bs," ").trim(),d.unshift(d[0][c]=d[0][c]||{})):d[0][l[1]]=l[2].replace(bs," ").trim();return d[0]})(A);Rj[n]=i6(r?{["@keyframes "+n]:i}:i,e?"":"."+n)}let s=e&&Rj.g?Rj.g:null;return e&&(Rj.g=Rj[n]),((i,k,l,c)=>{c?k.data=k.data.replace(c,i):k.data.indexOf(i)===-1&&(k.data=l?i+k.data:k.data+i)})(Rj[n],j,t,s),n},JB=(A,j,e)=>A.reduce((t,r,o)=>{let n=j[o];if(n&&n.call){let s=n(e),i=s&&s.props&&s.props.className||/^go/.test(s)&&s;n=i?"."+i:s&&typeof s=="object"?s.props?"":i6(s,""):s===!1?"":s}return t+r+(n??"")},"");function xe(A){let j=this||{},e=A.call?A(j.p):A;return zB(e.unshift?e.raw?JB(e,[].slice.call(arguments,1),j.p):e.reduce((t,r)=>Object.assign(t,r&&r.call?r(j.p):r),{}):e,VB(j.target),j.g,j.o,j.k)}var xs,i7,a7,x0=xe.bind({g:1}),QA=xe.bind({k:1});function Os(A,j,e,t){i6.p=j,xs=A,i7=e,a7=t}function tj(A,j){let e=this||{};return function(){let t=arguments;function r(o,n){let s=Object.assign({},o),i=s.className||r.className;e.p=Object.assign({theme:i7&&i7()},s),e.o=/ *go\d+/.test(i),s.className=xe.apply(e,t)+(i?" "+i:""),j&&(s.ref=n);let k=A;return A[0]&&(k=s.as||A,delete s.as),a7&&k[0]&&a7(s),xs(k,s)}return j?j(r):r}}var M6=G(I(),1);var a6=G(I(),1),WB=A=>typeof A=="function",Mt=(A,j)=>WB(A)?A(j):A,YB=(()=>{let A=0;return()=>(++A).toString()})(),Ps=(()=>{let A;return()=>{if(A===void 0&&typeof self<"u"){let j=matchMedia("(prefers-reduced-motion: reduce)");A=!j||j.matches}return A}})(),QB=20,yt=new Map,ZB=1e3,Ms=A=>{if(yt.has(A))return;let j=setTimeout(()=>{yt.delete(A),P6({type:4,toastId:A})},ZB);yt.set(A,j)},Ak=A=>{let j=yt.get(A);j&&clearTimeout(j)},B7=(A,j)=>{switch(j.type){case 0:return{...A,toasts:[j.toast,...A.toasts].slice(0,QB)};case 1:return j.toast.id&&Ak(j.toast.id),{...A,toasts:A.toasts.map(o=>o.id===j.toast.id?{...o,...j.toast}:o)};case 2:let{toast:e}=j;return A.toasts.find(o=>o.id===e.id)?B7(A,{type:1,toast:e}):B7(A,{type:0,toast:e});case 3:let{toastId:t}=j;return t?Ms(t):A.toasts.forEach(o=>{Ms(o.id)}),{...A,toasts:A.toasts.map(o=>o.id===t||t===void 0?{...o,visible:!1}:o)};case 4:return j.toastId===void 0?{...A,toasts:[]}:{...A,toasts:A.toasts.filter(o=>o.id!==j.toastId)};case 5:return{...A,pausedAt:j.time};case 6:let r=j.time-(A.pausedAt||0);return{...A,pausedAt:void 0,toasts:A.toasts.map(o=>({...o,pauseDuration:o.pauseDuration+r}))}}},xt=[],Ot={toasts:[],pausedAt:void 0},P6=A=>{Ot=B7(Ot,A),xt.forEach(j=>{j(Ot)})},jk={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},ek=(A={})=>{let[j,e]=(0,Pt.useState)(Ot);(0,Pt.useEffect)(()=>(xt.push(e),()=>{let r=xt.indexOf(e);r>-1&&xt.splice(r,1)}),[j]);let t=j.toasts.map(r=>{var o,n;return{...A,...A[r.type],...r,duration:r.duration||((o=A[r.type])==null?void 0:o.duration)||A?.duration||jk[r.type],style:{...A.style,...(n=A[r.type])==null?void 0:n.style,...r.style}}});return{...j,toasts:t}},tk=(A,j="blank",e)=>({createdAt:Date.now(),visible:!0,type:j,ariaProps:{role:"status","aria-live":"polite"},message:A,pauseDuration:0,...e,id:e?.id||YB()}),Me=A=>(j,e)=>{let t=tk(j,A,e);return P6({type:2,toast:t}),t.id},KA=(A,j)=>Me("blank")(A,j);KA.error=Me("error");KA.success=Me("success");KA.loading=Me("loading");KA.custom=Me("custom");KA.dismiss=A=>{P6({type:3,toastId:A})};KA.remove=A=>P6({type:4,toastId:A});KA.promise=(A,j,e)=>{let t=KA.loading(j.loading,{...e,...e?.loading});return A.then(r=>(KA.success(Mt(j.success,r),{id:t,...e,...e?.success}),r)).catch(r=>{KA.error(Mt(j.error,r),{id:t,...e,...e?.error})}),A};var rk=(A,j)=>{P6({type:1,toast:{id:A,height:j}})},ok=()=>{P6({type:5,time:Date.now()})},nk=A=>{let{toasts:j,pausedAt:e}=ek(A);(0,Oe.useEffect)(()=>{if(e)return;let o=Date.now(),n=j.map(s=>{if(s.duration===1/0)return;let i=(s.duration||0)+s.pauseDuration-(o-s.createdAt);if(i<0){s.visible&&KA.dismiss(s.id);return}return setTimeout(()=>KA.dismiss(s.id),i)});return()=>{n.forEach(s=>s&&clearTimeout(s))}},[j,e]);let t=(0,Oe.useCallback)(()=>{e&&P6({type:6,time:Date.now()})},[e]),r=(0,Oe.useCallback)((o,n)=>{let{reverseOrder:s=!1,gutter:i=8,defaultPosition:k}=n||{},l=j.filter(E=>(E.position||k)===(o.position||k)&&E.height),c=l.findIndex(E=>E.id===o.id),d=l.filter((E,$)=>$<c&&E.visible).length;return l.filter(E=>E.visible).slice(...s?[d+1]:[0,d]).reduce((E,$)=>E+($.height||0)+i,0)},[j]);return{toasts:j,handlers:{updateHeight:rk,startPause:ok,endPause:t,calculateOffset:r}}},sk=QA`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,ik=QA`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,ak=QA`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,Bk=tj("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${A=>A.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${sk} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${ik} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${A=>A.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${ak} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,kk=QA`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,lk=tj("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${A=>A.secondary||"#e0e0e0"};
  border-right-color: ${A=>A.primary||"#616161"};
  animation: ${kk} 1s linear infinite;
`,ck=QA`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,Ek=QA`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,dk=tj("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${A=>A.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${ck} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${Ek} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${A=>A.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,$k=tj("div")`
  position: absolute;
`,pk=tj("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,uk=QA`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,mk=tj("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${uk} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,Fk=({toast:A})=>{let{icon:j,type:e,iconTheme:t}=A;return j!==void 0?typeof j=="string"?M6.createElement(mk,null,j):j:e==="blank"?null:M6.createElement(pk,null,M6.createElement(lk,{...t}),e!=="loading"&&M6.createElement($k,null,e==="error"?M6.createElement(Bk,{...t}):M6.createElement(dk,{...t})))},qk=A=>`
0% {transform: translate3d(0,${A*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,fk=A=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${A*-150}%,-1px) scale(.6); opacity:0;}
`,Gk="0%{opacity:0;} 100%{opacity:1;}",Ik="0%{opacity:1;} 100%{opacity:0;}",gk=tj("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,vk=tj("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,hk=(A,j)=>{let e=A.includes("top")?1:-1,[t,r]=Ps()?[Gk,Ik]:[qk(e),fk(e)];return{animation:j?`${QA(t)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${QA(r)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},bk=Vj.memo(({toast:A,position:j,style:e,children:t})=>{let r=A.height?hk(A.position||j||"top-center",A.visible):{opacity:0},o=Vj.createElement(Fk,{toast:A}),n=Vj.createElement(vk,{...A.ariaProps},Mt(A.message,A));return Vj.createElement(gk,{className:A.className,style:{...r,...e,...A.style}},typeof t=="function"?t({icon:o,message:n}):Vj.createElement(Vj.Fragment,null,o,n))});Os(a6.createElement);var yk=({id:A,className:j,style:e,onHeightUpdate:t,children:r})=>{let o=a6.useCallback(n=>{if(n){let s=()=>{let i=n.getBoundingClientRect().height;t(A,i)};s(),new MutationObserver(s).observe(n,{subtree:!0,childList:!0,characterData:!0})}},[A,t]);return a6.createElement("div",{ref:o,className:j,style:e},r)},xk=(A,j)=>{let e=A.includes("top"),t=e?{top:0}:{bottom:0},r=A.includes("center")?{justifyContent:"center"}:A.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:Ps()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${j*(e?1:-1)}px)`,...t,...r}},Ok=xe`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,bt=16,H0=({reverseOrder:A,position:j="top-center",toastOptions:e,gutter:t,children:r,containerStyle:o,containerClassName:n})=>{let{toasts:s,handlers:i}=nk(e);return a6.createElement("div",{style:{position:"fixed",zIndex:9999,top:bt,left:bt,right:bt,bottom:bt,pointerEvents:"none",...o},className:n,onMouseEnter:i.startPause,onMouseLeave:i.endPause},s.map(k=>{let l=k.position||j,c=i.calculateOffset(k,{reverseOrder:A,gutter:t,defaultPosition:j}),d=xk(l,c);return a6.createElement(yk,{id:k.id,key:k.id,onHeightUpdate:i.updateHeight,className:k.visible?Ok:"",style:d},k.type==="custom"?Mt(k.message,k):r?r(k):a6.createElement(bk,{toast:k,position:l}))}))},C0=KA;a();B();var w6=G(I());var Mk=3e3,Pk=v.div`
  cursor: pointer;
`,ws=({copyString:A,children:j,alignment:e})=>{let{t}=O(),[r,o,n]=Bs(A),[s,i]=(0,w6.useState)(!1),k=t(r?"pastParticipleCopied":"accountHeaderCopyToClipboard"),l=r?"#AB9FF2":"#000",c=()=>i(!0),d=()=>i(!1),E=()=>{o(),n(!0)};return(0,w6.useEffect)(()=>{let $;return r&&($=setTimeout(()=>{n(!1)},Mk)),()=>{$&&clearTimeout($)}},[r,n]),w6.default.createElement(It,{label:k,ariaLabel:k,color:l,isVisible:s,triggerParams:{onMouseEnter:c,onMouseLeave:d},alignment:e},w6.default.createElement(Pk,{onClick:E},j))};a();B();var nB=G(I());a();B();a();B();a();B();var $A=G(I());a();B();var ij=G(I()),Ss=A=>ij.default.createElement(F,{flex:1,minHeight:0,alignItems:"center",height:"100%",...A}),Ks={outer:T({display:"column",flex:1,maxWidth:420,minHeight:0,overflow:"auto"}),inner:T({alignItems:"center",display:"column",flexGrow:1,gap:"screen",justifyContent:"center",paddingY:24})},Ts=(0,ij.memo)(({children:A})=>ij.default.createElement("div",{className:Ks.outer},ij.default.createElement("div",{className:Ks.inner},A))),wk=T({justifyContent:"flex-end",alignItems:"center",display:"column",width:"100%"}),_s=(0,ij.memo)(({children:A})=>ij.default.createElement("div",{className:wk},A)),Kk=T({alignItems:"flex-start",display:"column",gap:"screen",paddingX:"screen",width:"100%"}),Ds=(0,ij.memo)(({children:A})=>ij.default.createElement("div",{className:Kk},A)),Sk=T({display:"column",flex:1,paddingTop:2,gap:4,paddingRight:2}),Hs=(0,ij.memo)(({children:A})=>ij.default.createElement("div",{className:Sk},A));var _k=({title:A,description:j,icon:e})=>$A.default.createElement(F,{direction:"row",gap:12},e,$A.default.createElement(Hs,null,A&&$A.default.createElement(y,{font:j?"bodySemibold":"body"},A),j&&$A.default.createElement(y,{paddingTop:1,color:A?"textSecondary":"textPrimary",font:A?"caption":"body"},j))),Pe=$A.default.memo(({image:A,title:j,items:e,primaryButton:{analyticsEvent:t,onAction:r,...o},secondaryButton:n,onDisplay:s,displayEvent:i,footer:k,onDismiss:l,mobileTitleSheetInset:c,...d})=>{let E=GA();(0,$A.useEffect)(()=>{s&&s(),E.capture(i.event,i.payload)},[]);let $=(0,$A.useCallback)(()=>{r(),t&&E.capture(t.event,t.payload)},[t,r,E]),{analyticsEvent:m,onAction:q,...h}=(0,$A.useMemo)(()=>n||{analyticsEvent:void 0,onAction:void 0},[n]),f=(0,$A.useCallback)(()=>{q&&(q(),m&&E.capture(m.event,m.payload))},[m,q,E]),b="children"in h&&h.children;return(0,$A.useLayoutEffect)(()=>()=>l?.(),[l]),$A.default.createElement(Ss,{paddingTop:c?56:0,...d},$A.default.createElement(Ts,null,$A.default.createElement(_s,null,A),$A.default.createElement(Ds,null,$A.default.createElement(y,{font:"heading4Bold",align:"center",maxWidth:420,width:"100%"},j),e.map(P=>$A.default.createElement(_k,{...P,key:P.key})))),$A.default.createElement(sj,{padded:!0,type:"solid",direction:"column",...k,...k?.checkbox&&{...k.checkbox,label:{...k.checkbox?.label,font:void 0}}},$A.default.createElement($A.default.Fragment,null,k?.direction==="row"&&b&&$A.default.createElement(NA,{theme:"secondary",onPress:f,...h}),$A.default.createElement(NA,{theme:"primary",onPress:$,...o,"data-testid":o.testID}),["column",void 0].includes(k?.direction)&&b&&$A.default.createElement(NA,{onPress:f,theme:"transparent",...h,"data-testid":h.testID}))))});var u=G(I());a();B();var D=G(I()),Ai=G(qo());a();B();var je=G(I(),1);a();B();var Rs=typeof self<"u"?je.default.useLayoutEffect:()=>{};function wt(...A){return(...j)=>{for(let e of A)typeof e=="function"&&e(...j)}}var we=new Map,Cs=new Set;function Ls(){if(typeof self>"u")return;let A=e=>{let t=we.get(e.target);t||(t=new Set,we.set(e.target,t),e.target.addEventListener("transitioncancel",j)),t.add(e.propertyName)},j=e=>{let t=we.get(e.target);if(t&&(t.delete(e.propertyName),t.size===0&&(e.target.removeEventListener("transitioncancel",j),we.delete(e.target)),we.size===0)){for(let r of Cs)r();Cs.clear()}};document.body.addEventListener("transitionrun",A),document.body.addEventListener("transitionend",j)}typeof document<"u"&&(document.readyState!=="loading"?Ls():document.addEventListener("DOMContentLoaded",Ls));function k7(A){for(Ns(A)&&(A=A.parentElement);A&&!Ns(A);)A=A.parentElement;return A||document.scrollingElement||document.documentElement}function Ns(A){let j=self.getComputedStyle(A);return/(auto|scroll)/.test(j.overflow+j.overflowX+j.overflowY)}var d$=typeof self<"u"&&self.visualViewport;function l7(A){var j;return typeof self<"u"&&self.navigator!=null?A.test(((j=self.navigator.userAgentData)===null||j===void 0?void 0:j.platform)||self.navigator.platform):!1}function Dk(){return l7(/^Mac/i)}function Hk(){return l7(/^iPhone/i)}function Ck(){return l7(/^iPad/i)||Dk()&&navigator.maxTouchPoints>1}function Vs(){return Hk()||Ck()}function mj(){return mj=Object.assign||function(A){for(var j=1;j<arguments.length;j++){var e=arguments[j];for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(A[t]=e[t])}return A},mj.apply(this,arguments)}function ee(A,j){if(A==null)return{};var e={},t=Object.keys(A),r,o;for(o=0;o<t.length;o++)r=t[o],!(j.indexOf(r)>=0)&&(e[r]=A[r]);return e}var Xs="calc(100% - env(safe-area-inset-top) - 34px)",ji=typeof self>"u",Lk={ease:"easeOut",duration:.2},Nk={ease:"linear",duration:.01},Rk=.6,Vk=500;function Us(A,j){for(var e=A[0],t=Math.abs(A[0]-j),r=1;r<A.length;r++){var o=Math.abs(A[r]-j);o<t&&(e=A[r],t=o)}return e}function Xk(A){var j=document.querySelector("body"),e=document.querySelector("#"+A);if(e){var t=24,r=self.innerHeight,o=(r-t)/r;j.style.backgroundColor="#000",e.style.overflow="hidden",e.style.willChange="transform",e.style.transition="transform 200ms ease-in-out, border-radius 200ms linear",e.style.transform="translateY(calc(env(safe-area-inset-top) + "+t/2+"px)) scale("+o+")",e.style.borderTopRightRadius="10px",e.style.borderTopLeftRadius="10px"}}function zs(A){var j=document.querySelector("body"),e=document.getElementById(A);function t(){e.style.removeProperty("overflow"),e.style.removeProperty("will-change"),e.style.removeProperty("transition"),j.style.removeProperty("background-color"),e.removeEventListener("transitionend",t)}e&&(e.style.removeProperty("border-top-right-radius"),e.style.removeProperty("border-top-left-radius"),e.style.removeProperty("transform"),e.addEventListener("transitionend",t))}function Uk(A){for(var j=0;j<A.length;j++)if(A[j+1]>A[j])return!1;return!0}function Js(A){var j=A.snapTo,e=A.sheetHeight;return j<0&&console.warn("Snap point is out of bounds. Sheet height is "+e+" but snap point is "+(e+Math.abs(j))+"."),Math.max(Math.round(j),0)}function zk(A){return function(j){A.forEach(function(e){typeof e=="function"?e(j):e&&(e.current=j)})}}function Jk(){return typeof self>"u"?!1:"ontouchstart"in self||navigator.maxTouchPoints>0}var d7=ji?D.useEffect:D.useLayoutEffect;function Wk(A,j){var e=ei(A);(0,D.useEffect)(function(){j&&!e&&A?Xk(j):j&&!A&&e&&zs(j)},[A,e]),(0,D.useEffect)(function(){return function(){j&&A&&zs(j)}},[A])}function Yk(A,j){var e=ei(A),t=(0,D.useRef)(!1),r=(0,D.useCallback)(function(){t.current?(j.current.onCloseEnd==null||j.current.onCloseEnd(),t.current=!1):(j.current.onOpenEnd==null||j.current.onOpenEnd(),t.current=!0)},[A,e]);return(0,D.useEffect)(function(){!e&&A?j.current.onOpenStart==null||j.current.onOpenStart():!A&&e&&(j.current.onCloseStart==null||j.current.onCloseStart())},[A,e]),{handleAnimationComplete:r}}function Qk(){var A=(0,D.useState)(0),j=A[0],e=A[1];return d7(function(){var t=function(){return e(self.innerHeight)};return self.addEventListener("resize",t),t(),function(){return self.removeEventListener("resize",t)}},[]),j}function ei(A){var j=(0,D.useRef)();return(0,D.useEffect)(function(){j.current=A}),j.current}function Ws(A){var j=(0,D.useRef)();return d7(function(){j.current=A}),(0,D.useCallback)(function(){for(var e=j.current,t=arguments.length,r=new Array(t),o=0;o<t;o++)r[o]=arguments[o];return e?.apply(void 0,r)},[])}var ti=(0,D.createContext)(void 0),St=function(){var j=(0,D.useContext)(ti);if(!j)throw Error("Sheet context error");return j},ri=(0,D.createContext)(void 0);function Zk(A){var j=A.children,e=St(),t=(0,D.useState)(!!e.disableDrag),r=t[0],o=t[1];function n(){e.disableDrag||o(!1)}function s(){r||o(!0)}return(0,D.createElement)(ri.Provider,{value:{disableDrag:r,setDragEnabled:n,setDragDisabled:s}},j)}var oi=function(){var j=(0,D.useContext)(ri);if(!j)throw Error("Sheet scroller context error");return j},c7=typeof self<"u"&&self.visualViewport,Al=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]),Kt=0,E7;function jl(A){A===void 0&&(A={});var j=A,e=j.isDisabled;Rs(function(){if(!e)return Kt++,Kt===1&&(Vs()?E7=tl():E7=el()),function(){Kt--,Kt===0&&E7()}},[e])}function el(){return wt(Se(document.documentElement,"paddingRight",self.innerWidth-document.documentElement.clientWidth+"px"),Se(document.documentElement,"overflow","hidden"))}function tl(){var A,j=0,e=function(d){A=k7(d.target),!(A===document.documentElement&&A===document.body)&&(j=d.changedTouches[0].pageY)},t=function(d){if(A===document.documentElement||A===document.body){d.preventDefault();return}var E=d.changedTouches[0].pageY,$=A.scrollTop,m=A.scrollHeight-A.clientHeight;m!==0&&(($<=0&&E>j||$>=m&&E<j)&&d.preventDefault(),j=E)},r=function(d){var E=d.target;Qs(E)&&E!==document.activeElement&&(d.preventDefault(),E.style.transform="translateY(-2000px)",E.focus(),requestAnimationFrame(function(){E.style.transform=""}))},o=function(d){var E=d.target;Qs(E)&&(E.style.transform="translateY(-2000px)",requestAnimationFrame(function(){E.style.transform="",c7&&(c7.height<self.innerHeight?requestAnimationFrame(function(){Ys(E)}):c7.addEventListener("resize",function(){return Ys(E)},{once:!0}))}))},n=function(){self.scrollTo(0,0)},s=self.pageXOffset,i=self.pageYOffset,k=wt(Se(document.documentElement,"paddingRight",self.innerWidth-document.documentElement.clientWidth+"px"),Se(document.documentElement,"overflow","hidden"),Se(document.body,"marginTop","-"+i+"px"));self.scrollTo(0,0);var l=wt(Ke(document,"touchstart",e,{passive:!1,capture:!0}),Ke(document,"touchmove",t,{passive:!1,capture:!0}),Ke(document,"touchend",r,{passive:!1,capture:!0}),Ke(document,"focus",o,!0),Ke(self,"scroll",n));return function(){k(),l(),self.scrollTo(s,i)}}function Se(A,j,e){var t=A.style[j];return A.style[j]=e,function(){A.style[j]=t}}function Ke(A,j,e,t){return A.addEventListener(j,e,t),function(){A.removeEventListener(j,e,t)}}function Ys(A){for(var j=document.scrollingElement||document.documentElement;A&&A!==j;){var e=k7(A);if(e!==document.documentElement&&e!==document.body&&e!==A){var t=e.getBoundingClientRect().top,r=A.getBoundingClientRect().top;r>t+A.clientHeight&&(e.scrollTop+=r-t)}A=e.parentElement}}function Qs(A){return A instanceof HTMLInputElement&&!Al.has(A.type)||A instanceof HTMLTextAreaElement||A instanceof HTMLElement&&A.isContentEditable}var Xj={wrapper:{position:"fixed",top:0,bottom:0,left:0,right:0,overflow:"hidden",pointerEvents:"none"},backdrop:{zIndex:1,position:"fixed",top:0,left:0,width:"100%",height:"100%",backgroundColor:"rgba(0, 0, 0, 0.2)",touchAction:"none",border:"none"},container:{zIndex:2,position:"absolute",left:0,bottom:0,width:"100%",backgroundColor:"#fff",borderTopRightRadius:"8px",borderTopLeftRadius:"8px",boxShadow:"0px -2px 16px rgba(0, 0, 0, 0.3)",display:"flex",flexDirection:"column",pointerEvents:"auto"},headerWrapper:{width:"100%"},header:{height:"40px",width:"100%",position:"relative",display:"flex",alignItems:"center",justifyContent:"center"},indicator:{width:"18px",height:"4px",borderRadius:"99px",backgroundColor:"#ddd"},content:{flexGrow:1,display:"flex",flexDirection:"column",minHeight:"0px",position:"relative"},scroller:{height:"100%",overflowY:"auto"}},rl=(0,D.forwardRef)(function(A,j){var e=A.onOpenStart,t=A.onOpenEnd,r=A.onClose,o=A.onCloseStart,n=A.onCloseEnd,s=A.onSnap,i=A.children,k=A.isOpen,l=A.snapPoints,c=A.rootId,d=A.mountPoint,E=A.style,$=A.detent,m=$===void 0?"full-height":$,q=A.initialSnap,h=q===void 0?0:q,f=A.disableDrag,b=f===void 0?!1:f,P=A.prefersReducedMotion,w=P===void 0?!1:P,H=A.tweenConfig,K=H===void 0?Lk:H,Q=ee(A,["onOpenStart","onOpenEnd","onClose","onCloseStart","onCloseEnd","onSnap","children","isOpen","snapPoints","rootId","mountPoint","style","detent","initialSnap","disableDrag","prefersReducedMotion","tweenConfig"]),C=(0,D.useRef)(null),z=ge(0),g=Qk(),x=ts(),W=!!(w||x),R=mj({type:"tween"},W?Nk:K),X=ge(0),rA=ve(X,function(cA){return cA>=g?-1:9999999}),oA=ve(X,function(cA){return cA>=g?"hidden":"visible"}),sA=(0,D.useRef)({onOpenStart:e,onOpenEnd:t,onCloseStart:o,onCloseEnd:n});d7(function(){sA.current={onOpenStart:e,onOpenEnd:t,onCloseStart:o,onCloseEnd:n}}),l&&(l=l.map(function(cA){return cA>0&&cA<=1?Math.round(cA*g):cA<0?g+cA:cA}),console.assert(Uk(l)||g===0,"Snap points need to be in descending order got: ["+l+"]"));var _=Ws(function(cA,MA){var CA=MA.delta,PA=X.getVelocity();PA>0&&z.set(10),PA<0&&z.set(-10),X.set(Math.max(X.get()+CA.y,0))}),aA=Ws(function(cA,MA){var CA=MA.velocity;if(CA.y>Vk)r();else{var PA=C.current,OA=PA.getBoundingClientRect().height,LA=X.get(),Ej=0;if(l){var G6=l.map(function(r6){return OA-Math.min(r6,OA)});m==="content-height"&&!G6.includes(0)&&G6.unshift(0),Ej=Us(G6,LA)}else LA/OA>Rk&&(Ej=OA);if(Ej=Js({snapTo:Ej,sheetHeight:OA}),r7(X,Ej,R),l&&s){var Fe=Math.abs(Math.round(l[0]-Ej)),At=l.indexOf(Us(l,Fe));s(At)}var jt=Math.round(OA),nj=Ej>=jt;nj&&r()}z.set(0)});(0,D.useEffect)(function(){if(!(!l||!s)){var cA=k?h:l.length-1;s(cA)}},[k]),(0,D.useImperativeHandle)(j,function(){return{y:X,snapTo:function(MA){var CA=C.current;if(l&&l[MA]!==void 0&&CA!==null){var PA=CA.getBoundingClientRect().height,OA=l[MA],LA=Js({snapTo:PA-OA,sheetHeight:PA});r7(X,LA,R),s&&s(MA),LA>=PA&&r()}}}}),Wk(k,c),jl({isDisabled:!k});var BA=(0,D.useMemo)(function(){var cA={drag:"y",dragElastic:0,dragConstraints:{top:0,bottom:0},dragMomentum:!1,dragPropagation:!1,onDrag:_,onDragEnd:aA};return b?void 0:cA},[b]),S={y:X,sheetRef:C,isOpen:k,initialSnap:h,snapPoints:l,detent:m,indicatorRotation:z,callbacks:sA,dragProps:BA,windowHeight:g,animationOptions:R,reduceMotion:W,disableDrag:b},qA=(0,D.createElement)(ti.Provider,{value:S},(0,D.createElement)(wA.div,Object.assign({},Q,{ref:j,style:mj({},Xj.wrapper,{zIndex:rA,visibility:oA},E)}),(0,D.createElement)(x6,null,k?(0,D.createElement)(Zk,null,D.Children.map(i,function(cA,MA){return(0,D.cloneElement)(cA,{key:"sheet-child-"+MA})})):null)));return ji?qA:(0,Ai.createPortal)(qA,d??document.body)}),ol=(0,D.forwardRef)(function(A,j){var e=A.children,t=A.style,r=t===void 0?{}:t,o=A.className,n=o===void 0?"":o,s=ee(A,["children","style","className"]),i=St(),k=i.y,l=i.isOpen,c=i.callbacks,d=i.snapPoints,E=i.initialSnap,$=E===void 0?0:E,m=i.sheetRef,q=i.windowHeight,h=i.detent,f=i.animationOptions,b=i.reduceMotion,P=Yk(l,c),w=P.handleAnimationComplete,H=d?d[0]-d[$]:0,K=d?d[0]:null,Q=K!==null?"min("+K+"px, "+Xs+")":Xs;return(0,D.createElement)(wA.div,Object.assign({},s,{ref:zk([m,j]),className:"react-modal-sheet-container "+n,style:mj({},Xj.container,r,h==="full-height"&&{height:Q},h==="content-height"&&{maxHeight:Q},{y:k}),initial:b?!1:{y:q},animate:{y:H,transition:f},exit:{y:q,transition:f},onAnimationComplete:w}),e)}),nl=(0,D.forwardRef)(function(A,j){var e=A.children,t=A.style,r=A.disableDrag,o=A.className,n=o===void 0?"":o,s=ee(A,["children","style","disableDrag","className"]),i=St(),k=oi(),l=r||k.disableDrag?void 0:i.dragProps;return(0,D.createElement)(wA.div,Object.assign({},s,{ref:j,className:"react-modal-sheet-content "+n,style:mj({},Xj.content,t)},l),e)}),sl=(0,D.forwardRef)(function(A,j){var e=A.children,t=A.style,r=A.disableDrag,o=ee(A,["children","style","disableDrag"]),n=St(),s=n.indicatorRotation,i=n.dragProps,k=r?void 0:i,l=ve(s,function(d){return"translateX(2px) rotate("+d+"deg)"}),c=ve(s,function(d){return"translateX(-2px) rotate("+-1*d+"deg)"});return(0,D.createElement)(wA.div,Object.assign({},o,{ref:j,style:mj({},Xj.headerWrapper,t)},k),e||(0,D.createElement)("div",{className:"react-modal-sheet-header",style:Xj.header},(0,D.createElement)(wA.span,{className:"react-modal-sheet-drag-indicator",style:mj({},Xj.indicator,{transform:l})}),(0,D.createElement)(wA.span,{className:"react-modal-sheet-drag-indicator",style:mj({},Xj.indicator,{transform:c})})))}),Zs=function(j){return!!j.onClick||!!j.onTap},il=(0,D.forwardRef)(function(A,j){var e=A.style,t=e===void 0?{}:e,r=A.className,o=r===void 0?"":r,n=ee(A,["style","className"]),s=Zs(n)?wA.button:wA.div,i=Zs(n)?"auto":"none";return(0,D.createElement)(s,Object.assign({},n,{ref:j,className:"react-modal-sheet-backdrop "+o,style:mj({},Xj.backdrop,t,{pointerEvents:i}),initial:{opacity:0},animate:{opacity:1},exit:{opacity:0}}))}),al=(0,D.forwardRef)(function(A,j){var e=A.draggableAt,t=e===void 0?"top":e,r=A.children,o=A.style,n=A.className,s=n===void 0?"":n,i=ee(A,["draggableAt","children","style","className"]),k=oi();function l($){var m=$.scrollTop,q=$.scrollHeight,h=$.clientHeight,f=q>h;if(f){var b=m<=0,P=q-m===h,w=t==="top"&&b||t==="bottom"&&P||t==="both"&&(b||P);w?k.setDragEnabled():k.setDragDisabled()}}function c($){l($.currentTarget)}function d($){l($.currentTarget)}var E=Jk()?{onScroll:c,onTouchStart:d}:void 0;return(0,D.createElement)("div",Object.assign({},i,{ref:j,className:"react-modal-sheet-scroller "+s,style:mj({},Xj.scroller,o)},E),r)}),te=rl;te.Container=ol;te.Header=sl;te.Content=nl;te.Backdrop=il;te.Scroller=al;var K6=te;a();B();var RA=G(I());a();B();var aj=G(I());var Bl={small:16,regular:22},kl=v.section`
  z-index: 1;
  background-color: #222222;
  padding: 10px 16px;
  display: flex;
  flex-shrink: 0;
  flex-direction: row;
  align-items: center;
  justify-content: ${A=>A.justifyContent};
  backdrop-filter: blur(10px);
  border-bottom: 1px solid #323232;
  height: ${A=>A.height}px;
  width: 100%;
`;kl.defaultProps={justifyContent:"center",height:$t};var ll=v(Z).attrs({size:16,weight:500,lineHeight:25})``;ll.defaultProps={maxWidth:"280px",noWrap:!0};var cl=v.div`
  display: flex;
  flex-shrink: 0;
  justify-content: center;
  align-items: center;
  padding-bottom: 17px;
  position: relative;
  width: 100%;
`,El=v(ns)`
  position: absolute;
  right: 0;
`,dl=v(mt)`
  position: absolute;
  left: 0;
`,Tt=({children:A,shouldWrap:j,leftButton:e,dropdown:t,titleSize:r="regular"})=>{let o=(0,aj.useMemo)(()=>{if(!e)return aj.default.createElement("div",null);let s=e.type==="back"?"header--back":"header--close",i=e.type==="back"?aj.default.createElement(js,null):aj.default.createElement(pt,null);return aj.default.createElement(dl,{"data-testid":s,onClick:e.onClick},i)},[e]),n=(t?.sections?.length??0)>0||(t?.items?.length??0)>0;return aj.default.createElement(cl,null,o,aj.default.createElement(Z,{weight:500,size:Bl[r],noWrap:!j,maxWidth:"280px"},A),t&&(n||t.onIconClick)?aj.default.createElement(El,{sections:t.sections,items:t.items,icon:t.icon||aj.default.createElement(Zn,null),onIconClick:t?.onIconClick}):aj.default.createElement("div",null))};var ni=({id:A,prompt:j,options:e,context:t,onClose:r})=>{let[o,n]=(0,RA.useState)(""),s=(0,RA.useCallback)(()=>{IA.capture("issueReportedByUser",{data:{selected:o,key:A,context:t,options:e.map(k=>k.key)}}),r()},[o,A,e,t,r]),i=e.map(({key:k})=>({type:"check",id:k,topLeft:AA.t(k),onClick:()=>n(k),active:o===k}));return RA.default.createElement("div",null,RA.default.createElement("div",{className:_t.wrapper},RA.default.createElement(Tt,{leftButton:{type:"close",onClick:r}},AA.t("reportIssueScreenTitle")),RA.default.createElement("div",{className:_t.table},RA.default.createElement("div",{className:_t.prompt},RA.default.createElement(y,{children:j,font:"title1"})),RA.default.createElement(n6,{rows:i}))),RA.default.createElement(uj,null,RA.default.createElement("div",{className:_t.button},RA.default.createElement(os,{buttons:[{text:AA.t("commandSend"),onClick:s,disabled:o==="",theme:"primary"}]}))))},_t={wrapper:T({padding:16,backgroundColor:"bgWallet",height:"100%"}),prompt:T({paddingY:16}),table:T({height:"100%",borderRadius:"table",overflowY:"scroll"}),button:T({paddingX:16,paddingBottom:8})};a();B();var Fj=G(I()),si=G(qo());var $l=v(wA.div)`
  width: 100%;
  height: ${A=>`calc(100% - ${A.headerHeight}px)`};
  margin: 0;
  padding: ${A=>(A.headerHeight??0)>0?"16px":"0"};
  background: #222;
  top: ${A=>A.headerHeight}px;
  position: absolute;
  z-index: ${A=>A.zIndex};
`,pl=v(wA.div)`
  width: 100%;
  height: ${A=>`calc(100% - ${A.headerHeight}px)`};
  margin: 0;
  background: #000000;
  top: ${A=>A.headerHeight}px;
  position: absolute;
  z-index: ${A=>A.zIndex};
`;function ul(A){return A==="slideUpFromBottom"?{initial:{y:self.innerHeight},animate:{y:0},exit:{y:self.innerHeight},transition:{ease:"easeOut",duration:.3}}:{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{ease:"easeOut",duration:.1}}}var ml=({children:A,isFullScreen:j,isOpen:e,animateOnFirstRender:t,presentationStyle:r="slideUpFromBottom",headerHeight:o=$t})=>{let n=ul(r);return Fj.default.createElement(x6,{initial:t},e&&Fj.default.createElement(Fj.default.Fragment,null,Fj.default.createElement(pl,{zIndex:j?3:0,headerHeight:o,initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{ease:"linear",duration:.3}}),Fj.default.createElement($l,{zIndex:j?Nn:0,headerHeight:o,...n},A)))},ii=({modalId:A=Ln,...j})=>{let[e,t]=(0,Fj.useState)();return(0,Fj.useEffect)(()=>{let r;return A&&(r=setTimeout(()=>{let o=document.getElementById(A);if(!o)throw new Error(`Could not find node with id ${A}`);t(o)},200)),()=>{r&&clearTimeout(r)}},[A]),e?(0,si.createPortal)(Fj.default.createElement(ml,{...j}),e):null};a();B();var EA=G(I());var Dt=24,Fl=v.div`
  display: flex;
  flex-direction: column;
  height: 100%;
  position: relative;
  z-index: 9999;
`,ql=v(mt)`
  left: 16px;
  position: absolute;
`,fl=v.div`
  align-items: center;
  border-bottom: 1px solid #323232;
  display: flex;
  height: 46px;
  padding: 16px;
`,Gl=v.div`
  display: flex;
  flex: 1;
  justify-content: center;
`,Il=v(Z).attrs({size:16,weight:500,lineHeight:25})``,gl=v.div`
  display: flex;
  flex: 1;
  flex-direction: column;
  overflow-y: scroll;
  padding: ${A=>A.alignBody==="center"?"16px 16px 0 16px":"16px"};
  justify-content: ${A=>A.alignBody==="center"?"flex-start":"top"};
  align-items: center;
`,vl=v(Z).attrs({size:22,weight:600})`
  align-self: center;
  line-height: normal;
  max-width: 85%;
`,hl=v(o7).attrs({color:n7.grayLight,size:16})`
  align-self: center;
  line-height: normal;
  margin-top: 8px;
  max-width: 85%;
`,bl=v.img`
  align-self: center;
  margin-bottom: 16px;
  max-width: 400px;
  max-height: 140px;
`,yl=v.div`
  margin-bottom: 16px;
  text-align: center;
`,xl=v.div`
  margin: 20px 9px 48px;
`,Ol=v.div`
  display: flex;
  margin-bottom: 15px;
`,Ml=v(Z).attrs({size:16,weight:500,textAlign:"left"})``,Pl=v(Z).attrs({color:"#999",size:14,textAlign:"left",lineHeight:20})``,wl=v.div`
  height: ${Dt}px;
  width: ${Dt}px;
  flex-shrink: 0;
  margin-top: 3px;
  margin-right: 14px;
`,Kl=v(uj)`
  height: auto;
  margin: 0;
`,Sl=v.a.attrs({target:"_blank",rel:"noopener noreferrer"})`
  color: ${A=>A.theme.purple};
  text-decoration: none;
  cursor: pointer;
`,Tl=v(o7).attrs({color:n7.grayLight,size:14})`
  align-self: center;
  line-height: normal;
  margin-bottom: 16px;
  max-width: 100%;
`,_l=({icon:A,title:j,subtitle:e})=>EA.default.createElement(Ol,null,EA.default.createElement(wl,null,typeof A=="string"?EA.default.createElement("img",{src:A,width:Dt,height:Dt}):A),EA.default.createElement("div",null,EA.default.createElement(Ml,null,j),EA.default.createElement(Pl,null,e))),ai=A=>{let{handleHideModalVisibility:j}=eA(),{bodyTitle:e,bodyDescription:t,details:r,icon:o,onDismiss:n,headerTitle:s,FooterComponent:i,alignBody:k="top",footerNotei18nKey:l,footerNoteLink:c}=A,d=(0,EA.useCallback)(()=>{j("interstitial")},[j]),E=(0,EA.useCallback)(()=>{n?.(),d()},[d,n]);return EA.default.createElement(Fl,null,EA.default.createElement(fl,{onClick:E},EA.default.createElement(ql,null,EA.default.createElement(pt,null)),EA.default.createElement(Gl,null,EA.default.createElement(Il,null,s))),EA.default.createElement(gl,{alignBody:k},typeof o=="string"?EA.default.createElement(bl,{src:o}):EA.default.createElement(yl,null,o),EA.default.createElement(vl,null,e),t&&typeof t=="string"?EA.default.createElement(hl,null,t):t,r&&EA.default.createElement(xl,null,r.map($=>EA.default.createElement(_l,{key:$.title,...$})))),i&&EA.default.createElement(Kl,{removeFooterExpansion:!0},l&&c&&EA.default.createElement(Tl,null,EA.default.createElement(ss,{i18nKey:l},"Our Privacy Policy has changed. ",EA.default.createElement(Sl,{href:c},"Learn More"))),EA.default.createElement(i,null)))};a();B();var Bi=v(K6)`
  .react-modal-sheet-backdrop {
    /* custom styles */
  }
  .react-modal-sheet-container {
    background-color: rgb(34, 34, 34) !important;
  }
  .react-modal-sheet-header {
    /* custom styles */
  }
  .react-modal-sheet-drag-indicator {
    /* custom styles */
  }
  .react-modal-sheet-content {
    margin: 0 15px 15px;
  }
`,ki=v.div`
  height: 15px;
`;a();B();var Bj=G(I());a();B();var V=G(I());a();B();var B6=G(I()),li=({children:A,loadNext:j,hasNext:e,isLoadingNext:t,style:r,loadingElement:o=B6.default.createElement(b6,null)})=>{let n=(0,B6.useRef)(null),s=(0,B6.useCallback)(()=>{if(n.current){let{scrollTop:i,scrollHeight:k,clientHeight:l}=n.current;k-(i+l)<=1&&e&&!t&&j()}},[j,e,t]);return B6.default.createElement("div",{className:Dl,style:r,onScroll:s,ref:n},A,t?B6.default.createElement(F,{alignItems:"center",justifyContent:"center"},o):null)},Dl=T({display:"flex",flexDirection:"column",overflowY:"auto",gap:"list"});a();B();var Ht=G(I());var Hl=v.div`
  padding: 16px 20px;
  background: ${A=>I6(A.color,.05)};
  border: 1px solid ${A=>I6(A.color,.08)};
  width: 100%;
  border-radius: 8px;
  display: flex;
  flex-direction: column;
  gap: 5px;
`,ci=24,Cl=v(Z).attrs({size:16,lineHeight:ci,weight:600})`
  color: ${A=>A.color};
  max-height: ${A=>A.maxLines?`${A.maxLines*ci}px`:"none"};
  overflow: ${A=>A.maxLines?"hidden":"visible"};
`,Ll=v(Z).attrs({size:14,lineHeight:21})`
  color: ${A=>A.color};
`,Ct=({title:A,description:j,color:e,titleMaxLines:t})=>Ht.default.createElement(Hl,{color:e},!!A&&Ht.default.createElement(Cl,{color:e,maxLines:t},A),!!j&&Ht.default.createElement(Ll,{color:e},j));a();B();var Lt=G(I());a();B();var Uj=G(I()),Ei=(0,Uj.memo)(({activityItem:{interactionData:A,chainMeta:{status:j,chainId:e},owner:t},size:r="small",onClick:o})=>{let n=(0,Uj.useMemo)(()=>{let s=j==="failed",i=(()=>{switch(A.transactionType){case"TOKEN_SEND":{let d=A.balanceChanges[0],{token:{tokenType:E,logoURI:$,symbol:m,id:q},to:h}=d,f=t.toLowerCase()===h.toLowerCase()?"receive":"send",b=v6(E)?void 0:m||nt(at(q)||""),P=v6(E)?"collectible":"fungible";return{badge:{type:"icon",preset:f},image:{type:P,src:$,fallback:b},onClick:o}}case"TOKEN_BURN":{let{token:{tokenType:c,logoURI:d,symbol:E,id:$}}=A,m=v6(c)?void 0:E||nt(at($)||""),q=v6(c)?"collectible":"fungible";return{badge:{type:"icon",preset:"burn"},image:{type:q,src:d,fallback:m},onClick:o}}case"TOKEN_SWAP":{let{receiveToken:c,sendToken:d,dapp:E}=A;return c.logoURI&&d.logoURI&&!s?{image:{type:"swap"},tokenBuy:{src:c.logoURI},tokenSell:{src:d.logoURI},onClick:o}:{image:{type:"icon",preset:"swap"},...E&&{badge:{src:E.logoURI}}}}case"BRIDGE_INIT":return{image:{type:"icon",preset:"swap"},onClick:o};case"TOKEN_UNWRAP":{let{token:c}=A;return c.logoURI?{image:{type:"fungible",src:c.logoURI},badge:{type:"icon",preset:"receive"},onClick:o}:{image:{type:"icon",preset:"swap"},onClick:o}}case"STAKE":case"WITHDRAW_STAKE":case"DEACTIVATE_STAKE":switch(e){case fA.Solana.Devnet:case fA.Solana.Localnet:case fA.Solana.Testnet:case fA.Solana.Mainnet:return{image:{type:"fungible",preset:"sol"},badge:{type:"icon",preset:"star"},onClick:o};default:return{image:{type:"icon",preset:"star"},onClick:o}}case"COLLECTIBLE_LIST":case"COLLECTIBLE_BUY_ITEM":case"COLLECTIBLE_CANCEL_BID":case"COLLECTIBLE_BID_ITEM":case"COLLECTIBLE_UNLIST":case"COLLECTIBLE_SELL_ITEM":{let{dapp:c,item:d}=A;return d.logoURI?{image:{type:"collectible",src:d.logoURI},...c&&{badge:{src:c.logoURI}},onClick:o}:{image:{type:"dapp",src:c?.logoURI},onClick:o}}case"TOKEN_APPROVAL":{let{dapp:c,token:d}=A,E=v6(d.tokenType)?"collectible":"fungible";if(d.logoURI||!v6(d.tokenType)){let $=d.symbol||nt(at(d.id)||"");return{image:{type:E,src:d.logoURI,fallback:$},...c&&{badge:{src:c.logoURI}},onClick:o}}else return{image:{type:"dapp",src:c?.logoURI},onClick:o}}case"COLLECTION_APPROVAL":{let{dapp:c,collection:d}=A;return d.logoURI?{image:{type:"collectible",src:d.logoURI},...c&&{badge:{src:c.logoURI}},onClick:o}:{image:{type:"dapp",src:c?.logoURI},onClick:o}}case"CANCEL_TX":return{image:{type:"icon",preset:"x"},dimmed:!1,badge:void 0,onClick:o};case"CANCEL_ORDER":case"UNCLASSIFIED_APP_INTERACTION":default:{let{dapp:c}=A;return c?.logoURI?{image:{type:"dapp",src:c.logoURI},onClick:o}:{image:{type:"icon",preset:s?"x":"check"},dimmed:!1,badge:void 0,onClick:o}}}})(),k=i.image.type==="icon"&&i.image.preset==="x",l={...s&&!k&&{badge:{type:"icon",preset:"x"},dimmed:!0}};return{...i,...l}},[j,A,t,o,e]);return Uj.default.createElement(y6,{...n,size:j7[r]})}),di=(0,Uj.memo)(({pendingTransactionType:A,size:j="small",logoUri:e,isError:t,isConfirmed:r})=>{let o=(0,Uj.useMemo)(()=>{let n=(()=>{switch(A){case"cancel":return{image:{type:"icon",preset:"x"}};case"send":return e?{image:{type:"fungible",src:e},badge:{type:"icon",preset:"send"}}:{image:{type:"icon",preset:"send"}};case"swap":return{image:{type:"icon",preset:"swap"}};case"createAccountAndDelegateStake":case"delegateStake":case"deactivateState":case"withdrawStake":return{image:{type:"icon",preset:"star"}};case"burn":return{image:{type:"icon",preset:"burn"}};case"dappInteraction":return e?{image:{type:"dapp",src:e}}:{image:{type:"icon",preset:"check"}};case"createListing":case"editListing":case"removeListing":return e?{image:{type:"collectible",src:e}}:{image:{type:"icon",preset:"check"}};case"unwrapSOL":return e?{image:{type:"fungible",src:e},badge:{type:"icon",preset:"receive"}}:{image:{type:"icon",preset:"check"}};case"createAssociatedTokenAccount":case"solanaPayTransaction":default:return e?{image:{type:"fungible",src:e}}:{image:{type:"icon",preset:"check"}}}})(),s=n.image.type==="icon"&&n.image.preset==="x",i={loading:!r,...t&&!s&&{badge:{type:"icon",preset:"x"},dimmed:!0}};return{...n,...i}},[r,t,e,A]);return Uj.default.createElement(y6,{...o,size:j7[j]})});var Nl=({activityItem:A,onClick:j})=>{let{t:e}=O(),{getKnownAddressLabel:t}=Vo(),{data:r}=YA(),o=ln(A,e,Ei,t,r?.addresses??[]);return Lt.default.createElement(yj,{verticalAlign:"baseline",onClick:j,start:o.start,topLeft:o.topLeft,topRight:o.topRight,bottomLeft:o.bottomLeft,bottomRight:o.bottomRight})},Nt=(0,Lt.memo)(Nl);a();B();var $i=G(I());var pi=({pendingTransaction:A,onClick:j})=>{let e=cn(A,di);return $i.default.createElement(yj,{truncate:"left",onClick:j,start:e.start,topLeft:e.topLeft,topRight:e.topRight,bottomLeft:e.bottomLeft,bottomRight:e.bottomRight})};var Rl=A=>A.reduce((j,e)=>{let t=tt((e?.timestamp??0)*1e3).format("YYYY-MM-DD");return(j[t]=j[t]||[]).push(e),j},{}),Vl=(A,j,e)=>{let t=!1,r=Rl(A),o=Object.keys(r).sort((n,s)=>s.localeCompare(n)).map(n=>{let s=tt(n),i=tt().diff(s,"days");t=t||i===0;let k=j("richTransactionsToday");return i>1?k=s.format("MMM D, YYYY"):i>0&&(k=j("richTransactionsYesterday")),{title:k,data:r[n]}});return e&&!t&&o.unshift({title:j("richTransactionsToday"),data:[]}),o},Xl=(A,j,e)=>{let[t,r]=(0,V.useState)(!1);(0,V.useEffect)(()=>{j&&A.current&&t&&(A.current.scrollIntoView(!1),r(!1))},[j,A,t]),(0,V.useEffect)(()=>{e&&r(!0)},[e])},Te=({header:A,pendingTransactions:j,dataPages:e,isLoading:t,fetchNextPage:r,refetch:o,hasNextPage:n,isFetchingNextPage:s,isError:i,isRefreshError:k,isRefreshingConfirmedTxs:l,isDeveloperMode:c,showActivityItemModal:d,showPendingTransactionModal:E})=>{let{t:$}=O(),m=(0,V.useRef)(null);Xl(m,i,s);let q=(0,V.useMemo)(()=>(e||[]).reduce((K,Q)=>[...K,...Q?.results??[]],[]),[e]),h=(0,V.useRef)(null),f=(0,V.useMemo)(()=>{let K=q.filter(Q=>!(j||[]).find(C=>{let z;switch(C.networkID){case fA.Base.Mainnet:case fA.Base.Sepolia:case fA.Monad.Mainnet:case fA.Monad.Testnet:case fA.Monad.Devnet:case fA.Ethereum.Mainnet:case fA.Ethereum.Sepolia:case fA.Polygon.Mainnet:case fA.Polygon.Amoy:{z=C.data.transactions.some(g=>g.hash===Q.chainMeta.transactionId);break}case fA.Solana.Mainnet:case fA.Solana.Testnet:case fA.Solana.Devnet:case fA.Solana.Localnet:{z=C.data.signature===Q.chainMeta.transactionId;break}case fA.Bitcoin.Mainnet:case fA.Bitcoin.Testnet:{z=C.data.txID===Q.chainMeta.transactionId;break}case fA.Sui.Mainnet:case fA.Sui.Testnet:{z=C.data.digest===Q.chainMeta.transactionId;break}}return z}));return K.length?Vl(K,$,l):[]},[q,$,j,l]),b=!!f.length;if(!b&&!t&&!i&&!j?.length)return V.default.createElement(V.default.Fragment,null,A,V.default.createElement(he,null,$("transactionsNoActivity")));let P=K=>{d({activityItem:K}),IA.capture("activityItemDetailOpenClick",{data:{networkId:K.chainMeta.chainId,chainId:K.chainMeta.chainId,transactionType:K.interactionData.transactionType}})},w=K=>WA.isEVMNetworkID(K.networkID)||WA.isBitcoinNetworkID(K.networkID)?()=>{E?.({pendingTransactionId:K.id}),IA.capture("transactionDetailOpenClick",{data:{chainID:K.networkID}})}:void 0,H=null;return i&&c?H=V.default.createElement("div",{ref:m},V.default.createElement(Ct,{color:"#EB3742",title:$("activityItemsTestnetNotAvailable")})):i&&!c&&!b?H=V.default.createElement(F,{marginTop:48},V.default.createElement(qt,{title:$("errorAndOfflineSomethingWentWrong"),description:$("errorAndOfflineUnableToFetchTransactionHistory"),buttonText:$("commandRetry"),refetch:o})):i&&!c&&b&&(H=V.default.createElement("div",{ref:m},V.default.createElement(Ct,{color:"#EB3742",title:$("activityItemsPagingFailed")}))),V.default.createElement(li,{style:{margin:`-${ZA.paddingScreen}`,padding:ZA.paddingScreen},loadNext:r,hasNext:!!n,isLoadingNext:s},V.default.createElement(F,{ref:h,alignItems:"center"},A||null,V.default.createElement(F,{testID:"activity-list-transactions-container",alignItems:"stretch",overflow:"hidden",width:"100%",gap:"list"},t&&V.default.createElement(Jl,null),!t&&V.default.createElement(V.default.Fragment,null,k&&b&&V.default.createElement(Ct,{color:"#EB3742",title:$("activityItemsRefreshFailed")}),V.default.createElement(x6,null,!!j?.length&&V.default.createElement(zl,{pendingTransactions:j,onClickPendingTransaction:w})),f.map(({title:K,data:Q},C)=>V.default.createElement(Ul,{key:`${K}-${C}`,title:K,activityItems:Q,isLoading:C===0&&l,onClickItem:P})),H))))},Ul=({title:A,activityItems:j,isLoading:e,onClickItem:t})=>V.default.createElement(V.default.Fragment,null,V.default.createElement(ui,null,A),e&&V.default.createElement(b6,null),j.map(r=>V.default.createElement(Nt,{"data-testid":"activity-list-transaction-row",key:r.owner+"-"+r.id,activityItem:r,onClick:()=>t(r)}))),zl=({pendingTransactions:A,onClickPendingTransaction:j})=>{let{t:e}=O();return V.default.createElement(wA.div,{exit:{height:0,opacity:0},transition:{duration:.2}},V.default.createElement(F,{gap:"list"},V.default.createElement(ui,null,e("richTransactionDetailPending")),V.default.createElement(x6,null,A.map(t=>V.default.createElement(wA.div,{key:t.ownerAddress+"-"+t.id,exit:{height:0,opacity:0},transition:{duration:.2}},V.default.createElement(pi,{pendingTransaction:t,onClick:j(t)}))))))},Jl=()=>V.default.createElement(V.default.Fragment,null,V.default.createElement(F,{marginTop:14},V.default.createElement($j,{height:9,width:80})),[1,2,3,4].map(A=>V.default.createElement(b6,{key:`fungible-token-row-loader-${A}`}))),ui=({children:A})=>V.default.createElement(y,{font:"bodyMedium",color:"textSecondary",marginTop:6},A);var mi=({isSpam:A})=>{let{t:j}=O(),{data:e}=YA(),[t,r]=(0,Bj.useMemo)(()=>{let{addresses:m=[]}=e??{};return[m,m.map(q=>Jo(q))]},[e]),o=an({accounts:r,isSpam:A}),{data:n}=An(t);(0,Bj.useEffect)(()=>{n?.removedPendingTransactions&&n?.removedPendingTransactions.length>0&&o.refetch()},[n,r,A]);let{data:s=Mo,status:i}=Do(),k=s.isDeveloperMode,l=o.isPending||i==="pending",{handleShowModalVisibility:c,handleHideModalVisibility:d}=eA(),E=(0,Bj.useCallback)(m=>c("activityItem",m),[c]),$=(0,Bj.useCallback)(m=>c("pendingTransaction",m),[c]);if(A){let m=()=>{d("spamActivity")};return Bj.default.createElement(Te,{dataPages:o.data?.pages,fetchNextPage:o.fetchNextPage,hasNextPage:o.hasNextPage,header:Bj.default.createElement(ej,{onLeftButtonClick:m,useCloseButton:!0},j("spamActivityTitle")),isDeveloperMode:k,isError:o.isError,isFetchingNextPage:o.isFetchingNextPage,isLoading:l,isRefreshError:o.isRefetchError,isRefreshingConfirmedTxs:o.isRefetching,refetch:o.refetch,showActivityItemModal:E})}else{let m=[{label:j("recentActivityRefresh"),key:"refresh-activity",onClick:o.refetch},{label:j("spamActivityAction"),key:"view-spam-activity",onClick:()=>{c("spamActivity",void 0,{event:"showspamActivityModal"})}}];return Bj.default.createElement(Te,{dataPages:o.data?.pages,fetchNextPage:o.fetchNextPage,hasNextPage:o.hasNextPage,header:Bj.default.createElement(ej,{items:m},j("recentActivityPrimaryText")),isDeveloperMode:k,isError:o.isError,isFetchingNextPage:o.isFetchingNextPage,isLoading:l,isRefreshError:o.isRefetchError,isRefreshingConfirmedTxs:o.isRefetching,pendingTransactions:n?.pendingTransaction||[],refetch:o.refetch,showActivityItemModal:E,showPendingTransactionModal:$})}};a();B();var pA=G(I());a();B();var Rt=G(I()),Fi=({text:A,copied:j})=>Rt.default.createElement(F,{direction:"row",alignItems:"center",justifyContent:"flex-end",gap:4,minWidth:96},Rt.default.createElement(y,{font:"caption",color:"textSecondary"},A),j&&Rt.default.createElement(dA.Check,{name:"check",size:12,color:"textSecondary"}));var Wl=T({display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer"}),qi=({accountIdentifier:A})=>{let{data:j}=_o(e=>e.find(t=>t.identifier===A));return j?pA.default.createElement(F,{height:"100%"},pA.default.createElement(Yl,null),pA.default.createElement(Ql,{account:j}),pA.default.createElement(Zl,{chainAddress:j.addresses[0]})):null},Yl=()=>{let{t:A}=O(),{handleHideModalVisibility:j}=eA();return pA.default.createElement(F,{direction:"row",alignItems:"center",padding:16,borderBottomWidth:1,borderBottomColor:"borderSecondary",borderBottomStyle:"solid"},pA.default.createElement("div",{className:Wl,onClick:()=>j("additionalNetworks")},pA.default.createElement(dA.X,{size:16})),pA.default.createElement(F,{justifyContent:"center",direction:"row",flex:1},pA.default.createElement(y,{font:"title1"},A("additionalNetworksTitle"))))},Ql=({account:A})=>{let{t:j}=O(),[e,t]=(0,pA.useState)(null),[r,o]=(0,pA.useState)(null),n=Ho(A.addresses),s=Co(n),i=(0,pA.useMemo)(()=>n.map((l,c)=>({name:s[c],chainAddress:l})),[n,s]),k=l=>{r&&clearTimeout(r),t(l);let c=setTimeout(()=>t(null),3e3);o(c)};return pA.default.createElement(F,{paddingTop:16,paddingLeft:16,paddingRight:16,flex:1,overflow:"auto",gap:8},pA.default.createElement(y,{font:"body",color:"textPrimary"},j("copyAddressRowAdditionalNetworksHeader")),pA.default.createElement(n6,{rows:i.map(({name:l,chainAddress:c})=>({onClick:()=>k(c),"data-testid":`account-header-chain-${c.networkID}`,topLeft:{before:pA.default.createElement(is,{networkID:c.networkID,size:18,className:T({marginRight:4})}),text:l},bottomRight:pA.default.createElement(Fi,{text:e===c?j("pastParticipleCopied"):g6(c.address,4),copied:e===c})}))}),pA.default.createElement(y,{font:"body",color:"textPrimary"},j("copyAddressRowAdditionalNetworksDescription")))},Zl=({chainAddress:A})=>{let{t:j}=O(),{handleHideModalVisibility:e}=eA(),t=()=>{as(A.address),e("additionalNetworks"),KA.success(j("pastParticipleCopied"))};return pA.default.createElement(F,{padding:16},pA.default.createElement(sj,{direction:"row"},pA.default.createElement(NA,{onClick:()=>e("additionalNetworks"),theme:"secondary"},j("commandClose")),pA.default.createElement(NA,{onClick:t,theme:"primary"},j("commandCopy"))))};a();B();a();B();a();B();a();B();var kj=G(I()),$7=2,p7=20,Ac=/^[a-zA-Z0-9]+$/,Vt=({defaultValue:A,defaultHelper:j})=>{let{t:e}=O(),t=Lo(),r=hj($=>$.username),o=hj($=>$.setAvailable),n=hj($=>$.setUsername),s=hj($=>$.reset),[i,k]=(0,kj.useState)(r||A||t||""),{refetch:l}=So(i),c=(0,kj.useRef)(null),d=(0,kj.useCallback)(async({value:$})=>{if($===t)return{status:"secondary"};if($.length<$7)return{status:"fail",message:e("settingsClaimUsernameValidationLengthError",{minChar:$7,maxChar:p7})};if($.length>p7)return{status:"fail",message:e("settingsClaimUsernameValidationLengthError",{minChar:$7,maxChar:p7})};if(!Ac.test($))return{status:"fail",message:e("settingsClaimUsernameValidationCharacterError")};try{let{data:m,isError:q}=await l();return q?{status:"fail",message:e("settingsClaimUsernameValidationServerError")}:m?(o(!0),n($),{status:"pass",message:e("settingsClaimUsernameValidationAvailable")}):(o(!1),{status:"fail",message:e("settingsClaimUsernameValidationUnavailable")})}catch{return o(!1),{status:"fail",message:e("settingsClaimUsernameValidationServerError")}}},[t,e,l,o,n]),E=(0,kj.useCallback)($=>{s(),$.startsWith("@")?n($.slice(1)):n($.trim())},[s,n]);return(0,kj.useEffect)(s,[s]),(0,kj.useEffect)(()=>{(A||t)&&(E(A||t||""),c?.current?.validate())},[t,A,E]),kj.default.createElement(lt,{id:"username",showLabel:!1,autoCapitalize:"none",autoCorrect:Go?!1:"off",autoComplete:"off",autoFocus:!0,label:e("settingsClaimUsernameLabel"),onChangeText:E,onClear:s,placeholder:e("settingsClaimUsernamePlaceholderV2"),type:"text",value:i,setValue:k,ref:c,validateOn:"both",validator:d,pendingHelper:e("settingsClaimUsernameValidationLoading"),children:"@",defaultHelper:j})};a();B();var k6=G(I());var fi=({onNext:A})=>{let{t:j}=O(),e=hj(n=>n.username),t=hj(n=>n.available),{data:r}=YA(),o=r?.identifier?`user${r?.identifier?.replace(/\D/g,"")?.substring(0,5)}`:void 0;return k6.default.createElement(F,{flex:1,justifyContent:"space-between"},k6.default.createElement(F,{gap:16},k6.default.createElement(F,{gap:4,padding:16,alignItems:"center"},k6.default.createElement(y,{font:fe?"heading2Semibold":"heading4Semibold",children:j("settingsClaimUsernameTitle"),align:"center",marginBottom:8}),k6.default.createElement(y,{font:"caption",color:"textSecondary",align:"center",children:j("settingsClaimUsernameHelperTextAlt")})),k6.default.createElement(Vt,{defaultValue:o})),k6.default.createElement(NA,{theme:"primary",disabled:!t||!e,onPress:A},j("settingsClaimUsernameContinue")))};a();B();var qj=G(I()),Gi=A=>qj.default.createElement(jc,{...A}),jc=(0,qj.memo)(({title:A,description:j,onIntroComplete:e})=>qj.default.createElement(qj.default.Fragment,null,qj.default.createElement(F,{flex:1,alignItems:"center",justifyContent:"center"},qj.default.createElement(mn,{autoPlay:!0,onIntroComplete:e}),qj.default.createElement(F,{marginTop:32,gap:8},qj.default.createElement(y,{align:"center",font:"heading4Semibold",children:A}),qj.default.createElement(y,{align:"center",font:"caption",color:"textSecondary",children:j})))));a();B();a();B();a();B();var ec=hA.record(hA.string(),hA.number()),tc=hA.object({type:hA.union([hA.literal("Buffer"),hA.literal("Object")]),data:hA.array(hA.number())}),rc=hA.union([ec,tc]),Ii=hA.object({seeds:hA.array(hA.tuple([hA.string(),rc]))}),gi=A=>oc(A)?new Uint8Array(Buffer.from(A.data)):new Uint8Array(Object.values(A)),oc=A=>!!A&&typeof A=="object"&&Rr("type",A)&&typeof A.type=="string"&&Rr("data",A)&&Array.isArray(A.data)&&A.data.every(j=>!Number.isNaN(parseInt(j))),vi=hA.object({deviceId:hA.string(),encryptionKey:hA.string().length(44).base64()});a();B();a();B();var l6="/seedless",nc="https://phantom-wallet.zendesk.com/hc/en-us/articles/32775281256851";var hi="/seedless";a();B();var re=class extends Error{reasonString;reasonCode;constructor(j){super("Failed to backup share from Juicebox"),this.reasonCode=j,this.reasonString=u7[j]}},oe=class extends Error{guessesRemaining;reasonString;reasonCode;constructor(j,e){super("Failed to recover share from Juicebox"),this.guessesRemaining=e,this.reasonCode=j,this.reasonString=Oj[j]}},_e=class extends Error{reasonString;reasonCode;constructor(j){super("Failed to delete share from Juicebox"),this.reasonCode=j,this.reasonString=bi[j]}},u7=(r=>(r[r.InvalidAuth=0]="InvalidAuth",r[r.UpgradeRequired=1]="UpgradeRequired",r[r.Assertion=2]="Assertion",r[r.Transient=3]="Transient",r))(u7||{}),Oj=(s=>(s[s.InvalidPin=0]="InvalidPin",s[s.NotRegistered=1]="NotRegistered",s[s.InvalidAuth=2]="InvalidAuth",s[s.UpgradeRequired=3]="UpgradeRequired",s[s.Assertion=4]="Assertion",s[s.Transient=5]="Transient",s[s.CooldownTimer=6]="CooldownTimer",s))(Oj||{}),bi=(o=>(o[o.InvalidAuth=0]="InvalidAuth",o[o.UpgradeRequired=1]="UpgradeRequired",o[o.RateLimitExceeded=2]="RateLimitExceeded",o[o.Assertion=3]="Assertion",o[o.Transient=4]="Transient",o))(bi||{}),Xt=A=>De(A)||He(A)||yi(A),De=A=>A instanceof oe,He=A=>A instanceof re,yi=A=>A instanceof _e;globalThis.JuiceboxGetAuthToken=async A=>{let j=Buffer.from(A).toString("hex");return globalThis.JuiceboxTokens[j]};var m7=class{encoder;provider;constructor(j){this.encoder=new TextEncoder,this.provider=j}async getJwts(j){let e=await gj.api().bearer(j).post(`${hi}/v1/juiceboxtoken`);(vj(e)||e.status===304)&&this.provider.setJuiceboxTokens(e.data)}async sendJuiceboxShare(j,e,t,r){await this.getJwts(r);try{await this.provider.backupShare(j,e,this.encoder.encode(t),this.encoder.encode("phantom"),7),L.addBreadcrumb("se*dless","Successful backup share to Juicebox","debug")}catch(o){L.addBreadcrumb("se*dless","Failed to backup share to Juicebox","error");let n=new re(o);throw L.captureError(n,"se*dless"),n}return!0}async getJuiceboxShare(j,e,t){await this.getJwts(t);try{let r=await this.provider.recoverShare(j,this.encoder.encode(e),this.encoder.encode("phantom"));return L.addBreadcrumb("se*dless","Successfully recovered share from Juicebox","debug"),r}catch(r){let o=r.reason,n=r.guessesRemaining!==void 0?r.guessesRemaining:r.guesses_remaining;L.addBreadcrumb("se*dless","Failed to recover share from Juicebox","error");let s=new oe(o,n);throw L.captureError(s,"se*dless"),s}}async deleteShare(j,e){await this.getJwts(e);try{await this.provider.deleteShare(j),L.addBreadcrumb("se*dless","Successfully deleted share from Juicebox","debug")}catch(t){L.addBreadcrumb("se*dless","Failed to delete share from Juicebox","error");let r=new _e(t);throw L.captureError(r,"se*dless"),r}}};a();B();a();B();var se=G(I()),xi=(0,se.createContext)(null);function sc({children:A,seedlessRepository:j}){return se.default.createElement(xi.Provider,{value:{seedlessRepository:j}},A)}function ic(){let A=(0,se.useContext)(xi);if(!A)throw new Error("useSeedlessContext must be used within a SeedlessProvider");return A}function bA(){return ic().seedlessRepository}a();B();var F7="@phantom/seedless",S6={hasSeedlessBundle:["seedless",`${F7}:has_seedless_bundle`],needsBundleUpdate:["seedless",`${F7}:needs_bundle_update`],timeLeftCooldown:["seedless",`${F7}:time_left_cooldown`]};function ac(){let A=S6.hasSeedlessBundle,j=bA(),e=st();return U6({enabled:e,queryKey:A,queryFn:async()=>await j.hasSeedlessBundle()})}a();B();a();B();var Ut=async A=>{await A.invalidateQueries({queryKey:S6.hasSeedlessBundle})},ie=async A=>{await A.invalidateQueries({queryKey:S6.needsBundleUpdate})};function Bc(){let A=bA(),j=Hj(),e=GA();return zA({mutationFn:async r=>await A.backup(r),onSuccess:async()=>{e.capture("seedlessBackupSuccess"),await Ut(j),await ie(j)},onError:()=>{e.capture("seedlessBackupError")}})}a();B();function zt(){let A=bA();return zA({mutationFn:async()=>A.backupCleanup()})}a();B();function f7(){let A=bA(),j=Hj(),e=GA();return zA({mutationFn:async r=>await A.recover(r),onSuccess:async()=>{e.capture("seedlessRecoverSuccess"),await ie(j)},onError:()=>{e.capture("seedlessRecoverError")}})}a();B();function Jt(){let A=bA(),j=GA();return zA({mutationFn:async t=>{await A.verifyPin(t)},onSuccess:()=>{L.addBreadcrumb("se*dless","Successfully verified PIN","info"),j.capture("seedlessVerifyPinSuccess")},onError:()=>{L.addBreadcrumb("se*dless","Failed to verify PIN","error"),j.capture("seedlessVerifyPinError")}})}a();B();function kc(){let A=bA(),j=Hj();return zA({mutationFn:async()=>await A.deleteBundle(),onSuccess:async()=>{await Ut(j),await ie(j)}})}a();B();function Wt(){let A=bA(),j=GA();return zA({mutationFn:async t=>await A.resetBundleFromDevice(t.pin,t.seedlessEntropies),onSuccess:()=>{L.addBreadcrumb("se*dless","Successfully reset bundle from device","info"),j.capture("seedlessResetPinSuccess")},onError:()=>{L.addBreadcrumb("se*dless","Failed to reset bundle from device","error"),j.capture("seedlessResetPinError")}})}a();B();var lc=1e3,cc=500;function Ce(){let A=S6.timeLeftCooldown,j=bA(),e=st();return U6({enabled:e,queryKey:A,queryFn:async()=>await j.timeLeftCooldown(),refetchInterval:lc,refetchOnMount:"always",staleTime:cc})}a();B();var Yt=G(I()),Oi=1e3,Qt=()=>{let[A,j]=(0,Yt.useState)(0);return(0,Yt.useEffect)(()=>{if(!A)return;let e=setInterval(async()=>{j(A-Oi)},Oi);return()=>clearInterval(e)},[A]),{cooldownTimer:A,setCooldownTimer:j}};a();B();var G7=G(I());var Ec="seedless-pin-verification-timer-in-ms",dc=hA.string().transform(A=>Number(A)).pipe(hA.number()).nullish().catch(null),I7=()=>{let A=bA(),j=(0,G7.useMemo)(()=>Io.getMultivariateAssignment(Ec,{dependent_flag:"enable-seedless-pin-verification-interstitial",variation_served:"true"}),[]),e=(0,G7.useMemo)(()=>dc.parse(j)??2592e6,[j]),t=async()=>{let{expired:r,timestampInMs:o}=await A.getPinVerificationTimer({timerInMs:e});return{expired:r,timestampInMs:o}};return U6({queryKey:["seedlessPinVerificationLockTimerInMs"],queryFn:t,refetchInterval:e??2592e6,staleTime:e??2592e6})};a();B();var Jj=()=>{let A=Hj(),j=bA();return zA({mutationFn:async()=>{L.addBreadcrumb("se*dless","Resetting PIN verification timer","info"),await j.setPinVerificationTimer(Date.now())},onSuccess:async()=>{L.addBreadcrumb("se*dless","Successfully reset PIN verification timer","info"),await A.invalidateQueries({queryKey:["seedlessPinVerificationLockTimerInMs"]})},onError:()=>{L.addBreadcrumb("se*dless","Failed to reset PIN verification timer","error")}})};a();B();var x7=G(I());a();B();a();B();a();B();a();B();function g7(A){if(!Number.isSafeInteger(A)||A<0)throw new Error(`Wrong positive integer: ${A}`)}function $c(A){if(typeof A!="boolean")throw new Error(`Expected boolean, not ${A}`)}function Mi(A,...j){if(!(A instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(j.length>0&&!j.includes(A.length))throw new TypeError(`Expected Uint8Array of length ${j}, not of length=${A.length}`)}function pc(A){if(typeof A!="function"||typeof A.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");g7(A.outputLen),g7(A.blockLen)}function uc(A,j=!0){if(A.destroyed)throw new Error("Hash instance has been destroyed");if(j&&A.finished)throw new Error("Hash#digest() has already been called")}function mc(A,j){Mi(A);let e=j.outputLen;if(A.length<e)throw new Error(`digestInto() expects output buffer of length at least ${e}`)}var Fc={number:g7,bool:$c,bytes:Mi,hash:pc,exists:uc,output:mc},Zt=Fc;a();B();a();B();var Ne={node:void 0,web:typeof self=="object"&&"crypto"in self?self.crypto:void 0};var jr=A=>new DataView(A.buffer,A.byteOffset,A.byteLength),Gj=(A,j)=>A<<32-j|A>>>j,qc=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!qc)throw new Error("Non little-endian hardware is not supported");var fc=Array.from({length:256},(A,j)=>j.toString(16).padStart(2,"0"));function er(A){if(!(A instanceof Uint8Array))throw new Error("Uint8Array expected");let j="";for(let e=0;e<A.length;e++)j+=fc[A[e]];return j}function Pi(A){if(typeof A!="string")throw new TypeError("hexToBytes: expected string, got "+typeof A);if(A.length%2)throw new Error("hexToBytes: received invalid unpadded hex");let j=new Uint8Array(A.length/2);for(let e=0;e<j.length;e++){let t=e*2,r=A.slice(t,t+2),o=Number.parseInt(r,16);if(Number.isNaN(o)||o<0)throw new Error("Invalid byte sequence");j[e]=o}return j}function Gc(A){if(typeof A!="string")throw new TypeError(`utf8ToBytes expected string, got ${typeof A}`);return new TextEncoder().encode(A)}function v7(A){if(typeof A=="string"&&(A=Gc(A)),!(A instanceof Uint8Array))throw new TypeError(`Expected input type is Uint8Array (got ${typeof A})`);return A}var Ar=class{clone(){return this._cloneInto()}};function h7(A){let j=t=>A().update(v7(t)).digest(),e=A();return j.outputLen=e.outputLen,j.blockLen=e.blockLen,j.create=()=>A(),j}function Re(A=32){if(Ne.web)return Ne.web.getRandomValues(new Uint8Array(A));if(Ne.node)return new Uint8Array(Ne.node.randomBytes(A).buffer);throw new Error("The environment doesn't have randomBytes function")}function Ic(A,j,e,t){if(typeof A.setBigUint64=="function")return A.setBigUint64(j,e,t);let r=BigInt(32),o=BigInt(4294967295),n=Number(e>>r&o),s=Number(e&o),i=t?4:0,k=t?0:4;A.setUint32(j+i,n,t),A.setUint32(j+k,s,t)}var tr=class extends Ar{constructor(j,e,t,r){super(),this.blockLen=j,this.outputLen=e,this.padOffset=t,this.isLE=r,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(j),this.view=jr(this.buffer)}update(j){Zt.exists(this);let{view:e,buffer:t,blockLen:r}=this;j=v7(j);let o=j.length;for(let n=0;n<o;){let s=Math.min(r-this.pos,o-n);if(s===r){let i=jr(j);for(;r<=o-n;n+=r)this.process(i,n);continue}t.set(j.subarray(n,n+s),this.pos),this.pos+=s,n+=s,this.pos===r&&(this.process(e,0),this.pos=0)}return this.length+=j.length,this.roundClean(),this}digestInto(j){Zt.exists(this),Zt.output(j,this),this.finished=!0;let{buffer:e,view:t,blockLen:r,isLE:o}=this,{pos:n}=this;e[n++]=128,this.buffer.subarray(n).fill(0),this.padOffset>r-n&&(this.process(t,0),n=0);for(let c=n;c<r;c++)e[c]=0;Ic(t,r-8,BigInt(this.length*8),o),this.process(t,0);let s=jr(j),i=this.outputLen;if(i%4)throw new Error("_sha2: outputLen should be aligned to 32bit");let k=i/4,l=this.get();if(k>l.length)throw new Error("_sha2: outputLen bigger than state");for(let c=0;c<k;c++)s.setUint32(4*c,l[c],o)}digest(){let{buffer:j,outputLen:e}=this;this.digestInto(j);let t=j.slice(0,e);return this.destroy(),t}_cloneInto(j){j||(j=new this.constructor),j.set(...this.get());let{blockLen:e,buffer:t,length:r,finished:o,destroyed:n,pos:s}=this;return j.length=r,j.pos=s,j.finished=o,j.destroyed=n,r%e&&j.buffer.set(t),j}};var gc=(A,j,e)=>A&j^~A&e,vc=(A,j,e)=>A&j^A&e^j&e,hc=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),c6=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),E6=new Uint32Array(64),rr=class extends tr{constructor(){super(64,32,8,!1),this.A=c6[0]|0,this.B=c6[1]|0,this.C=c6[2]|0,this.D=c6[3]|0,this.E=c6[4]|0,this.F=c6[5]|0,this.G=c6[6]|0,this.H=c6[7]|0}get(){let{A:j,B:e,C:t,D:r,E:o,F:n,G:s,H:i}=this;return[j,e,t,r,o,n,s,i]}set(j,e,t,r,o,n,s,i){this.A=j|0,this.B=e|0,this.C=t|0,this.D=r|0,this.E=o|0,this.F=n|0,this.G=s|0,this.H=i|0}process(j,e){for(let c=0;c<16;c++,e+=4)E6[c]=j.getUint32(e,!1);for(let c=16;c<64;c++){let d=E6[c-15],E=E6[c-2],$=Gj(d,7)^Gj(d,18)^d>>>3,m=Gj(E,17)^Gj(E,19)^E>>>10;E6[c]=m+E6[c-7]+$+E6[c-16]|0}let{A:t,B:r,C:o,D:n,E:s,F:i,G:k,H:l}=this;for(let c=0;c<64;c++){let d=Gj(s,6)^Gj(s,11)^Gj(s,25),E=l+d+gc(s,i,k)+hc[c]+E6[c]|0,m=(Gj(t,2)^Gj(t,13)^Gj(t,22))+vc(t,r,o)|0;l=k,k=i,i=s,s=n+E|0,n=o,o=r,r=t,t=E+m|0}t=t+this.A|0,r=r+this.B|0,o=o+this.C|0,n=n+this.D|0,s=s+this.E|0,i=i+this.F|0,k=k+this.G|0,l=l+this.H|0,this.set(t,r,o,n,s,i,k,l)}roundClean(){E6.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}},b7=class extends rr{constructor(){super(),this.A=-1056596264,this.B=914150663,this.C=812702999,this.D=-150054599,this.E=-4191439,this.F=1750603025,this.G=1694076839,this.H=-1090891868,this.outputLen=28}},wi=h7(()=>new rr),Bq=h7(()=>new b7);var Wj=A=>{let j=y7(A),e=JSON.stringify(j);return er(wi(e))};function Ve(A){return/^\d+$/.test(A)}var Mj=A=>A.length!==4?!1:Ve(A),y7=A=>{if(Array.isArray(A))return A.map(j=>typeof j=="object"?y7(j):j).sort();if(typeof A=="object"&&A!==null){let j={},e=Object.keys(A).sort();for(let t of e)j[t]=y7(A[t]);return j}else return A},ae=A=>{let j=Math.max(0,Math.floor(A/1e3)),e=Math.floor(j/60).toString(),t=j%60>9?`${j%60}`:`0${j%60}`;return{minutes:e,seconds:t}};a();B();var O7=G(I());a();B();var $6=G(I());a();B();var Be=class extends Error{result;constructor(j){super(`Unable to recover seedless bundle: ${j.type}`),this.result=j}},Pj=A=>A instanceof Be,M7=A=>Pj(A)&&A.result.type==="unauthorized",d6=A=>Pj(A)&&A.result.type==="error-juicebox-recover"&&A.result.reason===0,ke=A=>Pj(A)&&A.result.type==="cooldown",Xe=A=>Pj(A)&&A.result.type==="upgrade-required";var bc=A=>{let{t:j,hasEnrolledAuthentication:e,syncedAccounts:t,onAccountsAdded:r,onOnboardingDone:o,onOnboardingProtect:n,onImportAndSyncAccounts:s,onForgot:i}=A,k=GA(),{refetch:l}=Ce(),{mutateAsync:c}=Jj(),[d,E]=(0,$6.useState)(!1),[$,m]=(0,$6.useState)({isInvalidPin:!1,triesLeft:void 0,pin:""}),{mutateAsync:q}=f7(),[h,f]=(0,$6.useState)(!1),{cooldownTimer:b,setCooldownTimer:P}=Qt(),{minutes:w,seconds:H}=ae(b),[K,Q]=(0,$6.useState)(null);return(0,$6.useEffect)(()=>{!$.triesLeft||$.triesLeft>0||i()},[$.triesLeft,i]),(0,$6.useEffect)(()=>{(async()=>{let{data:x=0}=await l();return x})().then(x=>P(x))},[]),{isLoading:h,isError:d,handleInput:g=>{m(x=>({...x,isInvalidPin:g!==""&&!Ve(g),pin:g}))},onSubmit:async()=>{if(!h){if(!Mj($.pin)){m(g=>({...g,isInvalidPin:!0,triesLeft:void 0,pin:""}));return}try{f(!0),E(!1),m(x=>({...x,isInvalidPin:!1,triesLeft:void 0}));let{entropy:g}=await q($.pin);await s(g),await c(),k.capture("seedlessEnterPinContinue"),t.length>1&&r?r():!e&&o?o():n()}catch(g){if(d6(g)||ke(g)){let x;if("guessesRemaining"in g.result&&(x=g.result.guessesRemaining),x===0){m(X=>({...X,isInvalidPin:!0,triesLeft:x,pin:""})),i();return}let W=!1;"reason"in g.result&&g.result.reason===0&&(W=!0);let{data:R=0}=await l();P(R),k.capture("seedlessPinError",{data:{triesLeft:x,cooldownTimer:R}}),m(X=>({...X,isInvalidPin:W,triesLeft:x,pin:""}))}else Xe(g)?(E(!0),Q({title:j("seedlessRecoverErrorUpgradeRequiredTitle"),description:j("seedlessRecoverErrorUpgradeRequiredDescription")})):(L.captureError(g,"se*dless"),E(!0),Q({title:j("seedlessEnterPinUnknownErrorPrimaryText"),description:j("seedlessEnterPinUnknownErrorSecondaryText"),buttonText:j("seedlessTryAgain")}))}finally{f(!1)}}},onForgot:i,pinAttemptsLeft:$.triesLeft,isPinError:$.isInvalidPin,hasCooldownTimer:b>0,disabled:b>0||$.isInvalidPin||!$.pin||$.pin.length<4,pin:$.pin,continueButtonText:j("seedlessContinueText"),forgotButtonText:j("seedlessVerifyPinForgotButtonText"),attemptsLeftText:j("seedlessEnterPinNumTriesLeft",{numTries:$.triesLeft}),cooldownTimerText:j("seedlessEnterPinCooldown",{minutesLeft:w,secondsLeft:H}),invalidPinText:j("seedlessEnterPinInvalidPinError"),title:j("seedlessEnterPinPrimaryText"),loadingTitle:j("seedlessLoadingWalletPrimaryText"),loadingDescription:j("seedlessLoadingWalletSecondaryText"),errorTitle:K?K.title:j("seedlessLoadingWalletErrorPrimaryText"),errorDescription:K?K.description:j("seedlessErrorSecondaryText"),tryAgainButtonText:K?K.buttonText:j("seedlessTryAgain")}};a();B();a();B();async function or(A,j,e){let t=await A.decryptionKeySharePhantom.foldAsync(async k=>Buffer.from(new Uint8Array(k)).toString("base64")),r=Buffer.from(A.encryptedAccounts,"hex").toString("base64"),o=Buffer.from(A.encryptionKey,"hex").toString("base64"),n={ciphertext:r,encryptionKey:o,share:t,externalId:j,mode:"JUICEBOX"},s=await gj.api().bearer(e).headers({"Content-Type":"application/json"}).post(`${l6}/v1/bundles`,n),i=vj(s);return i||L.addBreadcrumb("se*dless","Failed to backup bundle to backend","error",{status:s.status,statusText:s.statusText}),i}async function nr(A,j){let e=await gj.api().bearer(j).get(`${l6}/v1/bundles/${A}?mode=JUICEBOX`);if(e.status===404)throw new Error("bundle not found");if(!vj(e)){L.addBreadcrumb("se*dless","Failed to recover bundle from backend","error",{status:e.status,statusText:e.statusText});let t=new Error("Got invalid response from seedless backend: "+e.statusText);throw L.captureError(t,"se*dless"),t}if(!("share"in e.data)){L.addBreadcrumb("se*dless","No share found in bundle","error");let t=new Error("Did not receive share from seedless backend");throw L.captureError(t,"se*dless"),t}try{let t=JA.from(new Uint8Array(Buffer.from(e.data.share,"base64"))),r=Buffer.from(e.data.ciphertext,"base64").toString("hex"),o=Buffer.from(e.data.encryptionKey,"base64").toString("hex");return{id:e.data.externalId,encryptedAccounts:r,encryptionKey:o,decryptionKeyShare1:t}}catch{throw new Error("Unable to parse bundle. Incorrect format.")}}async function Ki(A,j){let e=await gj.api().bearer(j).get(`${l6}/v1/bundles/${A}?mode=JUICEBOX&populate=none`);L.addBreadcrumb("se*dless","Checking if user has a se*dless bundle","info");let t=new Error("Failed to check for se*dless bundle.");if(vj(e))return L.addBreadcrumb("se*dless","A se*dless bundle has been found for this user","info",{status:e.status,statusText:e.statusText}),!0;if(e.status===404)return L.addBreadcrumb("se*dless","No se*dless bundle found for user","info",{status:e.status,statusText:e.statusText}),!1;throw L.captureError(t,"se*dless"),t}async function sr(A,j){let e=gj.api().bearer(j).headers({"Content-Type":"application/json"});A!=="latest"&&(e=e.retry(3,500));let t=await e.delete(`${l6}/v1/bundles/${A}`,{mode:"JUICEBOX"});if(L.addBreadcrumb("se*dless","Deleting se*dless bundle","info"),vj(t))return L.addBreadcrumb("se*dless","A se*dless bundle has been deleted for this user","info",{status:t.status,statusText:t.statusText}),!0;if(t.status===404)return L.addBreadcrumb("se*dless","No se*dless bundle found for user","info",{status:t.status,statusText:t.statusText}),!1;let r=new Error("Failed to delete se*dless bundle.");throw L.captureError(r,"se*dless"),r}async function P7(A,j){let e=await gj.api().bearer(A).get(`${l6}/v1/device-encryption-keys/${j}`);if(e.status===404)return L.addBreadcrumb("se*dless","No device encryption key found for user","info"),null;if(!vj(e))throw new Error("Unable to get device encryption key.");try{let{encryptionKey:t}=vi.parse(e.data);return JA.from(new Uint8Array(Buffer.from(t,"base64")))}catch{throw new Error("Unable to parse device encryption key from response.")}}async function Si(A,j,e){let t=await gj.api().bearer(A).post(`${l6}/v1/device-encryption-keys`,{deviceId:j,encryptionKey:e.fold(r=>Buffer.from(r).toString("base64"))});if(!vj(t))throw new Error("Unable to set device encryption key.")}async function Ti(A,j){let e=await gj.api().bearer(A).delete(`${l6}/v1/device-encryption-keys/${j}`);if(!vj(e))throw new Error("Unable to delete device encryption key.")}a();B();a();B();a();B();a();B();function le(A){if(!Number.isSafeInteger(A)||A<0)throw new Error(`positive integer expected, not ${A}`)}function w7(A){if(typeof A!="boolean")throw new Error(`boolean expected, not ${A}`)}function K7(A){return A instanceof Uint8Array||A!=null&&typeof A=="object"&&A.constructor.name==="Uint8Array"}function xA(A,...j){if(!K7(A))throw new Error("Uint8Array expected");if(j.length>0&&!j.includes(A.length))throw new Error(`Uint8Array expected of length ${j}, not of length=${A.length}`)}function S7(A,j=!0){if(A.destroyed)throw new Error("Hash instance has been destroyed");if(j&&A.finished)throw new Error("Hash#digest() has already been called")}function _i(A,j){xA(A);let e=j.outputLen;if(A.length<e)throw new Error(`digestInto() expects output buffer of length at least ${e}`)}var Yj=A=>new Uint32Array(A.buffer,A.byteOffset,Math.floor(A.byteLength/4)),Di=A=>new DataView(A.buffer,A.byteOffset,A.byteLength),yc=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!yc)throw new Error("Non little-endian hardware is not supported");function T7(A){if(typeof A!="string")throw new Error(`string expected, got ${typeof A}`);return new Uint8Array(new TextEncoder().encode(A))}function ir(A){if(typeof A=="string")A=T7(A);else if(K7(A))A=A.slice();else throw new Error(`Uint8Array expected, got ${typeof A}`);return A}function Hi(...A){let j=0;for(let t=0;t<A.length;t++){let r=A[t];xA(r),j+=r.length}let e=new Uint8Array(j);for(let t=0,r=0;t<A.length;t++){let o=A[t];e.set(o,r),r+=o.length}return e}function Ci(A,j){if(j==null||typeof j!="object")throw new Error("options must be defined");return Object.assign(A,j)}function Li(A,j){if(A.length!==j.length)return!1;let e=0;for(let t=0;t<A.length;t++)e|=A[t]^j[t];return e===0}var _7=(A,j)=>(Object.assign(j,A),j);function D7(A,j,e,t){if(typeof A.setBigUint64=="function")return A.setBigUint64(j,e,t);let r=BigInt(32),o=BigInt(4294967295),n=Number(e>>r&o),s=Number(e&o),i=t?4:0,k=t?0:4;A.setUint32(j+i,n,t),A.setUint32(j+k,s,t)}a();B();var SA=(A,j)=>A[j++]&255|(A[j++]&255)<<8,H7=class{constructor(j){this.blockLen=16,this.outputLen=16,this.buffer=new Uint8Array(16),this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.pos=0,this.finished=!1,j=ir(j),xA(j,32);let e=SA(j,0),t=SA(j,2),r=SA(j,4),o=SA(j,6),n=SA(j,8),s=SA(j,10),i=SA(j,12),k=SA(j,14);this.r[0]=e&8191,this.r[1]=(e>>>13|t<<3)&8191,this.r[2]=(t>>>10|r<<6)&7939,this.r[3]=(r>>>7|o<<9)&8191,this.r[4]=(o>>>4|n<<12)&255,this.r[5]=n>>>1&8190,this.r[6]=(n>>>14|s<<2)&8191,this.r[7]=(s>>>11|i<<5)&8065,this.r[8]=(i>>>8|k<<8)&8191,this.r[9]=k>>>5&127;for(let l=0;l<8;l++)this.pad[l]=SA(j,16+2*l)}process(j,e,t=!1){let r=t?0:2048,{h:o,r:n}=this,s=n[0],i=n[1],k=n[2],l=n[3],c=n[4],d=n[5],E=n[6],$=n[7],m=n[8],q=n[9],h=SA(j,e+0),f=SA(j,e+2),b=SA(j,e+4),P=SA(j,e+6),w=SA(j,e+8),H=SA(j,e+10),K=SA(j,e+12),Q=SA(j,e+14),C=o[0]+(h&8191),z=o[1]+((h>>>13|f<<3)&8191),g=o[2]+((f>>>10|b<<6)&8191),x=o[3]+((b>>>7|P<<9)&8191),W=o[4]+((P>>>4|w<<12)&8191),R=o[5]+(w>>>1&8191),X=o[6]+((w>>>14|H<<2)&8191),rA=o[7]+((H>>>11|K<<5)&8191),oA=o[8]+((K>>>8|Q<<8)&8191),sA=o[9]+(Q>>>5|r),_=0,aA=_+C*s+z*(5*q)+g*(5*m)+x*(5*$)+W*(5*E);_=aA>>>13,aA&=8191,aA+=R*(5*d)+X*(5*c)+rA*(5*l)+oA*(5*k)+sA*(5*i),_+=aA>>>13,aA&=8191;let BA=_+C*i+z*s+g*(5*q)+x*(5*m)+W*(5*$);_=BA>>>13,BA&=8191,BA+=R*(5*E)+X*(5*d)+rA*(5*c)+oA*(5*l)+sA*(5*k),_+=BA>>>13,BA&=8191;let S=_+C*k+z*i+g*s+x*(5*q)+W*(5*m);_=S>>>13,S&=8191,S+=R*(5*$)+X*(5*E)+rA*(5*d)+oA*(5*c)+sA*(5*l),_+=S>>>13,S&=8191;let qA=_+C*l+z*k+g*i+x*s+W*(5*q);_=qA>>>13,qA&=8191,qA+=R*(5*m)+X*(5*$)+rA*(5*E)+oA*(5*d)+sA*(5*c),_+=qA>>>13,qA&=8191;let cA=_+C*c+z*l+g*k+x*i+W*s;_=cA>>>13,cA&=8191,cA+=R*(5*q)+X*(5*m)+rA*(5*$)+oA*(5*E)+sA*(5*d),_+=cA>>>13,cA&=8191;let MA=_+C*d+z*c+g*l+x*k+W*i;_=MA>>>13,MA&=8191,MA+=R*s+X*(5*q)+rA*(5*m)+oA*(5*$)+sA*(5*E),_+=MA>>>13,MA&=8191;let CA=_+C*E+z*d+g*c+x*l+W*k;_=CA>>>13,CA&=8191,CA+=R*i+X*s+rA*(5*q)+oA*(5*m)+sA*(5*$),_+=CA>>>13,CA&=8191;let PA=_+C*$+z*E+g*d+x*c+W*l;_=PA>>>13,PA&=8191,PA+=R*k+X*i+rA*s+oA*(5*q)+sA*(5*m),_+=PA>>>13,PA&=8191;let OA=_+C*m+z*$+g*E+x*d+W*c;_=OA>>>13,OA&=8191,OA+=R*l+X*k+rA*i+oA*s+sA*(5*q),_+=OA>>>13,OA&=8191;let LA=_+C*q+z*m+g*$+x*E+W*d;_=LA>>>13,LA&=8191,LA+=R*c+X*l+rA*k+oA*i+sA*s,_+=LA>>>13,LA&=8191,_=(_<<2)+_|0,_=_+aA|0,aA=_&8191,_=_>>>13,BA+=_,o[0]=aA,o[1]=BA,o[2]=S,o[3]=qA,o[4]=cA,o[5]=MA,o[6]=CA,o[7]=PA,o[8]=OA,o[9]=LA}finalize(){let{h:j,pad:e}=this,t=new Uint16Array(10),r=j[1]>>>13;j[1]&=8191;for(let s=2;s<10;s++)j[s]+=r,r=j[s]>>>13,j[s]&=8191;j[0]+=r*5,r=j[0]>>>13,j[0]&=8191,j[1]+=r,r=j[1]>>>13,j[1]&=8191,j[2]+=r,t[0]=j[0]+5,r=t[0]>>>13,t[0]&=8191;for(let s=1;s<10;s++)t[s]=j[s]+r,r=t[s]>>>13,t[s]&=8191;t[9]-=8192;let o=(r^1)-1;for(let s=0;s<10;s++)t[s]&=o;o=~o;for(let s=0;s<10;s++)j[s]=j[s]&o|t[s];j[0]=(j[0]|j[1]<<13)&65535,j[1]=(j[1]>>>3|j[2]<<10)&65535,j[2]=(j[2]>>>6|j[3]<<7)&65535,j[3]=(j[3]>>>9|j[4]<<4)&65535,j[4]=(j[4]>>>12|j[5]<<1|j[6]<<14)&65535,j[5]=(j[6]>>>2|j[7]<<11)&65535,j[6]=(j[7]>>>5|j[8]<<8)&65535,j[7]=(j[8]>>>8|j[9]<<5)&65535;let n=j[0]+e[0];j[0]=n&65535;for(let s=1;s<8;s++)n=(j[s]+e[s]|0)+(n>>>16)|0,j[s]=n&65535}update(j){S7(this);let{buffer:e,blockLen:t}=this;j=ir(j);let r=j.length;for(let o=0;o<r;){let n=Math.min(t-this.pos,r-o);if(n===t){for(;t<=r-o;o+=t)this.process(j,o);continue}e.set(j.subarray(o,o+n),this.pos),this.pos+=n,o+=n,this.pos===t&&(this.process(e,0,!1),this.pos=0)}return this}destroy(){this.h.fill(0),this.r.fill(0),this.buffer.fill(0),this.pad.fill(0)}digestInto(j){S7(this),_i(j,this),this.finished=!0;let{buffer:e,h:t}=this,{pos:r}=this;if(r){for(e[r++]=1;r<16;r++)e[r]=0;this.process(e,0,!0)}this.finalize();let o=0;for(let n=0;n<8;n++)j[o++]=t[n]>>>0,j[o++]=t[n]>>>8;return j}digest(){let{buffer:j,outputLen:e}=this;this.digestInto(j);let t=j.slice(0,e);return this.destroy(),t}};function xc(A){let j=(t,r)=>A(r).update(ir(t)).digest(),e=A(new Uint8Array(32));return j.outputLen=e.outputLen,j.blockLen=e.blockLen,j.create=t=>A(t),j}var Ni=xc(A=>new H7(A));a();B();var Vi=A=>Uint8Array.from(A.split("").map(j=>j.charCodeAt(0))),Oc=Vi("expand 16-byte k"),Mc=Vi("expand 32-byte k"),Pc=Yj(Oc),Xi=Yj(Mc),ff=Xi.slice();function M(A,j){return A<<j|A>>>32-j}function C7(A){return A.byteOffset%4===0}var ar=64,wc=16,Ui=2**32-1,Ri=new Uint32Array;function Kc(A,j,e,t,r,o,n,s){let i=r.length,k=new Uint8Array(ar),l=Yj(k),c=C7(r)&&C7(o),d=c?Yj(r):Ri,E=c?Yj(o):Ri;for(let $=0;$<i;n++){if(A(j,e,t,l,n,s),n>=Ui)throw new Error("arx: counter overflow");let m=Math.min(ar,i-$);if(c&&m===ar){let q=$/4;if($%4!==0)throw new Error("arx: invalid block position");for(let h=0,f;h<wc;h++)f=q+h,E[f]=d[f]^l[h];$+=ar;continue}for(let q=0,h;q<m;q++)h=$+q,o[h]=r[h]^k[q];$+=m}}function L7(A,j){let{allowShortKeys:e,extendNonceFn:t,counterLength:r,counterRight:o,rounds:n}=Ci({allowShortKeys:!1,counterLength:8,counterRight:!1,rounds:20},j);if(typeof A!="function")throw new Error("core must be a function");return le(r),le(n),w7(o),w7(e),(s,i,k,l,c=0)=>{xA(s),xA(i),xA(k);let d=k.length;if(l||(l=new Uint8Array(d)),xA(l),le(c),c<0||c>=Ui)throw new Error("arx: counter overflow");if(l.length<d)throw new Error(`arx: output (${l.length}) is shorter than data (${d})`);let E=[],$=s.length,m,q;if($===32)m=s.slice(),E.push(m),q=Xi;else if($===16&&e)m=new Uint8Array(32),m.set(s),m.set(s,16),q=Pc,E.push(m);else throw new Error(`arx: invalid 32-byte key, got length=${$}`);C7(i)||(i=i.slice(),E.push(i));let h=Yj(m);if(t){if(i.length!==24)throw new Error("arx: extended nonce must be 24 bytes");t(q,h,Yj(i.subarray(0,16)),h),i=i.subarray(16)}let f=16-r;if(f!==i.length)throw new Error(`arx: nonce must be ${f} or 16 bytes`);if(f!==12){let P=new Uint8Array(12);P.set(i,o?0:12-i.length),i=P,E.push(i)}let b=Yj(i);for(Kc(A,q,h,b,k,l,c,n);E.length>0;)E.pop().fill(0);return l}}function Wi(A,j,e,t,r,o=20){let n=A[0],s=A[1],i=A[2],k=A[3],l=j[0],c=j[1],d=j[2],E=j[3],$=j[4],m=j[5],q=j[6],h=j[7],f=r,b=e[0],P=e[1],w=e[2],H=n,K=s,Q=i,C=k,z=l,g=c,x=d,W=E,R=$,X=m,rA=q,oA=h,sA=f,_=b,aA=P,BA=w;for(let qA=0;qA<o;qA+=2)H=H+z|0,sA=M(sA^H,16),R=R+sA|0,z=M(z^R,12),H=H+z|0,sA=M(sA^H,8),R=R+sA|0,z=M(z^R,7),K=K+g|0,_=M(_^K,16),X=X+_|0,g=M(g^X,12),K=K+g|0,_=M(_^K,8),X=X+_|0,g=M(g^X,7),Q=Q+x|0,aA=M(aA^Q,16),rA=rA+aA|0,x=M(x^rA,12),Q=Q+x|0,aA=M(aA^Q,8),rA=rA+aA|0,x=M(x^rA,7),C=C+W|0,BA=M(BA^C,16),oA=oA+BA|0,W=M(W^oA,12),C=C+W|0,BA=M(BA^C,8),oA=oA+BA|0,W=M(W^oA,7),H=H+g|0,BA=M(BA^H,16),rA=rA+BA|0,g=M(g^rA,12),H=H+g|0,BA=M(BA^H,8),rA=rA+BA|0,g=M(g^rA,7),K=K+x|0,sA=M(sA^K,16),oA=oA+sA|0,x=M(x^oA,12),K=K+x|0,sA=M(sA^K,8),oA=oA+sA|0,x=M(x^oA,7),Q=Q+W|0,_=M(_^Q,16),R=R+_|0,W=M(W^R,12),Q=Q+W|0,_=M(_^Q,8),R=R+_|0,W=M(W^R,7),C=C+z|0,aA=M(aA^C,16),X=X+aA|0,z=M(z^X,12),C=C+z|0,aA=M(aA^C,8),X=X+aA|0,z=M(z^X,7);let S=0;t[S++]=n+H|0,t[S++]=s+K|0,t[S++]=i+Q|0,t[S++]=k+C|0,t[S++]=l+z|0,t[S++]=c+g|0,t[S++]=d+x|0,t[S++]=E+W|0,t[S++]=$+R|0,t[S++]=m+X|0,t[S++]=q+rA|0,t[S++]=h+oA|0,t[S++]=f+sA|0,t[S++]=b+_|0,t[S++]=P+aA|0,t[S++]=w+BA|0}function Sc(A,j,e,t){let r=A[0],o=A[1],n=A[2],s=A[3],i=j[0],k=j[1],l=j[2],c=j[3],d=j[4],E=j[5],$=j[6],m=j[7],q=e[0],h=e[1],f=e[2],b=e[3];for(let w=0;w<20;w+=2)r=r+i|0,q=M(q^r,16),d=d+q|0,i=M(i^d,12),r=r+i|0,q=M(q^r,8),d=d+q|0,i=M(i^d,7),o=o+k|0,h=M(h^o,16),E=E+h|0,k=M(k^E,12),o=o+k|0,h=M(h^o,8),E=E+h|0,k=M(k^E,7),n=n+l|0,f=M(f^n,16),$=$+f|0,l=M(l^$,12),n=n+l|0,f=M(f^n,8),$=$+f|0,l=M(l^$,7),s=s+c|0,b=M(b^s,16),m=m+b|0,c=M(c^m,12),s=s+c|0,b=M(b^s,8),m=m+b|0,c=M(c^m,7),r=r+k|0,b=M(b^r,16),$=$+b|0,k=M(k^$,12),r=r+k|0,b=M(b^r,8),$=$+b|0,k=M(k^$,7),o=o+l|0,q=M(q^o,16),m=m+q|0,l=M(l^m,12),o=o+l|0,q=M(q^o,8),m=m+q|0,l=M(l^m,7),n=n+c|0,h=M(h^n,16),d=d+h|0,c=M(c^d,12),n=n+c|0,h=M(h^n,8),d=d+h|0,c=M(c^d,7),s=s+i|0,f=M(f^s,16),E=E+f|0,i=M(i^E,12),s=s+i|0,f=M(f^s,8),E=E+f|0,i=M(i^E,7);let P=0;t[P++]=r,t[P++]=o,t[P++]=n,t[P++]=s,t[P++]=q,t[P++]=h,t[P++]=f,t[P++]=b}var Tc=L7(Wi,{counterRight:!1,counterLength:4,allowShortKeys:!1}),_c=L7(Wi,{counterRight:!1,counterLength:8,extendNonceFn:Sc,allowShortKeys:!1});var Dc=new Uint8Array(16),zi=(A,j)=>{A.update(j);let e=j.length%16;e&&A.update(Dc.subarray(e))},Hc=new Uint8Array(32);function Ji(A,j,e,t,r){let o=A(j,e,Hc),n=Ni.create(o);r&&zi(n,r),zi(n,t);let s=new Uint8Array(16),i=Di(s);D7(i,0,BigInt(r?r.length:0),!0),D7(i,8,BigInt(t.length),!0),n.update(s);let k=n.digest();return o.fill(0),k}var Yi=A=>(j,e,t)=>(xA(j,32),xA(e),{encrypt:(o,n)=>{let s=o.length,i=s+16;n?xA(n,i):n=new Uint8Array(i),A(j,e,o,n,1);let k=Ji(A,j,e,n.subarray(0,-16),t);return n.set(k,s),n},decrypt:(o,n)=>{let s=o.length,i=s-16;if(s<16)throw new Error("encrypted data must be at least 16 bytes");n?xA(n,i):n=new Uint8Array(i);let k=o.subarray(0,-16),l=o.subarray(-16),c=Ji(A,j,e,k,t);if(!Li(l,c))throw new Error("invalid tag");return A(j,e,k,n,1),n}}),xf=_7({blockSize:64,nonceLength:12,tagLength:16},Yi(Tc)),N7=_7({blockSize:64,nonceLength:24,tagLength:16},Yi(_c));a();B();a();B();var T6=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;function Qi(A=32){if(T6&&typeof T6.getRandomValues=="function")return T6.getRandomValues(new Uint8Array(A));throw new Error("crypto.getRandomValues must be defined")}function R7(){if(T6&&typeof T6.subtle=="object"&&T6.subtle!=null)return T6.subtle;throw new Error("crypto.subtle must be defined")}function V7(A){return le(A.nonceLength),(j,...e)=>({encrypt:(t,...r)=>{let{nonceLength:o}=A,n=Qi(o),s=A(j,n,...e).encrypt(t,...r),i=Hi(n,s);return s.fill(0),i},decrypt:(t,...r)=>{let{nonceLength:o}=A,n=t.subarray(0,o),s=t.subarray(o);return A(j,n,...e).decrypt(s,...r)}})}var Zi={async encrypt(A,j,e,t){let r=R7(),o=await r.importKey("raw",A,j,!0,["encrypt"]),n=await r.encrypt(e,o,t);return new Uint8Array(n)},async decrypt(A,j,e,t){let r=R7(),o=await r.importKey("raw",A,j,!0,["decrypt"]),n=await r.decrypt(e,o,t);return new Uint8Array(n)}},wj={CBC:"AES-CBC",CTR:"AES-CTR",GCM:"AES-GCM"};function Cc(A,j,e){if(A===wj.CBC)return{name:wj.CBC,iv:j};if(A===wj.CTR)return{name:wj.CTR,counter:j,length:64};if(A===wj.GCM)return e?{name:wj.GCM,iv:j,additionalData:e}:{name:wj.GCM,iv:j};throw new Error("unknown aes block mode")}function X7(A){return(j,e,t)=>{xA(j),xA(e);let r={name:A,length:j.length*8},o=Cc(A,e,t);return{encrypt(n){return xA(n),Zi.encrypt(j,r,o,n)},decrypt(n){return xA(n),Zi.decrypt(j,r,o,n)}}}}var Hf=X7(wj.CBC),Cf=X7(wj.CTR),Lf=X7(wj.GCM);a();B();a();B();function U7(A){return self.crypto.getRandomValues(new Uint8Array(A))}var kr=new Uint8Array([0,255,200,8,145,16,208,54,90,62,216,67,153,119,254,24,35,32,7,112,161,108,12,127,98,139,64,70,199,75,224,14,235,22,232,173,207,205,57,83,106,39,53,147,212,78,72,195,43,121,84,40,9,120,15,33,144,135,20,42,169,156,214,116,180,124,222,237,177,134,118,164,152,226,150,143,2,50,28,193,51,238,239,129,253,48,92,19,157,41,23,196,17,68,140,128,243,115,66,30,29,181,240,18,209,91,65,162,215,44,233,213,89,203,80,168,220,252,242,86,114,166,101,47,159,155,61,186,125,194,69,130,167,87,182,163,122,117,79,174,63,55,109,71,97,190,171,211,95,176,88,175,202,94,250,133,228,77,138,5,251,96,183,123,184,38,74,103,198,26,248,105,37,179,219,189,102,221,241,210,223,3,141,52,217,146,13,99,85,170,73,236,188,149,60,132,11,245,230,231,229,172,126,110,185,249,218,142,154,201,36,225,10,21,107,58,160,81,244,234,178,151,158,93,34,136,148,206,25,1,113,76,165,227,197,49,187,204,31,45,59,82,111,246,46,137,247,192,104,27,100,4,6,191,131,56]),Aa=new Uint8Array([1,229,76,181,251,159,252,18,3,52,212,196,22,186,31,54,5,92,103,87,58,213,33,90,15,228,169,249,78,100,99,238,17,55,224,16,210,172,165,41,51,89,59,48,109,239,244,123,85,235,77,80,183,42,7,141,255,38,215,240,194,126,9,140,26,106,98,11,93,130,27,143,46,190,166,29,231,157,45,138,114,217,241,39,50,188,119,133,150,112,8,105,86,223,153,148,161,144,24,187,250,122,176,167,248,171,40,214,21,142,203,242,19,230,120,97,63,137,70,13,53,49,136,163,65,128,202,23,95,83,131,254,195,155,69,57,225,245,158,25,94,182,207,75,56,4,185,43,226,193,74,221,72,12,208,125,61,88,222,124,216,20,107,135,71,232,121,132,115,60,189,146,201,35,139,151,149,68,220,173,64,101,134,162,164,204,127,236,192,175,145,253,247,79,129,47,91,234,168,28,2,209,152,113,237,37,227,36,6,104,179,147,44,111,62,108,10,184,206,174,116,177,66,180,30,211,73,233,156,200,198,199,34,110,219,32,191,67,81,82,102,178,118,96,218,197,243,246,170,205,154,160,117,84,14,1]);function Br(A,j){if(!Number.isInteger(A)||A<0||A>255)throw new RangeError("Number is out of Uint8 range");if(!Number.isInteger(j)||j<0||j>255)throw new RangeError("Number is out of Uint8 range");return A^j}function Lc(A,j){if(!Number.isInteger(A)||A<0||A>255)throw new RangeError("Number is out of Uint8 range");if(!Number.isInteger(j)||j<0||j>255)throw new RangeError("Number is out of Uint8 range");if(j===0)throw new Error("cannot divide by zero");let e=kr[A],t=kr[j],r=(e-t+255)%255,o=Aa[r];return A===0?0:o}function z7(A,j){if(!Number.isInteger(A)||A<0||A>255)throw new RangeError("Number is out of Uint8 range");if(!Number.isInteger(j)||j<0||j>255)throw new RangeError("Number is out of Uint8 range");let e=kr[A],t=kr[j],r=(e+t)%255,o=Aa[r];return A===0||j===0?0:o}function Nc(A,j,e){if(A.length!==j.length)throw new Error("sample length mistmatch");let t=A.length,r=0,o=0;for(let n=0;n<t;n++){r=1;for(let s=0;s<t;++s){if(n===s)continue;let i=Br(e,A[s]),k=Br(A[n],A[s]),l=Lc(i,k);r=z7(r,l)}o=Br(o,z7(j[n],r))}return o}function Rc(A,j,e){if(j===0)throw new Error("cannot evaluate secret polynomial at zero");let t=A[e];for(let r=e-1;r>=0;r--){let o=A[r];t=Br(z7(t,j),o)}return t}function ja(){return U7(1)[0]}function Vc(){for(;;){let A=ja();if(A>0)return A}}function Xc(A,j){let e=new Uint8Array(j+1);e[0]=A;for(let t=1;t<=j;t++){let r=t===j;e[t]=r?Vc():ja()}return e}function Uc(){let A=new Uint8Array(255);for(let e=0;e<255;e++)A[e]=e+1;let j=U7(255);for(let e=0;e<255;e++){let t=j[e]%255,r=A[e];A[e]=A[t],A[t]=r}return A}var rj={instanceOf(A,j,e){if(A.constructor!==j)throw new TypeError(e)},inRange(A,j,e,t){if(!(j<e&&A>=j&&A<e))throw new RangeError(t)},greaterThanOrEqualTo(A,j,e){if(A<j)throw new Error(e)},equalTo(A,j,e){if(A!==j)throw new Error(e)}};async function ea(A,j,e){rj.instanceOf(A,Uint8Array,"secret must be a Uint8Array"),rj.greaterThanOrEqualTo(A.byteLength,1,"secret cannot be empty"),rj.instanceOf(j,Number,"shares must be a number"),rj.inRange(j,2,256,"shares must be at least 2 and at most 255"),rj.instanceOf(e,Number,"threshold must be a number"),rj.inRange(e,2,256,"threshold must be at least 2 and at most 255"),rj.greaterThanOrEqualTo(j,e,"shares cannot be less than threshold");let t=[],r=A.byteLength,o=Uc();for(let s=0;s<j;s++){let i=new Uint8Array(r+1);i[r]=o[s],t.push(i)}let n=e-1;for(let s=0;s<r;s++){let i=A[s],k=Xc(i,n);for(let l=0;l<j;++l){let c=o[l],d=Rc(k,c,n);t[l][s]=d}}return t}async function ta(A){rj.instanceOf(A,Array,"shares must be an Array"),rj.inRange(A.length,2,256,"shares must have at least 2 and at most 255 elements");let j=A[0];rj.instanceOf(j,Uint8Array,"each share must be a Uint8Array");for(let k of A)rj.instanceOf(k,Uint8Array,"each share must be a Uint8Array"),rj.greaterThanOrEqualTo(k.byteLength,2,"each share must be at least 2 bytes"),rj.equalTo(k.byteLength,j.byteLength,"all shares must have the same byte length");let e=A.length,t=j.byteLength,r=t-1,o=new Uint8Array(r),n=new Uint8Array(e),s=new Uint8Array(e),i=new Set;for(let k=0;k<e;k++){let c=A[k][t-1];if(i.has(c))throw new Error("shares must contain unique values but a duplicate was found");i.add(c),n[k]=c}for(let k=0;k<r;k++){for(let l=0;l<e;++l)s[l]=A[l][k];o[k]=Nc(n,s,0)}return o}var lr=async(A,j)=>{if(A.length!==32)throw new Error("encryption key must be 32 bytes");Jc(A);let e={seeds:[]};for(let k of j){let l="unused",c=k.fold(d=>new Uint8Array(d));e.seeds.push([l,c])}let t=V7(N7)(A),r=T7(JSON.stringify(e)),o=t.encrypt(r),[n,s]=await ea(A,2,2);return{encryptedAccounts:er(o),decryptionKeySharePhantom:JA.from(n),decryptionKeyShareExternal:JA.from(s),encryptionKey:"unused"}},p6=class extends Error{reason;constructor(j){super(`Unable to decrypt seedless bundle: ${j}`),this.reason=j}},ra=async A=>{let j;try{j=await zc(A.decryptionKeySharePhantom,A.decryptionKeyShareExternal)}catch{throw new p6("incompatible-shares")}let e;try{e=V7(N7)(j).decrypt(Pi(A.encryptedAccounts))}catch{throw new p6("incorrect-decryption-key")}let t;try{t=JSON.parse(Buffer.from(e).toString())}catch{throw new p6("invalid-json")}let r=Ii.safeParse(t);if(!r.success)throw new p6("invalid-format");return r.data.seeds.map(s=>{let i=s[1],k=gi(i);return JA.from(k)})},zc=async(A,j)=>{let e=A.fold(o=>new Uint8Array(o)),t=j.fold(o=>new Uint8Array(o));return await ta([e,t])},Jc=A=>{if(A.every(j=>j===0))throw new Error("encryption key must not be all zeros")};a();B();var cr=class{subscribers={seedlessRotationResult:[],seedlessRecoverResult:[]};subscribe(j,e){return this.subscribers[j].push(e),()=>{this.subscribers[j].splice(this.subscribers[j].indexOf(e),1)}}emitRotationResult(j){this.subscribers.seedlessRotationResult.forEach(e=>e(j))}emitRecoverResult(j){this.subscribers.seedlessRecoverResult.forEach(e=>{"reason"in j?typeof j.reason=="string"?e({type:j.type,reason:j.reason}):e({type:j.type,reason:Oj[j.reason]}):e({type:j.type})})}};a();B();var oa={realms:[{id:"a4caa86247c60f61b2454d8cbdb1ba2a",address:"https://production-juicebox.phantom.dev"},{id:"7dd7ac88b0584725a2db014818631f8c",address:"https://juicebox.rpcpool.com"}],register_threshold:2,recover_threshold:2,pin_hashing_mode:"Standard2019"};var na={realms:[{id:"a4caa86247c60f61b2454d8cbdb1ba2a",address:"https://production-juicebox.phantom.app"},{id:"7dd7ac88b0584725a2db014818631f8c",address:"https://juicebox.rpcpool.com"}],register_threshold:2,recover_threshold:2,pin_hashing_mode:"Standard2019"};var sa={realms:[{id:"497efc0c17f850465b9387a549affb2b",address:"https://development-juicebox.phantom.dev"},{id:"7dd7ac88b0584725a2db014818631f8c",address:"https://juicebox.rpcpool.com"}],register_threshold:2,recover_threshold:2,pin_hashing_mode:"Standard2019"};var ia={realms:[{id:"497efc0c17f850465b9387a549affb2b",address:"https://development-juicebox.phantom.dev/"},{id:"7dd7ac88b0584725a2db014818631f8c",address:"https://juicebox.rpcpool.com"}],register_threshold:2,recover_threshold:2,pin_hashing_mode:"Standard2019"};var aa={realms:[{id:"497efc0c17f850465b9387a549affb2b",address:"https://development-juicebox.phantom.dev"},{id:"7dd7ac88b0584725a2db014818631f8c",address:"https://juicebox.rpcpool.com"}],uuid_nonce:"f76005fd-80e5-483e-9d84-c09ef7c60ba3",register_threshold:2,recover_threshold:2,pin_hashing_mode:"Standard2019"};var Ba={realms:[{id:"497efc0c17f850465b9387a549affb2b",address:"https://development-juicebox.phantom.app"},{id:"7dd7ac88b0584725a2db014818631f8c",address:"https://juicebox.rpcpool.com"}],uuid_nonce:"153ebe7b-400c-4d27-be76-139248bb3acd",register_threshold:2,recover_threshold:2,pin_hashing_mode:"Standard2019"};var ka={realms:[{id:"497efc0c17f850465b9387a549affb2b",address:"https://development-juicebox.phantom.app"},{id:"7dd7ac88b0584725a2db014818631f8c",address:"https://juicebox.rpcpool.com"}],uuid_nonce:"f577175c-3f1e-4f4a-91d1-cb30aaa0d5d4",register_threshold:2,recover_threshold:2,pin_hashing_mode:"Standard2019"};var la=[oa,na],rE=la.reduce((A,j)=>(A[Wj(j)]=j,A),{}),ca=[sa,ia,aa,Ba,ka],oE=ca.reduce((A,j)=>(A[Wj(j)]=j,A),{});function Er(){return Lr()?rE:oE}function _6(){let A=Lr()?la:ca;return A[A.length-1]}a();B();var Ea="seedlessJuiceboxPinCooldownTimer",J7=".phantom.seedless.juiceboxPinCooldownTimer",Ue=async A=>{let j=await A.get(Ea),e=await A.get(J7),t=e?.timeRemaining||j,r=e?.guessesRemaining;return!t||t<0?{timeRemaining:0,guessesRemaining:r}:{timeRemaining:t-Date.now(),guessesRemaining:r}},da=async(A,j)=>{let e=nE(A);if(!e)return;let t=Date.now()+e*1e3;j.set(J7,{version:2,timeRemaining:t,guessesRemaining:A})},$a=async A=>{await A.remove(Ea),await A.remove(J7)},nE=A=>sE[A],sE={[7]:0,[6]:0,[5]:30,[4]:60,[3]:120,[2]:300,[1]:300};a();B();a();B();var Qj={success:{type:"success",didRotate:!0},unauthorized:{type:"unauthorized",didRotate:!1},bundleConfigHashesMatch:{type:"bundle-config-hashes-match",didRotate:!1},errorEncryptionFailed:{type:"error-encryption-failed",didRotate:!1},errorBackendUpload:{type:"error-backend-upload",didRotate:!1},recoveredFromJuiceboxError:{type:"recovered-juicebox-error",didRotate:!1},errorBackendDelete:{type:"error-backend-delete",didRotate:!1}},pa=async({authRepository:A,juiceboxClient:j},{seedlessEntropy:e,pin:t,currentConfigHash:r})=>{let o;try{if(o=await A.getUser(),!o)return Qj.unauthorized}catch{return Qj.unauthorized}let n=_6(),s=Wj(n);if(r===s)return Qj.bundleConfigHashesMatch;let i;try{let d=Re(32);i=await lr(d,[e])}catch{return Qj.errorEncryptionFailed}try{if(!await or(i,s,o.accessToken))return Qj.errorBackendUpload}catch{return Qj.errorBackendUpload}let k=i.decryptionKeyShareExternal.fold(d=>new Uint8Array(d)),l=await j(),c=!0;try{c=await l.sendJuiceboxShare(n,k,t,o.accessToken)}catch{c=!1}if(!c)try{return await sr(s,o.accessToken),Qj.recoveredFromJuiceboxError}catch{return Qj.errorBackendDelete}return Qj.success};var iE=A=>{let j="unknown";return A instanceof Error&&(A.message.includes("bundle not found")?j="bundle-not-found":A.message.includes("Got invalid response from seedless backend")?j="non-ok-response":A.message.includes("Did not receive share from seedless backend")?j="no-share-in-bundle":A.message.includes("Unable to parse bundle. Incorrect format.")&&(j="incorrect-format")),{type:"error-backend-recover",reason:j}},ua=async(A,j,{pin:e,ignoreCooldown:t=!1})=>{let{authRepository:r,juiceboxClient:o,storage:n}=A,{timeRemaining:s,guessesRemaining:i}=await Ue(n);if(s>0&&!t)return{type:"cooldown",timeRemaining:s,guessesRemaining:i};if(!Mj(e))return{type:"invalid-pin-format"};let k=await r.getUser();if(!k)return{type:"unauthorized"};let{accessToken:l}=k,c;try{c=await nr("latest",l)}catch(f){return iE(f)}let d=Er()[c.id];if(!d)return{type:"upgrade-required"};let E=await o(),$;try{$=new Uint8Array(await E.getJuiceboxShare(d,e,l)),await $a(n)}catch(f){let b=f?.reasonCode,P=f?.guessesRemaining;if(De(f))if(!t&&P&&P<=5){await da(P,n);let{timeRemaining:H}=await Ue(n);return{type:"cooldown",timeRemaining:H,guessesRemaining:P}}else return{type:"error-juicebox-recover",reason:b,guessesRemaining:P};else return{type:"error-juicebox-recover",reason:b||"unknown"}}if($.every(f=>f===0))return{type:"error-juicebox-share-zero"};let q;try{q=await ra({encryptedAccounts:c.encryptedAccounts,encryptionKey:c.encryptionKey,decryptionKeySharePhantom:c.decryptionKeyShare1,decryptionKeyShareExternal:JA.from($)})}catch(f){let b;return f instanceof p6?b=f.reason:b="unknown",{type:"error-decrypt-accounts",reason:b}}if(q.length===0)return{type:"error-no-entropies"};let h=await pa(A,{seedlessEntropy:q[0],pin:e,currentConfigHash:c.id});return j.emitRotationResult(h),{type:"success",entropy:q[0]}};var ze,pr,BE=A=>{let j=new cr,e=new t7,t={recover:n=>e.runExclusive(async()=>await Fa(A,n,!1,j)),verifyPin:n=>e.runExclusive(async()=>await EE(A,n,!0,j))},r=new t7;return{backup:n=>kE(A,n),backupCleanup:()=>lE(),...t,resetBundleFromDevice:(n,s)=>cE(A,n,s),hasSeedlessBundle:()=>qa(A),deleteBundle:()=>fa(A),needsBundleUpdate:()=>dE(A),timeLeftCooldown:()=>$E(A),getPinVerificationTimer:({timerInMs:n})=>pE({...A,timerInMs:n}),setPinVerificationTimer:n=>uE(A,n),...{getDeviceEncryptionKey:()=>r.runExclusive(async()=>await mE(A))},generateDeviceEncryptionKey:Ia,setDeviceEncryptionKey:n=>va(A,n),deleteDeviceEncryptionKey:()=>FE(A),getOrCreateSeedlessDeviceID:()=>ga(A),subscribe:(n,s)=>j.subscribe(n,s)}},Y7={},kE=async(A,j)=>{if(!Mj(j))throw new Error("Invalid PIN provided. Only numbers are accepted.");return await ha(A),ma(A,j,[pr])},lE=async()=>{pr=void 0,ze=void 0},cE=async(A,j,e)=>{if(!Mj(j))throw new Error("Invalid PIN provided. Only numbers are accepted.");return await fa(A),await ha(A),ma(A,j,e)},ma=async(A,j,e)=>{if(!Mj(j))throw new Error("Invalid PIN provided. Only numbers are accepted.");if(!ze)throw new Error("bundle encryption key should be set");let t=await A.authRepository.getUser();if(!t)throw new Error("User is not logged in");let{accessToken:r}=t,o=Wj(_6());if(await qa(A,o))return{entropy:e[0]};let s=ze.fold(E=>new Uint8Array(E)),i=await lr(s,e),k=await i.decryptionKeyShareExternal.fold(E=>new Uint8Array(E));if(!await(await A.juiceboxClient()).sendJuiceboxShare(_6(),k,j,r))throw new Error("Failed to send share to Juicebox");if(!await or(i,o,r))throw new Error("Failed to backup bundle to backend");return L.captureMessage("S**dless: Successful Backup \u2705","se*dless","info"),{entropy:e[0]}},Fa=async(A,j,e=!1,t)=>{let r=await ua(A,t,{pin:j,ignoreCooldown:e});if(t.emitRecoverResult(r),r.type!=="success")throw new Be(r);return{entropy:r.entropy}},EE=async(A,j,e=!0,t)=>{await Fa(A,j,e,t)},qa=async({authRepository:A},j="latest")=>{let e=await A.getUser();if(!e)throw new Error("User is not logged in, cannot check for se*dless bundle");let{accessToken:t}=e;return await Ki(j,t)},dE=async({authRepository:A})=>{let j=await A.getUser();if(!j)throw new Error("User is not logged in, cannot check for seedless bundle update");let{accessToken:e}=j,t,r=Wj(_6());try{t=await nr("latest",e)}catch(n){if(n instanceof Error&&n.message==="bundle not found")return!1;throw n}return!!Er()[t.id]&&t.id!==r},fa=async({authRepository:A})=>{let j=await A.getUser();if(!j)throw new Error("User is not logged in, cannot delete seedless bundle");let{accessToken:e}=j,t=Wj(_6());return await sr(t,e)},$E=async({storage:A})=>{let{timeRemaining:j}=await Ue(A);return j},pE=async({storage:A,timerInMs:j})=>{let e=Date.now(),t=await A.get("seedlessPinVerificationLockTimerInMs")??Date.now();return{expired:e>=t+(j??2592e6),timestampInMs:t}},uE=async({storage:A},j)=>{await A.set("seedlessPinVerificationLockTimerInMs",j)},Q7=async A=>(await A.get("seedlessDeviceID"))?.deviceID??null,Ga=async(A,j)=>{await A.set("seedlessDeviceID",{version:1,deviceID:j})},Ia=()=>{let A=Re(32);try{return Promise.resolve(JA.from(A))}finally{A.fill(0)}},ga=async({storage:A})=>{let j=await Q7(A);return j||(j=Nr(),await Ga(A,j)),j},mE=async A=>{let{authRepository:j}=A,e=await j.getUser();if(!e)throw new Error("User not logged in, cannot retrieve device encryption key.");let t=await ga(A),r=Y7[t];if(r)return r;let o=await P7(e.accessToken,t);return o||(o=await Ia(),await va(A,o)),Y7[t]=o,o},va=async({authRepository:A,storage:j},e)=>{let t=await A.getUser();if(!t)throw new Error("User not logged in, cannot set device encryption key.");let r=await Q7(j);return r||(r=Nr(),await Ga(j,r)),await Si(t.accessToken,r,e),Y7[r]=e,e},FE=async({authRepository:A,storage:j})=>{let e=await A.getUser();if(!e)throw new Error("User not logged in, cannot delete device encryption key.");let t=await Q7(j);if(!t)return null;let r=await P7(e.accessToken,t);return r?(await Ti(e.accessToken,t),r):null},ha=async({mnemonicProvider:A})=>{pr||(pr=await A()),ze||(ze=new JA(Re(32)))};a();B();a();B();var Z7={};LB(Z7,{default:()=>Ao});var Ao="./juicebox-sdk_bg-LUYFYBUJ.wasm";Rn(Z7);var ba=!1,fE=async()=>{if(ba)return;let A=await import("./juicebox-sdk_bg-R7JKJPGJ.js"),j=await WebAssembly.instantiateStreaming(fetch(Ao),{"./juicebox-sdk_bg.js":A});A.__wbg_set_wasm(j.instance.exports),ba=!0};function ya(A){globalThis.JuiceboxTokens=A}ya({});var jo=class{setJuiceboxTokens(j){ya(j)}async backupShare(j,e,t,r,o){await(await this.client(j)).register(t,e,r,o)}async recoverShare(j,e,t){return await(await this.client(j)).recover(e,t)}async deleteShare(j){await(await this.client(j)).delete()}async client(j){return await fE(),new Vn(new Xn(j),[])}};var ce=G(I());a();B();function Je(A,j,e,t){let r=new RegExp(`^[0-9]{${A},${j}}$`);return({value:o,isFocused:n})=>{let s=!n&&o.length!==0;return o.length<A||o.length>j||!r.test(o)?(e(!1),{report:s,status:"fail",message:t}):(e(!0),{status:"accent"})}}a();B();var m6=G(I());a();B();var HA=G(I());a();B();var u6=G(I()),GE=4,Fr=({autoSubmit:A=!1,buttonRef:j,onSubmit:e,onSuccess:t})=>{let[r,o]=(0,u6.useState)(""),[n,s]=(0,u6.useState)(!1),[i,k]=(0,u6.useState)(),l=(0,u6.useCallback)(async E=>{j.current?.start(),s(!0);try{await e(E),k(void 0),t()}catch($){Pj($)||Xt($)?k($):k("unknown")}finally{j.current?.stop(),s(!1)}},[e,t,j]),c=(0,u6.useCallback)(async()=>{await l(r)},[r,l]),d=(0,u6.useCallback)(async E=>{o(E),A&&E.length===GE&&await l(E)},[A,o,l]);return{pin:r,pinSubmissionError:i,isSubmitting:n,handlePinChange:d,handleSubmit:c}};a();B();var D6=G(I());a();B();var xa=({error:A,cooldownTimer:j,showResetPinAttempts:e})=>{if(He(A)&&A.reasonCode===0)return{message:"seedlessConfirmPinError"};if(!Pj(A))return{message:"seedlessEnterPinUnknownError"};if(M7(A))return{message:"seedlessEnterPinUnauthorizedError"};if(ke(A)){let{minutes:t,seconds:r}=ae(j);return parseInt(t)>0||parseInt(r)>0?{message:"seedlessEnterPinCooldown",params:{minutesLeft:t,secondsLeft:r}}:{message:"seedlessEnterPinCooldownTimerEnd"}}if(d6(A)&&typeof A.result.guessesRemaining=="number"){let t=A.result.guessesRemaining;return e&&(t=A.result.guessesRemaining-4),t===1?{message:"seedlessVerifyPinOneGuessRemaining"}:t>=2?{message:"seedlessEnterPinIncorrectNumTriesLeft",params:{numTries:t}}:{message:"seedlessEnterPinUnknownErrorReset"}}return Xe(A)?{message:"seedlessRecoverErrorUpgradeRequiredDescription"}:{message:"seedlessEnterPinUnknownErrorReset"}};var qr=({error:A,showResetPinAttempts:j=!1})=>{let{t:e}=O(),{data:t=0}=Ce(),{message:r,params:o}=xa({error:A,cooldownTimer:t,showResetPinAttempts:j});return A?D6.default.createElement(F,{direction:"row",gap:4,alignItems:"center"},r==="seedlessVerifyPinOneGuessRemaining"?D6.default.createElement(y,{color:"textSecondary",font:"caption",align:"left",children:e(r,o)}):D6.default.createElement(D6.default.Fragment,null,D6.default.createElement(dA.XCircle,{size:16,color:"accentAlert"}),D6.default.createElement(y,{color:"accentAlert",font:"caption",align:"left",children:e(r,o)}))):null};var fr=({onSubmit:A,onSuccess:j})=>{let{t:e}=O(),t=e("seedlessEnterPinIncorrectLength"),[r,o]=(0,HA.useState)(!1),n=(0,HA.useMemo)(()=>Je(4,4,o,t),[t]),s=(0,HA.useRef)(null),{pin:i,pinSubmissionError:k,isSubmitting:l,handlePinChange:c,handleSubmit:d}=Fr({autoSubmit:!0,buttonRef:s,onSubmit:A,onSuccess:j});return HA.default.createElement(F,{flex:1,justifyContent:"space-between"},HA.default.createElement(F,{gap:32},HA.default.createElement(F,{gap:8,marginTop:"screen"},HA.default.createElement(y,{align:"center",font:"heading4Bold"},e("seedlessVerifyPinPrimaryText"))),HA.default.createElement(F,{gap:8},HA.default.createElement(h6,{autoFocus:!0,id:"seedless-enter-pin",label:"Enter your PIN",showLabel:!1,maxLength:4,setValue:c,validateOn:"both",validator:n,validatorDebounce:0,value:i,disabled:l}),HA.default.createElement(qr,{error:k,showResetPinAttempts:!0}))),HA.default.createElement(sj,null,HA.default.createElement(Cj,{ref:s,theme:"primary",disabled:!r||l,onClick:d},e("commandContinue"))))};var We=(0,m6.memo)(({goToReset:A,goToComplete:j})=>{let e=GA(),{mutateAsync:t}=Jt(),{mutateAsync:r}=Jj();(0,m6.useEffect)(()=>{e.capture("seedlessVerifyPinOpen")},[e]);let o=(0,m6.useCallback)(async n=>{try{await t(n),e.capture("seedlessVerifyPinSuccess"),await r()}catch(s){throw d6(s)&&s.result.guessesRemaining&&s.result.guessesRemaining<=4&&A(),s}},[t,A,e,r]);return m6.default.createElement(fr,{onSubmit:o,onSuccess:j})});We.displayName="SeedlessVerifyPin";a();B();var TA=G(I());var Gr=({onPinEnter:A})=>{let{t:j}=O(),e=j("seedlessEnterPinIncorrectLength"),[t,r]=(0,TA.useState)(""),[o,n]=(0,TA.useState)(!1),s=(0,TA.useMemo)(()=>Je(4,4,n,e),[e]),i=(0,TA.useCallback)(l=>{r(l),l.length===4&&A(l)},[A]),k=(0,TA.useCallback)(()=>{A(t)},[A,t]);return TA.default.createElement(F,{flex:1,justifyContent:"space-between"},TA.default.createElement(F,{gap:32},TA.default.createElement(F,{gap:8,marginTop:"screen"},TA.default.createElement(y,{align:"center",font:"heading4Bold"},j("seedlessResetPinPrimaryTitle")),TA.default.createElement(y,{align:"center",color:"textSecondary",font:"caption"},j("seedlessResetPinPrimaryDescription"))),TA.default.createElement(h6,{autoFocus:!0,id:"seedless-create-pin",label:"Create your new PIN",showLabel:!1,maxLength:4,setValue:i,validateOn:"both",validator:s,validatorDebounce:0,value:t})),TA.default.createElement(sj,null,TA.default.createElement(Cj,{theme:"primary",disabled:!o,onClick:k},j("commandContinue"))))};a();B();var yA=G(I());var Ir=({pin:A,onReset:j,onSuccess:e})=>{let{t}=O(),r=GA(),[o,n]=(0,yA.useState)(!1),s=(0,yA.useRef)(null),{pin:i,pinSubmissionError:k,handlePinChange:l,isSubmitting:c,handleSubmit:d}=Fr({buttonRef:s,onSubmit:j,onSuccess:e});(0,yA.useEffect)(()=>{r.capture("seedlessResetPinOpen")},[r]);let E=t("seedlessEnterPinMatch"),$=t("seedlessConfirmPinError"),m=(0,yA.useCallback)(({value:q,isFocused:h})=>q.length<A.length&&h?(n(!1),{status:"neutral",report:!1}):A!==q?(n(!1),{status:"fail",message:$}):(n(!0),{status:"pass",message:E}),[E,$,A]);return yA.default.createElement(F,{flex:1,justifyContent:"space-between"},yA.default.createElement(F,{gap:32},yA.default.createElement(F,{gap:8,marginTop:"screen"},yA.default.createElement(y,{align:"center",font:"heading4Bold"},t("seedlessResetPinSecondaryTitle")),yA.default.createElement(y,{paddingX:8,align:"center",font:"caption",color:"textSecondary",children:yA.default.createElement(Vr,{i18nKey:"seedlessResetPinSecondaryDescription"},"Be sure to choose one you will remember.",yA.default.createElement(y,{font:"body",color:"accentWarning",children:"Lost or forgotten PINs cannot be recovered."}))})),yA.default.createElement(F,{gap:8},yA.default.createElement(h6,{autoFocus:!0,id:"seedless-confirm-pin",label:"Confirm your new PIN",showLabel:!1,maxLength:4,setValue:l,validateOn:"both",validator:m,validatorDebounce:0,value:i,disabled:c}),yA.default.createElement(qr,{error:k}))),yA.default.createElement(sj,null,yA.default.createElement(Cj,{ref:s,theme:"primary",disabled:!o||c,onClick:d},t("seedlessResetCreatePinButton"))))};a();B();var Kj=G(I()),gr=({title:A,onClose:j})=>{let{t:e}=O();return(0,Kj.useEffect)(()=>{let t=setTimeout(()=>{j()},3e3);return()=>clearTimeout(t)},[j]),Kj.default.createElement(F,{flex:1,justifyContent:"space-between"},Kj.default.createElement(F,{flex:1,alignItems:"center",justifyContent:"center",gap:24},Kj.default.createElement(o6,{icon:"Check",size:48,backgroundColor:"accentSuccess",shape:"circle"}),Kj.default.createElement(F,{gap:4},Kj.default.createElement(y,{align:"center",font:"title1Semibold",color:"textPrimary"},A),Kj.default.createElement(y,{align:"center",font:"body",color:"textSecondary"},e("seedlessPinSuccessDescription")))),Kj.default.createElement(Cj,{theme:"secondary",onClick:j},e("commandClose")))};a();B();var nA=G(I());var Oa=({onDone:A,onSuccess:j,onError:e,height:t,animationStyles:r,startAnimation:o,marginBottom:n,isExtensionSidebar:s})=>{let i=hj(w=>w.username),k=(0,nA.useRef)(null),[l,c]=(0,nA.useState)(!1),[d,E]=(0,nA.useState)(!1),$=(0,nA.useCallback)(()=>{j?.(),k.current?.setUserName(i)},[i,j]),m=(0,nA.useCallback)(()=>{e?.(),k.current?.fail()},[e]),{handleClaimUsername:q,isClaimUsernameIdle:h,isClaimingUsernamePending:f,claimUsernameErrorMessage:b}=Hn({onSuccess:$,onError:m}),P=(0,nA.useCallback)(()=>{E(w=>w===!1?w:!1),k.current?.tryAgain(),q()},[q]);return(0,nA.useEffect)(()=>{o&&k.current?.start(s)},[o,s]),(0,nA.useEffect)(()=>{h&&!f&&q()},[q,h,f]),nA.default.createElement(nA.default.Fragment,null,nA.default.createElement(In,{height:t,animationStyles:r,ref:k,onRiveReady:()=>k.current?.start(s),onFailComplete:()=>E(w=>w===!0?w:!0),onSuccessComplete:()=>c(w=>w===!0?w:!0)}),nA.default.createElement(F,{direction:"column",flex:1,width:"100%",zIndex:10},l?nA.default.createElement(IE,{onPress:()=>k.current?.startConfetti(),onDone:A,marginBottom:n}):null,d?nA.default.createElement(gE,{onTryAgain:P,errorMessage:b,marginBottom:n}):null))},IE=({onPress:A,onDone:j,marginBottom:e})=>{let{t}=O();return nA.default.createElement(F,{direction:"column",flex:1,justifyContent:fe?"flex-end":"space-between",gap:48,onPress:A},nA.default.createElement(F,{height:"25%"}),nA.default.createElement(F,{alignContent:"center",justifyContent:"center",width:"100%",gap:8},nA.default.createElement(y,{align:"center",font:fe?"heading2Semibold":"heading4Semibold",children:t("onboardingFinished")}),nA.default.createElement(y,{align:"center",font:"caption",color:"textSecondary",children:t("onboardingDoneDescription")})),nA.default.createElement(F,{paddingX:"screen",paddingBottom:"screen",style:{marginBottom:e}},nA.default.createElement(NA,{theme:"primary",onPress:j},t("onboardingDoneGetStarted"))))},gE=({onTryAgain:A,errorMessage:j,marginBottom:e})=>{let{t}=O();return nA.default.createElement(F,{direction:"column",flex:1,justifyContent:"space-between"},nA.default.createElement(F,{height:"25%"}),nA.default.createElement(F,null,nA.default.createElement(F,{alignContent:"center",justifyContent:"center",width:"100%",height:"100%",gap:8},nA.default.createElement(y,{children:j,color:"accentAlert",font:"caption",align:"center"}))),nA.default.createElement(F,{paddingX:"screen",paddingBottom:"screen",style:{marginBottom:e}},nA.default.createElement(NA,{theme:"primary",onPress:A},t("settingsClaimUsernameTryAgain"))))};a();B();var _A=G(I()),vr=_A.default.memo(({onVerify:A,onReset:j,image:e,show:t})=>{let{t:r}=O(),o=GA(),[n,s]=(0,_A.useState)(!1),i=(0,_A.useRef)(!1);(0,_A.useEffect)(()=>{t&&!i.current&&(o.capture("seedlessVerifyPinInterstitialDisplayed"),i.current=!0)},[t,n,o]);let k=(0,_A.useCallback)(()=>{s(!0),A(),o.capture("seedlessVerifyPinInterstitialVerifyButtonClicked")},[A,o]),l=(0,_A.useCallback)(()=>{s(!0),j(),o.capture("seedlessVerifyPinInterstitialResetButtonClicked")},[j,o]),c=(0,_A.useMemo)(()=>({title:r("seedlessVerifyPinInterstitialTitle"),items:[{key:"pin-verification-interstitial-1",icon:_A.default.createElement(o6,{icon:"Key",backgroundColor:"bgWallet",color:"white",shape:"square"}),title:r("seedlessVerifyPinInterstitialProp1Title"),description:r("seedlessVerifyPinInterstitialProp1Description")},{key:"pin-verification-interstitial-2",icon:_A.default.createElement(o6,{icon:"Leaf",backgroundColor:"bgWallet",color:"white",shape:"square"}),title:r("seedlessVerifyPinInterstitialProp2Title"),description:r("seedlessVerifyPinInterstitialProp2Description")},{key:"pin-verification-interstitial-3",icon:_A.default.createElement(o6,{icon:"BookOpen",backgroundColor:"bgWallet",color:"white",shape:"square"}),title:r("seedlessVerifyPinInterstitialProp3Title"),description:r("seedlessVerifyPinInterstitialProp3Description")}],primaryButton:{theme:"primary",children:r("seedlessVerifyPinInterstitialVerifyButtonText"),onAction:k,testID:"verify-pin-interstitial-verify-button",analyticsEvent:{event:"seedlessVerifyPinInterstitialVerifyButtonClicked"}},secondaryButton:{theme:"secondary",children:r("seedlessVerifyPinInterstitialResetButtonText"),onAction:l,testID:"verify-pin-interstitial-reset-button",analyticsEvent:{event:"seedlessVerifyPinInterstitialResetButtonClicked"}},image:e,displayEvent:{event:"seedlessVerifyPinInterstitialDisplayed"}}),[r,k,l,e]);return t?_A.default.createElement(Pe,{...c,footer:{type:"transparent"}}):null});a();B();var Ma=()=>{let{data:A=[]}=it("recoverable-only"),{data:j}=I7();return{shouldShowPinVerificationInterstitial:xn("SeedlessPinVerification","enable-seedless-pin-verification-interstitial",()=>A.length>0&&!fo()&&!!j&&j.expired)}};var lj=G(I());a();B();var FA=G(I());a();B();var A6=G(NB());var f8=async()=>{let A=Lj("hasOnboarded"),j=await Dj(A6.default.runtime,A);if("error"in j)throw new Error(j.error.message);return j.result},G8=async()=>{let A=Lj("resetHasOnboarded"),j=await Dj(A6.default.runtime,A);if("error"in j)throw new Error(j.error.message);return j.result},I8=async A=>{let j=Lj("unlockExtension",A),e=await L.startSpan({name:"unlockExtension"},()=>Dj(A6.default.runtime,j));if("error"in e)throw new Error(e.error.message);if(!e.result)throw new Error("Missing unlock extension response.");let{isUnlocked:t,migrationResult:r}=e.result;if(t===void 0)throw new Error("Missing isUnlocked in unlock response.");if(r===void 0)throw new Error("Missing migrationResult in unlock response.");switch(r){case"success":await dt.invalidateQueries({refetchType:"all"});break;case"no-migration":case"failure":break;default:vo(r)}return{isUnlocked:t,migrationResult:r}},g8=async()=>{let A=Lj("IsExtensionUnlocked"),j=await L.startSpan({name:"isExtensionUnlocked"},()=>Dj(A6.default.runtime,A));if("error"in j)throw new Error(j.error.message);return j.result},v8=async()=>{let A=Lj("lockExtension"),j=await L.startSpan({name:"lockExtension"},()=>Dj(A6.default.runtime,A));if("error"in j)throw new Error(j.error.message);return j.result},h8=async A=>{let j=Lj("setPassword",A),e=await L.startSpan({name:"setPassword"},()=>Dj(A6.default.runtime,j));if("error"in e)throw new Error(e.error.message);return e.result},Pa=async A=>{let j=Lj("verifyPassword",A),e=await L.startSpan({name:"verifyPassword"},()=>Dj(A6.default.runtime,j));if("error"in e)throw new Error(e.error.message);return e.result},b8=async A=>{let j=Lj("updatePassword",A),e=await L.startSpan({name:"updatePassword"},()=>Dj(A6.default.runtime,j));if("error"in e)throw new Error(e.error.message);return e.result};var wa="Incorrect password",hr=FA.default.memo(({type:A,onSuccess:j,hideHeader:e=!1})=>{let t=(0,FA.useRef)(null),r=(0,FA.useRef)(null),[o,n]=(0,FA.useState)(""),[s,i]=(0,FA.useState)(!1),k=(0,FA.useCallback)(h=>{h.preventDefault();let f=r.current?.selectionStart||0,b=r.current?.selectionEnd||0;f<b&&r.current?.setSelectionRange(b,b),i(P=>!P)},[]),{t:l}=O(),c=A==="privateKey",d=A==="seedless",E=l(c?"exportSecretPrivateKey":d?"exportSecretPIN":"exportSecretRecoveryPhrase"),$=l(c?"exportSecretShowPrivateKey":d?"exportSecretResetPin":"exportSecretShowSecretRecoveryPhrase"),m=(0,FA.useCallback)(async({value:h})=>{try{if(!await Pa(h))throw new Error(wa);return{status:"pass"}}catch(f){return{status:"fail",message:f.message.includes(wa)?l("exportSecretErrorIncorrectPassword"):l("exportSecretErrorGeneric")}}},[l]),q=(0,FA.useCallback)(async h=>{h.preventDefault(),(await t.current?.validate())?.status==="pass"?j(JA.from(new Uint8Array(Buffer.from(o)))):r.current?.select()},[j,o]);return FA.default.createElement(FA.default.Fragment,null,!e&&FA.default.createElement(Ft,{shouldWrap:!0},$),FA.default.createElement(F,{flex:1,width:"100%",alignItems:"center",asChild:!0,padding:8},FA.default.createElement("form",{onSubmit:q},FA.default.createElement(F,{flex:1,width:"100%",maxWidth:320,justifyContent:"center",alignItems:"center",gap:"section"},FA.default.createElement(o6,{icon:"ShieldWarning",size:64,backgroundColor:"accentAlert",shape:"circle"}),FA.default.createElement(y,{align:"center",font:"body",color:"textSecondary",children:l("exportSecretPasswordHeading",{secretNameText:E})}),FA.default.createElement(lt,{autoFocus:!0,ref:t,inputRef:r,value:o,setValue:n,id:"password",type:s?"text":"password",placeholder:l("exportSecretPassword"),validateOn:"command",validator:m,shakeOnInvalid:!0,selectOnFocus:!0,label:l("unlockEnterPassword"),showLabel:!1,clearButton:"never",end:FA.default.createElement(kt,{icon:"Eye",onMouseDown:k,onMouseUp:k,onFocus:k,onBlur:k,label:l("revealPassword"),disabled:!o,backgroundColor:{hover:"borderSecondary",active:"bgButton",focusVisible:"bgButton"},color:{base:"textSecondary",hover:"textPrimary",active:"accentPrimary",focusVisible:"accentPrimary"}})})),FA.default.createElement(sj,null,FA.default.createElement(NA,{theme:"secondary",type:"submit",disabled:!o,testID:"primary-button"},l("commandContinue"))))))});a();B();var H6=G(I());var j6=({hideBackButton:A,children:j,isSettings:e=!1})=>{let{t}=O(),{popDetailView:r}=lA();return H6.default.createElement(F,{height:"100%"},H6.default.createElement(F,{borderBottomColor:"borderSecondary",borderBottomStyle:"solid",borderBottomWidth:A?0:1,paddingY:e?0:10,paddingX:e?0:8},e?H6.default.createElement(Ft,{shouldWrap:!0},t("exportSecretResetPin")):H6.default.createElement(F,{size:32,justifyContent:"center"},H6.default.createElement(kt,{size:32,icon:"ArrowLeft",label:"prev",backgroundColor:"bgWallet",color:"textPrimary",onClick:r,className:A?T({visibility:"accessibly-hidden"}):""}))),H6.default.createElement(F,{flex:1,height:"100%",padding:e?0:"screen"},j))};a();B();var de=G(I());a();B();var C6=G(I());a();B();var Ee=G(I());var br=({title:A,isSettings:j=!1})=>{let{popDetailView:e}=lA(),{handleHideModalVisibility:t}=eA(),r=(0,Ee.useCallback)(()=>{e(),e(),e(),e()},[e]),o=(0,Ee.useCallback)(()=>{j?r():t("seedlessVerifyInterstitial")},[r,t,j]);return Ee.default.createElement(F,{flex:1,padding:j?0:"screen"},Ee.default.createElement(gr,{title:A,onClose:o}))};var Sa=({pin:A,password:j,isSettings:e=!1})=>{let{t}=O(),{pushDetailView:r}=lA(),{data:o=[]}=it("recoverable-only"),{mutateAsync:n}=Jj(),{mutateAsync:s}=Wt(),{mutateAsync:i}=zt(),k=GA(),l=(0,C6.useCallback)(async d=>{let E=await Promise.all(o.map(async function($){let m=$.identifier;return await j.foldAsync(q=>Un(Buffer.from(q).toString("utf-8"),m))}));await s({pin:d,seedlessEntropies:E}),await n(),await i(),k.capture("seedlessResetPinSuccess")},[j,o,s,n,i,k]),c=(0,C6.useCallback)(async()=>{r(C6.default.createElement(br,{title:t("seedlessResetPinSuccessTitle"),isSettings:e}))},[r,t,e]);return C6.default.createElement(j6,{isSettings:e},C6.default.createElement(Ir,{pin:A,onReset:l,onSuccess:c}))};var yr=({password:A,hideBackButton:j=!1,isSettings:e=!1})=>{let{pushDetailView:t}=lA(),r=(0,de.useCallback)(async o=>{t(de.default.createElement(Sa,{pin:o,password:A,isSettings:e}))},[t,A,e]);return de.default.createElement(j6,{hideBackButton:j,isSettings:e},de.default.createElement(Gr,{onPinEnter:r}))};a();B();var Ij=G(I());var Ta=()=>{let{t:A}=O(),{pushDetailView:j,pushDetailViewCallback:e}=lA(),t=(0,Ij.useCallback)(s=>{j(Ij.default.createElement(yr,{password:s,hideBackButton:!0}))},[j]),r=e(Ij.default.createElement(j6,{hideBackButton:!0},Ij.default.createElement(hr,{type:"seedless",onSuccess:t,hideHeader:!0}))),o=(0,Ij.useCallback)(()=>{r()},[r]),n=(0,Ij.useCallback)(async()=>{j(Ij.default.createElement(br,{title:A("seedlessVerifyPinSuccessTitle")}))},[j,A]);return Ij.default.createElement(j6,null,Ij.default.createElement(We,{goToReset:o,goToComplete:n}))};var _a=lj.default.memo(({show:A})=>{let{pushDetailView:j,pushDetailViewCallback:e}=lA(),t=(0,lj.useCallback)(s=>{j(lj.default.createElement(yr,{password:s,isSettings:!1}))},[j]),r=e(lj.default.createElement(j6,null,lj.default.createElement(hr,{type:"seedless",onSuccess:t,hideHeader:!0}))),o=(0,lj.useCallback)(()=>{j(lj.default.createElement(Ta,null))},[j]),n=(0,lj.useCallback)(()=>{r()},[r]);return lj.default.createElement(vr,{show:A,onVerify:o,onReset:n,image:lj.default.createElement("img",{width:100,height:100,src:"images/seedless/pin-verification.webp"})})});a();B();var gA=G(I());a();B();var VA=G(I());a();B();var N=G(I());var bE=74,yE=22,eo=10,xE=bE+eo,OE=yE+2*eo,Da=v.div`
  display: flex;
  flex-direction: column;
  flex: 1;
`,Ca=v.div`
  height: 100%;
  display: flex;
  align-items: center;
  justify-content: center;
`,Ha=v.div`
  margin-bottom: 16px;
`,ME=v.div``,PE=v.div`
  flex: 1 1 auto; // https://github.com/bvaughn/react-virtualized-auto-sizer#can-i-use-this-component-with-flexbox
`,wE=()=>N.default.createElement(ME,null,[...Array(4)].map((A,j)=>N.default.createElement(cs,{key:`row-loader-${j}`,hideTextRight:!0}))),KE=N.default.memo(({localizedError:A})=>N.default.createElement(Ca,null,N.default.createElement(he,null,A.message))),SE=N.default.memo(({text:A})=>N.default.createElement(Ca,null,N.default.createElement(he,null,A))),TE=({title:A,iconUrl:j,button:e})=>N.default.createElement(F,{direction:"row",paddingY:eo,backgroundColor:"bgWallet",justifyContent:"space-between"},N.default.createElement(F,{direction:"row"},j?N.default.createElement(F,{marginRight:8},N.default.createElement(xj,{src:j})):null,N.default.createElement(y,{children:A,font:"bodyMedium"})),e?N.default.createElement(y,{children:e.label,font:"labelSemibold",color:"textSecondary",onPress:e.onClick}):null),_E=({localizedError:A,isFetching:j,filterKey:e,initialFilterKey:t,filterLabels:r=[],alwaysShowFilters:o=!1,emptyListCopy:n="",sections:s,searchRef:i,renderItem:k,keyExtractor:l,setSearchQuery:c})=>{let[d,E]=(0,N.useState)(""),$=(0,N.useRef)(null),m=(0,N.useRef)(null),{t:q}=O(),h=q("assetListSearch"),f=bn(i),b=(0,N.useMemo)(()=>!e||r.length===0||d===ye?s:s.map(g=>({...g,data:g.data.filter(x=>ho(x,e)===d)})),[d,s,e,r.length]);(0,N.useEffect)(()=>{setTimeout(()=>m.current?.focus(),200)},[]),(0,N.useEffect)(()=>{$.current?.resetAfterIndex(0,!0),f!==i&&$.current?.scrollTo(0,0)},[b,i]),(0,N.useEffect)(()=>{let g=$.current;return g&&g.scrollTop!==0&&(g.scrollTop=0),()=>{g?.current&&(g.current=null)}},[d]);let P=(0,N.useCallback)(g=>{c?.(g.currentTarget.value)},[c]),w=(0,N.useMemo)(()=>b.reduce((g,x)=>{if(x.header&&x.data.length>0){let R={data:x.header,type:"header"};g.push(R)}let W=x.data.map(R=>({data:R,type:"data"}));return g.concat(W)},[]),[b]),H=(0,N.useMemo)(()=>e&&r.length>0?ds({data:s.flatMap(g=>g.data),activeFilterId:d,filterKey:e,filterLabels:r,alwaysShowFilters:o}):[],[d,r,e,o,s]);(0,N.useEffect)(()=>{if(d||H.length===0)return;let g=H.find(x=>x.id===t);E(g?.id??H[0].id)},[H,t,d]);let K=H.length>2||H.length===2&&!H.find(g=>g.id===ye),Q=(0,N.useCallback)(({index:g,style:x,data:W})=>{let R=W[g];return R?.type==="header"?N.default.createElement("div",{key:`list-title-${R.data.title}`,style:x},N.default.createElement(TE,{...R.data})):N.default.createElement("div",{key:l(R.data,g),style:x},k({item:R.data,index:g}))},[l,k]),C=(0,N.useMemo)(()=>w.length===0?()=>N.default.createElement(SE,{text:n}):void 0,[n,w.length]),z=(0,N.useCallback)(g=>w[g].type==="header"?OE:xE,[w]);return A?N.default.createElement(Da,null,N.default.createElement(KE,{localizedError:A})):N.default.createElement(Da,null,N.default.createElement(Ha,null,N.default.createElement(ks,{ref:m,tabIndex:0,placeholder:h,onChange:P,maxLength:Oo})),K&&N.default.createElement(Ha,null,N.default.createElement(Es,{onPress:E,filters:H})),j?N.default.createElement(wE,null):N.default.createElement(PE,null,N.default.createElement(Fn,null,({height:g,width:x})=>N.default.createElement(yn,{ref:$,innerElementType:C,height:g,itemSize:z,itemData:w,itemCount:w.length,width:x},Q))))},La=N.default.memo(_E);a();B();var uA=G(I());var DE=74,HE=v(Nj).attrs({align:"center",padding:"15px"})`
  cursor: pointer;
  background-color: #2a2a2a;
  border-radius: ${ZA.radiusRow};
  height: ${DE}px;
  &:hover {
    background-color: #333;
  }
`,CE=v.figure`
  margin-right: 10px;
`,LE=v.div`
  margin-left: 10px;
  position: relative;
`,Na=v(Nj).attrs({justify:"space-between"})``,NE=v.div`
  flex: 1;
  display: flex;
  flex-direction: column;
  justify-content: space-between;
`,Ra=v(Z).attrs({textAlign:"left"})`
  display: -webkit-box;
  -webkit-line-clamp: 1;
  -webkit-box-orient: vertical;
  overflow: hidden;
  word-break: break-word;
  text-overflow: ellipsis;
  word-break: break-all;
`,RE=T({marginLeft:4}),Va=uA.default.memo(A=>{let{tokenAddress:j,walletAddress:e,balance:t,chainMetadata:r,currencyValue:o,currencyChange:n,isLoadingPrices:s,logoUri:i,name:k,onClick:l,onMouseEnter:c,showCurrencyValues:d=!0,hideEmptyCurrency:E=!1,enableAnimations:$=!1,showBalance:m=!0,symbol:q,type:h,tooltip:f,spamStatus:b,visibilityOverrideValue:P,accessory:w}=A,H=j?g6(j):void 0,K=q??H??"",Q=o!==void 0?uA.default.createElement(Aj,{font:"captionMedium",value:o,minimumResolutionValue:.01,intlNumberFormatOptions:Ie}):E?"":"\u2013",C=n!==void 0?uA.default.createElement(Aj,{signConfig:"always",color:"sentiment",font:"captionMedium",value:n,minimumResolutionValue:.01,intlNumberFormatOptions:Ie}):E?"":"-",z=m?`${rt(t)} ${K}`:K,g=`${q??(j&&g6(j))}`,x=`fungible-token-row-${WA.getChainName(r.id).toLowerCase()}-${g}`;e&&Po(r.id,e)&&(x+=`-${xo(r.id,e)}`);let W=Yo(P,{spamStatus:b})==="POSSIBLE_SPAM";return uA.default.createElement(HE,{"data-testid":x,onMouseEnter:c,onClick:l,role:"button"},uA.default.createElement(CE,null,uA.default.createElement(y6,{enableAnimations:$,image:{type:"fungible",src:i,fallback:q||j},tokenType:h,chainMeta:r})),uA.default.createElement(NE,null,uA.default.createElement(Na,{margin:"0 0 2.5px 0"},uA.default.createElement(ps,{networkID:r.id,walletAddress:e},uA.default.createElement(uA.default.Fragment,null,uA.default.createElement(Ra,{size:16,weight:600,lineHeight:19},k),W?uA.default.createElement(Wn,{className:RE,fill:ZA.colors.legacy.accentWarning,height:16,width:16}):null)),d?s?uA.default.createElement(O6,{width:"75px",height:"8px",borderRadius:"8px",backgroundColor:"#484848"}):uA.default.createElement(uA.default.Fragment,null,Q):null),uA.default.createElement(Na,{margin:"2.5px 0 0 0"},uA.default.createElement(Ra,{size:14,lineHeight:17,color:"#777777"},z),d?s?uA.default.createElement(O6,{width:"35px",height:"8px",borderRadius:"8px",backgroundColor:"#484848"}):uA.default.createElement(uA.default.Fragment,null,C):null)),w,f&&f.visible&&uA.default.createElement(LE,null,uA.default.createElement(Gn,{alignment:"left",index:0,content:f.content,bottomOffset:f.bottomOffset},uA.default.createElement(Qn,null))))}),Xa=(A,j)=>{let{balance:e,chain:t,name:r,symbol:o,logoUri:n,tokenAddress:s,usd:i,usd_24h_change:k,walletAddress:l,spamStatus:c,key:d}=A.data,E=r||yo("assetDetailUnknownToken"),$=j?.get(d);return{balance:e,chainMetadata:t,currencyChange:k,currencyValue:i,logoUri:n,name:E,symbol:o,tokenAddress:s,walletAddress:l,spamStatus:c,visibilityOverrideValue:$,type:A.type}};var Ua="data.chain.id",XE={iconContainer:T({marginLeft:10})},UE=VA.default.memo(({fungible:A,index:j,onFungiblePress:e,onInfoPress:t,showCurrencyValues:r,hideEmptyCurrency:o,showInfoTooltip:n,visibilityOverrides:s=new Map})=>{let i=(0,VA.useCallback)(()=>{e(A,j)},[A,e,j]),k=(0,VA.useMemo)(()=>VA.default.createElement("div",{className:XE.iconContainer,onClick:t?l=>t(l,A):void 0},VA.default.createElement(dA.InfoCircle,{size:12})),[A,t]);return VA.default.createElement(Va,{...Xa(A,s),onClick:i,showCurrencyValues:r,hideEmptyCurrency:o,isLoadingPrices:!1,accessory:n?k:null})}),to=VA.default.memo(({onFungiblePress:A,onInfoPress:j,direction:e,showCurrencyValues:t=!1,hideEmptyCurrency:r=!1,showInfoTooltip:o=!0,bottomOffset:n,...s})=>{let{data:i}=YA(),{data:k}=tn(i?.identifier??""),l=ct(),c=(0,VA.useCallback)(({item:m,index:q})=>VA.default.createElement(UE,{fungible:m,index:q,visibilityOverrides:k,onFungiblePress:A,onInfoPress:j,showCurrencyValues:t,hideEmptyCurrency:r,showInfoTooltip:o,listBottomOffset:n}),[k,A,j,t,r,o,n]),d=To(),E=(0,VA.useMemo)(()=>[e==="sell"?{id:ye,label:AA.t("allFilter")}:null,...d.filter(l).map(m=>({id:m,label:WA.getChainName(m)}))].filter(go),[e,d,l]),$=e==="sell"?AA.t("swapNoAssetsFound"):AA.t("swapNoTokensFound");return s.enableLiveSearch?VA.default.createElement(La,{...s,sections:s.sections??[],renderItem:c,fuseOptions:Jr,keyExtractor:zr,filterKey:Ua,filterLabels:E,alwaysShowFilters:e==="buy",emptyListCopy:$,setSearchQuery:s.setSearchQuery}):VA.default.createElement($s,{...s,data:s.data??[],renderItem:c,fuseOptions:Jr,keyExtractor:zr,filterKey:Ua,filterLabels:E,alwaysShowFilters:e==="buy",emptyListCopy:$,enableLiveSearch:s.enableLiveSearch})});a();B();var za=G(I());var zE={ugcWarning:"ugcWarning"},Ja=()=>{let{handleShowModalVisibility:A}=eA();return(0,za.useCallback)(j=>{let e=zE[j];if(!e)throw new Error(`Select interceptor modal not found or configured for ${j}.`);A(e)},[A])};a();B();var xr={assetSelectionContainer:"_51gazn1ho _51gazn1kv _51gaznvr _51gazn1bb _51gazn19s",fullWidthDetailView:"_51gaznfj _51gazncl _51gaznih _51gazn9n _51gazn1io"};var JE=84,WE=()=>{let{t:A}=O(),j=GA(),{handleHideModalVisibility:e}=eA(),{setSearchQuery:t}=Y6(),{pushDetailView:r}=lA(),{executeInterceptors:o}=_n(),n=Ja(),s=Kn(),i=(0,gA.useCallback)((c,d)=>{switch(j.capture("swapperAssetSelectionClosed",{data:{assetSelected:!0,name:c.data.name??"",symbol:c.data.symbol??"",tokenAddress:c.data.tokenAddress??"",tokenType:c.type,networkId:c.data.chain.id,type:"buy",searchQuery:Y6.getState().searchQuery,numSearchResults:Y6.getState().numSearchResults,searchRank:d}}),o(c,n)){case"interrupt":break;case"continue":t(""),s(c),e("swapBuyAssetSelect");break}},[j,o,n,t,s,e]),k=(0,gA.useCallback)(()=>{j.capture("swapperAssetSelectionClosed",{data:{assetSelected:!1,type:"buy",searchQuery:Y6.getState().searchQuery,numSearchResults:Y6.getState().numSearchResults}}),t(""),e("swapBuyAssetSelect")},[j,e,t]),l=(0,gA.useCallback)((c,d)=>{let{key:E,name:$}=d.data,m=z6(W6(d));r(gA.default.createElement("div",{className:xr.fullWidthDetailView},gA.default.createElement(Ye,{caip19:m,fungibleKey:E,title:$??void 0,entryPoint:"swapperSearch"}))),c.stopPropagation()},[r]);return{t:A,onClose:k,onSelect:i,onInfoPress:l}},YE=()=>{let A=WE(),{assets:j,initialFilterKey:e,isFetching:t,error:r,searchRef:o,setSearchQuery:n}=wn();return{sections:Dn(j),initialFilterKey:e,isFetching:t,error:r,searchRef:o,setSearchQuery:n,...A}},QE=gA.default.memo(()=>{let{error:A,initialFilterKey:j,isFetching:e,onClose:t,onInfoPress:r,onSelect:o,sections:n,searchRef:s,setSearchQuery:i,t:k}=YE();return gA.default.createElement("div",{className:xr.assetSelectionContainer},gA.default.createElement(to,{sections:n??[],isFetching:e,localizedError:A,onFungiblePress:o,onInfoPress:r,initialFilterKey:j,showCurrencyValues:!0,hideEmptyCurrency:!0,showInfoTooltip:!0,direction:"buy",bottomOffset:JE,enableLiveSearch:!0,setSearchQuery:i,searchRef:s}),gA.default.createElement(uj,null,gA.default.createElement(jj,{onClick:t},k("commandClose"))))}),Wa=()=>gA.default.createElement(Tn,null,gA.default.createElement(QE,null)),ZE=()=>{let{t:A}=O(),j=GA(),{handleHideModalVisibility:e}=eA(),{assets:t,isLoading:r,error:o}=Pn({enablePrices:!0,enableSorting:!0}),n=Sn(),s=(0,gA.useCallback)(k=>{j.capture("swapperAssetSelectionClosed",{data:{assetSelected:!0,symbol:k.data.symbol??"",networkId:k.data.chain.id,type:"sell"}}),n(k),e("swapSellAssetSelect")},[j,e,n]),i=(0,gA.useCallback)(()=>{j.capture("swapperAssetSelectionClosed",{data:{assetSelected:!1,type:"sell"}}),e("swapSellAssetSelect")},[j,e]);return{assets:t,isFetching:r,error:o,onClose:i,onSelect:s,t:A}},Ad=gA.default.memo(({assets:A,isFetching:j,error:e,onClose:t,onSelect:r,t:o})=>gA.default.createElement("div",{className:xr.assetSelectionContainer},gA.default.createElement(to,{data:A??[],isFetching:j,localizedError:e,onFungiblePress:r,showCurrencyValues:!0,showInfoTooltip:!1,searchRef:"",direction:"sell"}),gA.default.createElement(uj,null,gA.default.createElement(jj,{onClick:t},o("commandClose"))))),Ya=()=>{let A=ZE();return gA.default.createElement(Ad,{...A})};var jd=(0,u.lazy)(()=>import("./ActivityItemDetail-OYDZQC7Q.js")),ed=(0,u.lazy)(()=>import("./PendingTransactionDetail-UJUNYPMK.js")),td=(0,u.lazy)(()=>import("./ApproveUnwrapFungible-YU3RGCNA.js")),rd=(0,u.lazy)(()=>import("./SendFungibleFormPage-EVBMWWGH.js")),od=(0,u.lazy)(()=>import("./SendFungibleSelectPage-6VLKOI4W.js")),nd=(0,u.lazy)(()=>import("./SwapSettings-B3LMGZRW.js")),sd=(0,u.lazy)(()=>import("./SwapPricing-2XSTNW26.js")),id=(0,u.lazy)(()=>import("./CollectiblesVisibilityPage-SZU35WRX.js")),ad=(0,u.lazy)(()=>import("./NetworkHealth-TFMNSTQ7.js")),Bd=(0,u.lazy)(()=>import("./WarningInfoModal-VKVGQR5E.js")),kd=(0,u.lazy)(()=>import("./ShortcutsModal-SQPOCNI7.js")),ld=(0,u.lazy)(()=>import("./Modal-3IA6JQQD.js")),cd=(0,u.lazy)(()=>import("./InsufficientBalance-GY5R7Q7D.js")),Ed=(0,u.lazy)(()=>import("./AdditionalPermissions-QKPBYXE2.js")),dd=(0,u.lazy)(()=>import("./BitcoinAddressTypes-YPKOKRVE.js")),$d=(0,u.lazy)(()=>import("./ForceUpgrade-DVYP6KXB.js")),pd=(0,u.lazy)(()=>import("./InstantSellSummary-E2XCGT4O.js")),ud=(0,u.lazy)(()=>import("./FiatRampFungiblesPage-YKUP4KJ5.js")),md=(0,u.lazy)(()=>import("./FungibleVisibilityPage-4QZCUW46.js")),Fd=(0,u.lazy)(()=>import("./ReceivePage-ABJWG2NX.js")),qd=(0,u.lazy)(()=>import("./SendCollectibleFormPage-LK4CJDQA.js")),fd=(0,u.lazy)(()=>import("./ConvertToJitoSOLInfoPage-HFL7FHIC.js")),Gd=(0,u.lazy)(()=>import("./ConvertStakeAccountListPage-BZOOQGMG.js")),Id=(0,u.lazy)(()=>import("./ConvertStakeAccountStatusPage-CSSYVRIJ.js")),gd=(0,u.lazy)(()=>import("./StakingMethodSelectionPage-MGSYRL3H.js")),vd=(0,u.lazy)(()=>import("./MintJitoSOLInfoPage-MYHY2MHJ.js")),hd=(0,u.lazy)(()=>import("./MintLiquidStakeAmountPage-FHF2CLHJ.js")),bd=(0,u.lazy)(()=>import("./MintLiquidStakeStatusPage-2XYZWIY6.js")),yd=(0,u.lazy)(()=>import("./SwapProvidersPage-R7J7IJL7.js")),xd=(0,u.lazy)(()=>import("./SwapReviewPage-V3PBBP22.js")),Od=(0,u.lazy)(()=>import("./SwapConfirmationPage-63TKELYC.js")),Md=(0,u.lazy)(()=>import("./SwapTermsOfServicePage-QTNXJF3R.js")),Pd=(0,u.lazy)(()=>import("./ClaimUsernameIntroPage-3GIGBLPF.js")),wd=(0,u.lazy)(()=>import("./CreateUsernamePage-ETEXIF2X.js")),Kd=(0,u.lazy)(()=>import("./SearchPage-MBYEA62G.js")),Sd=(0,u.lazy)(()=>import("./UGCTradeWarning-4DIGN6YK.js")),Td=(0,u.lazy)(()=>import("./AutoSlippageOptIn-FPKI5WES.js")),_d=(0,u.lazy)(()=>import("./MessageOverlay-I2LVOXUI.js")),J=A=>({...A,visibility:!1,render:function(j){return u.default.createElement(ii,{isOpen:this.visibility,isFullScreen:this.fullScreen,presentationStyle:this.presentationStyle,headerHeight:this.fullScreen?0:void 0},u.default.createElement(u.Suspense,null,A.render(j)))}}),Dd=A=>({...A,visibility:!1,render:function(j){let e=()=>Or.getState().handleHideModalVisibility(this.modalName);return u.default.createElement(Bi,{rootId:"root",isOpen:this.visibility,onClose:e,detent:this.detent},u.default.createElement(K6.Container,null,u.default.createElement(K6.Header,null,u.default.createElement(ki,null)),u.default.createElement(K6.Content,{disableDrag:!0},A.render(j),u.default.createElement(jj,{onClick:()=>Or.getState().handleHideModalVisibility(this.modalName)},AA.t("commandClose")))),u.default.createElement(K6.Backdrop,{onTap:e}))}}),Hd={fungibleVisibility:J({render:function(){return u.default.createElement(kA,null,u.default.createElement(md,null))}}),sendFungibleForm:J({render:function(){return u.default.createElement(kA,null,u.default.createElement(rd,null))}}),sendFungibleSelect:J({render:function(){return u.default.createElement(kA,null,u.default.createElement(od,null))}}),collectiblesVisibility:J({render:function(){return u.default.createElement(kA,null,u.default.createElement(id,null))}}),networkHealth:J({render:function(A){return A?u.default.createElement(ad,{...A}):null}}),instantSell:J({render:function(A){return A?u.default.createElement(kA,null,u.default.createElement(pd,{...A})):null}}),insufficientBalance:J({render:function(A){return u.default.createElement(kA,null,u.default.createElement(cd,{...A}))}}),approveUnwrapFungible:J({render:function(A){return u.default.createElement(kA,null,u.default.createElement(td,{...A}))}}),interstitial:J({fullScreen:!0,render:function(A){return u.default.createElement(ai,{...A})}}),claimUsername:J({fullScreen:!0,render:function(){return u.default.createElement(kA,null,u.default.createElement(Pd,null))}}),quickClaimUsername:J({fullScreen:!0,render:function(){return u.default.createElement(kA,null,u.default.createElement(wd,null))}}),shortcutsSheet:Dd({detent:"content-height",modalName:"shortcutsSheet",render(A){return u.default.createElement(kd,{...A})}}),callToActionSheet:J({fullScreen:!0,render(A){return u.default.createElement(ld,{...A})}}),receive:J({render(A){return u.default.createElement(kA,null,u.default.createElement(Fd,{...A}))}}),onramp:J({render:function(){return u.default.createElement(kA,null,u.default.createElement(ud,null))}}),swapSellAssetSelect:J({render:function(){return u.default.createElement(kA,null,u.default.createElement(Ya,null))}}),swapBuyAssetSelect:J({render:function(){return u.default.createElement(kA,null,u.default.createElement(Wa,null))}}),swapProviders:J({render:function(){return u.default.createElement(yd,null)}}),swapReview:J({fullScreen:!0,render:function(){return u.default.createElement(kA,null,u.default.createElement(xd,null))}}),swapConfirmation:J({fullScreen:!0,render:function(){return u.default.createElement(Od,null)}}),swapTermsOfService:J({fullScreen:!0,render:function(){return u.default.createElement(Md,null)}}),txSubmissionCheckFailure:J({fullScreen:!0,render:function(A){return u.default.createElement(kA,null,u.default.createElement(Bd,{...A}))}}),additionalPermissions:J({fullScreen:!0,render:()=>u.default.createElement(Ed,null)}),bitcoinAddressTypes:J({fullScreen:!0,render:()=>u.default.createElement(dd,null)}),sendCollectibleForm:J({render:()=>u.default.createElement(kA,null,u.default.createElement(qd,null))}),swapSettings:J({fullScreen:!0,render:function(){return u.default.createElement(kA,null,u.default.createElement(nd,null))}}),swapPricing:J({fullScreen:!0,render:function(){return u.default.createElement(kA,null,u.default.createElement(sd,null))}}),spamActivity:J({render(){return u.default.createElement(kA,{shouldPushDetailView:!0},u.default.createElement(mi,{isSpam:!0}))}}),activityItem:J({render(A){return u.default.createElement(kA,null,u.default.createElement(jd,{...A}))}}),pendingTransaction:J({render(A){return u.default.createElement(kA,null,u.default.createElement(ed,{...A}))}}),forceUpgrade:J({fullScreen:!0,render:function(A){return u.default.createElement($d,{...A})}}),unifiedInterstitial:J({fullScreen:!0,render:function(A){return u.default.createElement(Pe,{...A})}}),convertJitoInfo:J({fullScreen:!0,render(A){return u.default.createElement(fd,{...A})}}),convertStakeAccounts:J({render(){return u.default.createElement(kA,null,u.default.createElement(Gd,null))}}),convertStakeStatus:J({fullScreen:!0,render(){return u.default.createElement(Id,null)}}),stakingMethods:J({render(A){return u.default.createElement(kA,null,u.default.createElement(gd,{...A}))}}),mintJitoInfo:J({fullScreen:!0,render(A){return u.default.createElement(vd,{...A})}}),mintStakeAmount:J({render(){return u.default.createElement(kA,null,u.default.createElement(hd,null))}}),mintStakeStatus:J({fullScreen:!0,render(){return u.default.createElement(bd,null)}}),reportIssue:J({fullScreen:!0,render(A){return u.default.createElement(kA,null,u.default.createElement(ni,{...A}))}}),searchPage:J({fullScreen:!0,presentationStyle:"fadeIn",render(){return u.default.createElement(kA,null,u.default.createElement(Kd,null))}}),ugcWarning:J({fullScreen:!0,render(){return u.default.createElement(Sd,null)}}),autoSlippageOptIn:J({fullScreen:!0,render(){return u.default.createElement(Td,null)}}),seedlessVerifyInterstitial:J({fullScreen:!0,render(A){return u.default.createElement(kA,null,u.default.createElement(_a,{...A}))}}),additionalNetworks:J({fullScreen:!0,render(A){return u.default.createElement(kA,null,u.default.createElement(qi,{...A}))}}),messageOverlay:J({fullScreen:!0,render:function(A){return u.default.createElement(_d,{...A})}})},Or=Ro((A,j)=>({modals:Hd,getModal:e=>{let{modals:t}=j();return t[e]},isAnyModalOpen:()=>{let{modals:e}=j();return Object.values(e).some(t=>t.visibility)},closeAllModals:()=>{let{modals:e}=j(),t=Object.entries(e).filter(([r,o])=>o.visibility);t.length>0&&A(r=>{let o={...r.modals};for(let[n]of t)o[n].visibility=!1;return{modals:o}})},handleShowModalVisibility:(e,t,r)=>{A(o=>{let n=o.modals[e];return r&&IA.capture(r.event,r?.payload),t?{modals:{...o.modals,[e]:{...n,data:t,visibility:!0}}}:{modals:{...o.modals,[e]:{...n,visibility:!0}}}})},handleHideModalVisibility:e=>{A(t=>{let r=t.modals[e];return{modals:{...t.modals,[e]:{...r,visibility:!1}}}})}})),eA=()=>{let[A,j,e,t,r]=Or(s=>[s.getModal,s.isAnyModalOpen,s.closeAllModals,s.handleShowModalVisibility,s.handleHideModalVisibility]),{closeAllModals:o}=pj();function n(){e(),o&&o()}return{getModal:A,isAnyModalOpen:j,closeAllModals:n,handleShowModalVisibility:t,handleHideModalVisibility:r}},ty=({children:A})=>{let j=Or(t=>t.modals),e=(0,u.useMemo)(()=>Object.entries(j).map(([t,r])=>u.default.createElement(u.Fragment,{key:t},r.render(r?.data))),[j]);return u.default.createElement(u.Fragment,null,A,e)};a();B();var Y=G(I());a();B();var vA=G(I());a();B();var Sj=G(I());a();B();var e6=G(I());var Za=()=>e6.default.createElement(O6,{align:"center",width:"100%",height:"74px",backgroundColor:"#2D2D2D",borderRadius:"8px",margin:"0 0 10px 0",padding:"10px"},e6.default.createElement(Cd,null,e6.default.createElement(O6,{width:"44px",height:"44px",backgroundColor:"#434343",borderRadius:"50%"})),e6.default.createElement(be,null,e6.default.createElement(Nj,{margin:"0 0 10px",justify:"space-between"},e6.default.createElement(Qa,{width:"120px"})),e6.default.createElement(Nj,{justify:"space-between"},e6.default.createElement(Qa,{width:"75px"})))),Cd=v.div`
  width: 44px;
  height: 44px;
  margin-right: 15px;
`,Qa=v(O6).attrs({height:"8px",backgroundColor:"#484848",borderRadius:"8px"})``;var Ld=20,Pr=({header:A,content:j,footer:e,isLoading:t,isEmpty:r,emptyStateText:o,context:n})=>Sj.default.createElement("div",{className:Mr.container,style:{padding:n==="publicFungible"?16:"initial"}},A&&Sj.default.createElement("div",{className:Mr.headerContainer},A),Sj.default.createElement("div",{className:Mr.contentContainer},t?Sj.default.createElement("div",{style:{marginTop:Ld}},[1,2,3,4].map(s=>Sj.default.createElement(Za,{key:s}))):r?Sj.default.createElement("div",{className:Mr.emptyStateContainer},Sj.default.createElement(y,{children:o,font:"body",color:"textTertiary",align:"center"})):j,e&&n!=="publicFungible"&&Sj.default.createElement(Sj.default.Fragment,null,e))),Mr={container:T({display:"flex",flexDirection:"column",height:"100%",maxHeight:"100%",minHeight:"100%",width:"100%",maxWidth:"100%",minWidth:"100%"}),headerContainer:T({paddingY:8}),contentContainer:T({display:"flex",flexDirection:"column",flex:1,overflowY:"auto",overflowX:"hidden"}),emptyStateContainer:T({display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",flex:1})};a();B();var L6=G(I()),AB=L6.default.memo(A=>{let{t:j}=O(),{name:e,logo:t,tag:r,quote:o,onClick:n,index:s}=A,i={start:L6.default.createElement(xj,{height:44,width:44,borderRadius:"circle",src:t,alt:e}),topLeft:e,bottomLeft:r&&{text:r,color:s===0?"accentSuccess":"textSecondary"},onClick:()=>n(A)},k=o?{...i,topRight:o.displayDestinationAmount,bottomRight:`\u2248 ${o.displaySourceAmount}`}:{...i,end:L6.default.createElement(F,{direction:"row",alignItems:"center",gap:4},L6.default.createElement(y,{children:j("buyThirdPartyScreenViewQuote"),font:"caption",color:"textSecondary"}),L6.default.createElement(dA.ChevronRight,{color:"textSecondary",size:16}))};return L6.default.createElement(yj,{...k})});a();B();var F6=G(I());a();B();var $e=G(I());var jB=({assets:A,name:j,onClick:e,estimatedArrival:t,description:r})=>$e.default.createElement(yj,{start:$e.default.createElement(xj,{height:44,width:44,borderRadius:"circle",src:A?.roundIcon,alt:j}),topLeft:j,bottomLeft:{before:$e.default.createElement(dA.Clock,{color:"textSecondary",size:14}),text:t},end:r?$e.default.createElement(It,{label:r,ariaLabel:j},$e.default.createElement(dA.InfoCircle,{color:"textSecondary",size:16})):void 0,onClick:e});var eB=()=>{let{t:A}=O(),{paymentMethods:j,moveToNextPage:e,closeModal:t,isLoading:r,context:o}=Nd();return F6.default.createElement(Pr,{isLoading:r,isEmpty:j.length===0,emptyStateText:A("buyThirdPartyScreenPaymentMethodEmptyState"),header:F6.default.createElement(ej,null,A("buyThirdPartyScreenPaymentMethodTitle")),content:F6.default.createElement(F,{gap:8,marginTop:16,marginBottom:96},j.map(n=>F6.default.createElement(jB,{key:n.id,onClick:()=>{e(n)},...n})),F6.default.createElement(y,{color:"textSecondary",children:A("buyThirdPartyScreenPaymentMethodFooter"),font:"caption"})),footer:F6.default.createElement(uj,null,F6.default.createElement(jj,{onClick:t},A("commandClose"))),context:o})},Nd=()=>{let A=bj(),j=bj(i=>i.setState),{popDetailView:e}=lA(),{currencyCode:t}=J6(),{version:r}=chrome.runtime.getManifest(),{data:o,isPending:n}=$n("web",r,AA.language,{token:A.fungible?.caip19,purchaseAmount:A.purchaseAmount,purchaseType:A.purchaseType,fiatCurrencyCode:t}),s=i=>{j({...A,paymentMethod:i,provider:void 0,checkoutQuoteType:"recommended"}),IA.capture("fiatOnrampPaymentMethodSelected",{data:{paymentMethodId:i.id}}),e()};return{context:A.context,moveToNextPage:s,closeModal:A.onClose,isLoading:n,paymentMethods:o?.paymentMethods||[]}};var rB=()=>{let{t:A}=O(),{pushDetailViewCallback:j}=lA(),{closeModal:e,onProviderSelected:t,isLoading:r,providers:o,paymentMethod:n,quoteTimeToExpiry:s,quoteTimeToExpiryColor:i,context:k}=Rd();return vA.default.createElement(Pr,{isLoading:r,isEmpty:o.length===0,emptyStateText:A("buyThirdPartyScreenProvidersEmptyState"),header:vA.default.createElement(ej,null,A("fiatRampQuotes")),content:vA.default.createElement(vA.default.Fragment,null,vA.default.createElement(F,{gap:8,marginBottom:96},vA.default.createElement(gn,{marginBottom:12}),vA.default.createElement(n6,{rows:[{type:"drawer",id:"selected-payment-method",onClick:j(vA.default.createElement(eB,null)),start:n?.assets?.icon&&vA.default.createElement(xj,{src:n.assets.icon,width:24,height:24}),topLeft:n?.name||A("buyThirdPartyScreenPaymentMethod")}]}),vA.default.createElement(F,{direction:"row",justifyContent:"space-between"},vA.default.createElement(y,{font:"bodyMedium",color:"textSecondary",children:A("buyThirdPartyScreenProviders")}),vA.default.createElement("div",null,vA.default.createElement(y,{font:"captionMedium",color:"textSecondary",children:`${A("fiatRampNewQuote")}:`})," ",vA.default.createElement(y,{className:T({width:32}),font:"captionMedium",color:i,children:s}))),o.map((l,c)=>vA.default.createElement(AB,{key:`${l.id}-${c}`,index:c,onClick:t,...l})))),footer:vA.default.createElement(uj,null,vA.default.createElement(jj,{onClick:e},A("commandClose"))),context:k})},Rd=()=>{let{popDetailView:A}=lA(),{handleHideModalVisibility:j}=eA(),e=bj(),t=bj(H=>H.setState),{fungible:r,purchaseAmount:o,purchaseType:n,paymentMethod:s,ownerPublicKey:i,context:k}=e;if(!r)throw new Error("No fungible asset selected");let{data:[l]}=ot(["enable-fiat-ramp-optimize-defaults"]),{currencyCode:c}=J6(),{version:d}=chrome.runtime.getManifest(),{data:E,isPending:$}=pn("web",d,AA.language,{...n==="currency"?{fiatAmount:o}:{tokenAmount:o},token:r.caip19,fiatCurrencyCode:c,paymentMethodId:s?.id,destinationAddress:{address:i,chainId:r.caip19.chainId,resourceType:"address"},optimizeDefaults:l}),m=s||E?.paymentMethod,q=E?.providers||[],h=(0,vA.useCallback)(H=>{IA.capture("fiatOnrampProviderSelected",{data:{chainId:E?.token?.chainId,providerId:H.id,paymentMethodId:m?.id,destinationAmount:H.quote?.displayDestinationAmount,sourceAmount:H.quote?.displaySourceAmount,asset:E?.token,tag:H.tag}}),t({...e,provider:H,paymentMethod:m,checkoutQuoteType:"selected"}),A()},[e,A,E?.token,m,t]),[f,b]=(0,vA.useState)(Yr);hn(()=>{$||q.length===0||(f===0?(b(Yr),dt.invalidateQueries({refetchType:"active"})):b(f-1))},$?null:1e3);let P=f<10?`0:0${f}`:`0:${f}`,w=f<=10?"accentWarning":"textPrimary";return{providers:q,paymentMethod:m,onProviderSelected:h,closeModal:()=>j("onramp"),isLoading:$,quoteTimeToExpiry:P,quoteTimeToExpiryColor:w,context:k}};var oB=()=>{let{t:A}=O(),{pushDetailView:j}=lA(),[e,t]=(0,Y.useState)(void 0),r=bj(),{quickSelectDenominations:o,minPurchaseAmountUsd:n,maxPurchaseAmountUsd:s,context:i,purchaseType:k,fungible:l,onClose:c,ownerPublicKey:d,purchaseAmount:E,setState:$,paymentMethod:m,provider:q,checkoutQuoteType:h}=r,f=parseFloat(E),b=k==="currency",{name:P,symbol:w,decimals:H,caip19:K,logoURI:Q}=l||{},C=K?.chainId,{data:z=""}=YA({select:mA=>mA?.name}),{data:g}=Qo({query:{data:K}}),x=g?g?.usd:void 0,{currencySymbol:W,currencyCode:R,toUsd:X,fromUsd:rA}=J6(),oA=(0,Y.useMemo)(()=>{if(e)return!1;let mA=E.length>0,dj=f>0,X6=Number.isFinite(f);return mA&&dj&&X6},[e,E,f]),sA=(0,Y.useMemo)(()=>{if(!x)return`??? ${w}`;if(b){let dj=en.get(C).formDisplayPrecision,X6=X(f),et=Ge(X6,x,dj),qe=nn(et,dj);return E===""?`0 ${w}`:qe.length+(w?.length??0)<15?`~${qe} ${w}`:`~${qe.substring(0,8)}... ${w}`}let mA=E===""?0:Ur(f,x);return Y.default.createElement(Aj,{value:mA,font:"caption",color:"textSecondary"})},[w,C,E,f,b,X,x]),[_,aA]=(0,Y.useState)(500),BA=bo({purchaseAmount:E,purchaseType:k},_),{purchaseAmount:S,purchaseType:qA}=BA,cA=(0,Y.useCallback)(mA=>{let dj=parseFloat(mA),X6=b?Number(rA(n)):Ge(n,x??0,Qr),et=b?Number(rA(s)):Ge(s,x??0,Qr),qe=dj<X6,CB=dj>et,mo=b?R?.toUpperCase():w,Fo=qe?A("buyAssetScreenMinPurchasePriceInterpolated",{amount:`${X6} ${mo}`}):CB?A("buyAssetScreenMaxPurchasePriceInterpolated",{amount:`${et} ${mo}`}):void 0;aA(500),$({...r,purchaseAmount:mA,checkoutQuoteType:"recommended"}),t(Fo||void 0)},[r,w,R,rA,s,n,$,b,A,x]),MA=(0,Y.useCallback)(mA=>{IA.capture("fiatOnrampAmountSelected",{data:{networkId:C,chainId:WA.getChainID(C),asset:{name:P,symbol:w,type:"fungible"},amount:mA}}),aA(100),$({...r,purchaseAmount:mA,purchaseType:"currency",checkoutQuoteType:"recommended"}),t(void 0)},[r,w,P,C,$]),CA=(0,Y.useCallback)(()=>{if(!x)return;let mA=b?Ge(X(f),x,H):rA(Ur(f,x));aA(100),$({...r,purchaseAmount:mA.toString(),purchaseType:b?"token":"currency"}),t(void 0)},[r,H,rA,f,$,b,X,x]),{data:[PA]}=ot(["enable-fiat-ramp-optimize-defaults"]),OA=(0,Y.useMemo)(()=>({...qA==="currency"?{fiatAmount:S}:{tokenAmount:S},token:K,fiatCurrencyCode:R,destinationAddress:{address:d,chainId:K?.chainId,resourceType:"address"},optimizeDefaults:PA}),[K,S,qA,R,d,PA]),{version:LA}=chrome.runtime.getManifest(),Ej=h==="selected",G6=!Ej&&oA&&!!S,{data:Fe,isLoading:At,isError:jt}=un("web",LA,AA.language,{...OA,paymentMethodId:m?.id,providerId:q?.id},G6),nj=Ej?m:Fe?.paymentMethod,r6=Ej?q:Fe?.provider,lo=(0,Y.useCallback)(()=>{$({...r,paymentMethod:nj}),j(Y.default.createElement(rB,null))},[r,j,nj,$]),co=(0,Y.useMemo)(()=>G6&&At?{id:"recommended-quote-loading",topLeft:A("buyThirdPartyScreenLoadingQuote"),end:Y.default.createElement(ut,{diameter:20}),disabled:!0}:!oA||!nj||!r6||jt?{type:"drawer",id:"no-quote",topLeft:A("buyThirdPartyScreenChoseQuote"),disabled:!0,onClick:()=>null}:{type:"drawer",id:"selected-quote",onClick:lo,topLeft:{text:nj?.name,before:nj?.assets?.icon?Y.default.createElement(xj,{src:nj?.assets?.icon,width:24,height:24}):void 0},topRight:{text:r6?.name}},[lo,oA,G6,jt,At,nj,r6,A]),[Eo,$o]=(0,Y.useState)(!1),po=oA&&(!!Fe||!!m&&!!q),DB=(0,Y.useMemo)(()=>({...OA,paymentMethodId:nj?.id||"",providerId:r6?.id||""}),[OA,nj?.id,r6?.id]),HB=Ko(),uo=async mA=>{if(po){mA&&mA.preventDefault(),IA.capture("fiatOnrampBuyClickedByUser",{data:{networkId:C,chainId:WA.getChainID(C),asset:{name:P,symbol:w,type:"fungible"},purchaseType:k,amount:S,paymentMethod:nj?.id,provider:r6?.id}}),$({...r,price:x??0}),$o(!0);try{let{url:dj}=await vn("web",LA,AA.language,DB,HB);await Wo({url:dj})}catch(dj){L.captureError(dj,"onRamp")}$o(!1)}};return Y.default.createElement(Vd,{context:i},Y.default.createElement(Xd,null,Y.default.createElement(ej,null,A("buyAssetInterpolated",{tokenSymbol:w})),Y.default.createElement(Ud,{iconUrl:Q,width:94,alt:P??""}),Y.default.createElement(zd,null,Y.default.createElement(gs,{name:z,publicKey:d})),Y.default.createElement(Jd,{onSubmit:uo},Y.default.createElement(Zd,null,Y.default.createElement(ls,{value:E,onKeyPress:mA=>!oA&&mA.key==="Enter"&&mA.preventDefault(),onUserInput:cA,placeholder:A("amount"),warning:!!e,decimalLimit:H}),Y.default.createElement(Wd,null,b?R:w)),e?Y.default.createElement(Z,{color:"#EB3742",size:16,textAlign:"left"},e):Y.default.createElement(Nj,{justify:"space-between"},Y.default.createElement(j0,null,Y.default.createElement(e0,{onClick:CA},x?Y.default.createElement(Y.default.Fragment,null,sA,x===0?null:Y.default.createElement(As,{width:13,height:13})):`??? ${w}`)),Y.default.createElement(Yd,null,o.map(mA=>Y.default.createElement(Qd,{key:mA,fontSize:12,fontWeight:600,borderRadius:"25px",theme:E===mA?"primary":"secondary",onClick:()=>MA(mA)},W,mA)))))),co&&Y.default.createElement("div",{className:T({marginBottom:16,width:"100%"})},Y.default.createElement(n6,{rows:[co]})),Y.default.createElement(A0,{primaryText:A("commandBuy"),primaryTheme:oA?"primary":"default",primaryDisabled:!po||Eo,onPrimaryClicked:uo,secondaryText:A("commandCancel"),onSecondaryClicked:c,primaryLoading:Eo}))},Vd=v(be).attrs({justify:"space-between"})`
  height: 100%;
  padding: ${A=>A.context==="publicFungible"?"16px":"0"};
`,Xd=v(be).attrs({align:"center"})`
  flex: 1;
`,Ud=v(vt)`
  margin: 20px 0;
`,zd=v(Nj)`
  cursor: not-allowed;
  padding: 12px 15px;
  background: #181818;
  border: 1px solid #2f2f2f;
  border-radius: 6px;
  box-shadow: inset 0px 0px 4px rgba(0, 0, 0, 0.25);
  margin-bottom: 10px;
  p:first-child {
    margin-right: 6px;
  }
`,Jd=v.form`
  width: 100%;
`,Wd=v(Z).attrs({size:16,color:"#777777",lineHeight:27})`
  position: absolute;
  right: 12px;
  top: calc(50% - 27px / 2);
  display: flex;
  align-items: center;
`,Yd=v.div`
  display: flex;
  flex-direction: row;
`,Qd=v(jj)`
  margin: 0px 2px 0px 2px;
  padding: 4px 12px 4px 12px;
`,Zd=v.div`
  position: relative;
  margin-bottom: 10px;
`,A0=v(rs)`
  width: 100%;
`,j0=v.div`
  align-self: start;
  width: 50%;
`,e0=v(Z).attrs({size:14,color:"#777777",hoverColor:"#AB9FF2"})`
  display: flex;
  align-items: center;
  &:hover {
    svg {
      fill: #ab9ff2;
    }
  }
  svg {
    fill: #777777;
    margin-left: 4px;
  }
`;var sB=({addressType:A,caip19:j,context:e,analyticsEvent:t})=>{let{setState:r}=bj(),{closeAllModals:o}=eA(),{pushDetailView:n,popDetailView:s}=lA(),{version:i}=chrome.runtime.getManifest(),{tokenToBuy:k,destinationAddress:l,quickSelectDenominations:c}=En({clientPlatform:"web",appVersion:i,locale:AA.language,caip19:j,addressType:A}),d=!!k&&!!l;return{canBuy:d,openBuy:()=>{d&&(r({...dn,onClose:e==="modal"?o:s,ownerPublicKey:l,fungible:k.token,quickSelectDenominations:c,context:e}),IA.capture("fiatOnrampInitiated"),t&&IA.capture(t),n(nB.default.createElement(oB,null)))}}};a();B();a();B();a();B();var pe=G(I()),ro=({onMarkNotSpam:A})=>{let[j,e]=(0,pe.useState)(!1),t=(0,pe.useCallback)(()=>{A?.(),e(!0)},[A,e]);return A&&!j?pe.default.createElement(qn,{level:"2-alert",actions:[{children:AA.t("commandReportAsNotSpam"),onPress:t}]},AA.t("tokenSpamWarning")):null};var jA=G(I());a();B();var tA=G(I());a();B();var Tj=G(I());a();B();var oo=G(I());var wr=()=>{let{handleShowModalVisibility:A}=eA(),{trackConvertModalContinue:j}=Fs(),e=(0,oo.useCallback)(()=>{A("convertJitoInfo")},[A]),t=(0,oo.useCallback)(()=>{j(),A("convertStakeAccounts")},[A,j]);return Gt({method:"convert",goToInfoPage:e,goToInitFlowPage:t})};a();B();var U=G(I());var iB=()=>{let{t:A}=O();(0,U.useEffect)(()=>(IA.capture("showStakeAccountList"),()=>{IA.capture("hideStakeAccountList")}),[]);let{data:j}=YA(),{solanaPublicKey:e,connection:t}=(0,U.useMemo)(()=>{let s=(j?.addresses??[]).find(c=>WA.isSolanaNetworkID(c.networkID)),i=s?.address??"",k=s?.networkID,l=Uo(zo(k));return{solanaChainAddress:s,solanaPublicKey:i,connection:l}},[j]),r=ft(t,e),o=r.data??[],n=()=>{r.isFetching||r.refetch()};return U.default.createElement(vs,{isLoading:!r.isFetched},r.isError?U.default.createElement(qt,{title:A("errorAndOfflineSomethingWentWrong"),description:A("stakeAccountListErrorFetching"),refetch:n}):U.default.createElement(t0,{data:o,connection:t}),U.default.createElement("br",null))},t0=A=>{let{t:j}=O(),e=s0(A.connection),t=A.data.slice().sort((n,s)=>n.lamports>s.lamports?-1:1),r=t.filter(n=>n.type==="delegated"),o=t.filter(n=>n.type==="initialized");return!r.length&&!o.length?U.default.createElement(r0,null,U.default.createElement(Z,{size:16,color:"#666666"},j("stakeAccountListNoStakingAccounts"))):U.default.createElement(U.default.Fragment,null,r.length>0&&U.default.createElement(U.default.Fragment,null,r.map(n=>{let{stake:s,voter:i}=n.info.stake.delegation,k=e.get(i),l=k?.info?.name,c=k?.info?.keybaseUsername,d=k?.info?.iconUrl,E=n.info.meta.rentExemptReserve;return U.default.createElement(o0,{key:n.pubkey,pubkey:n.pubkey,rentExemptReserve:Number(E),balance:n.lamports,delegatedStake:Number(s),inflationReward:n.inflationReward,voteAccountPubkey:i,name:l,keybaseUsername:c,iconUrl:d,connection:A.connection})})),o.length>0&&U.default.createElement(U.default.Fragment,null,o.map(n=>U.default.createElement(n0,{key:n.pubkey,pubkey:n.pubkey,balance:n.lamports,inflationReward:n.inflationReward,connection:A.connection}))))},r0=v.div`
  display: flex;
  align-items: center;
  justify-content: center;
  width: 100%;
  height: calc(100% - 42px);
`,aB=v(ht)`
  display: grid;
  grid-template-columns: 44px auto;
  column-gap: 10px;
`,BB=v(vt).attrs({width:44})``,kB=v.div`
  overflow: hidden;
`,Kr=v.div`
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 10px;
`,lB=v(Z)`
  color: ${A=>A.activationState==="active"?"#21E56F":A.activationState==="inactive"?"#EB3742":A.activationState==="activating"||A.activationState==="deactivating"?"#FFE920":"#777777"};
`,o0=A=>{let{t:j}=O(),{showStakeAccountDetailModal:e}=pj(),{data:t}=ms(A.keybaseUsername),r=A.name??A.keybaseUsername??g6(A.voteAccountPubkey),n=s7(A.connection,A.pubkey).data,s=A.inflationReward&&A.inflationReward>0,k=n?.state==="inactive"?A.balance-A.rentExemptReserve:A.delegatedStake;return U.default.createElement(aB,{onClick:()=>{e({stakeAccountPubkey:A.pubkey})}},U.default.createElement(BB,{iconUrl:A.iconUrl??t}),U.default.createElement(kB,null,U.default.createElement(Kr,null,U.default.createElement(Z,{size:16,weight:600,lineHeight:19,textAlign:"left",noWrap:!0},r),U.default.createElement(Z,{size:14,weight:400,lineHeight:19,textAlign:"right",noWrap:!0},U.default.createElement(s6,null,k))),U.default.createElement(Kr,null,U.default.createElement(lB,{size:14,activationState:n?.state,lineHeight:19,textAlign:"left",textTransform:"capitalize",noWrap:!0},n?.state==="activating"?j("stakeAccountListActivationActivating"):"",n?.state==="active"?j("stakeAccountListActivationActive"):"",n?.state==="inactive"?j("stakeAccountListActivationInactive"):"",n?.state==="deactivating"?j("stakeAccountListActivationDeactivating"):""),U.default.createElement(Z,{size:14,color:`${s?"#21E56F":"#777777"}`,lineHeight:19,textAlign:"right",noWrap:!0},s?U.default.createElement(U.default.Fragment,null,"+",U.default.createElement(s6,null,A.inflationReward)):"-"))))},n0=A=>{let{t:j}=O(),{showStakeAccountDetailModal:e}=pj(),r=s7(A.connection,A.pubkey).data,o=A.inflationReward&&A.inflationReward>0;return U.default.createElement(aB,{onClick:()=>e({stakeAccountPubkey:A.pubkey})},U.default.createElement(BB,null),U.default.createElement(kB,null,U.default.createElement(Kr,null,U.default.createElement(Z,{size:16,weight:600,lineHeight:19,textAlign:"left",noWrap:!0},A.pubkey),U.default.createElement(Z,{size:14,weight:400,lineHeight:19,textAlign:"right",noWrap:!0},U.default.createElement(s6,null,A.balance))),U.default.createElement(Kr,null,U.default.createElement(lB,{size:14,activationState:r?.state,lineHeight:19,textAlign:"left",textTransform:"capitalize",noWrap:!0},r?.state==="activating"?j("stakeAccountListActivationActivating"):"",r?.state==="active"?j("stakeAccountListActivationActive"):"",r?.state==="inactive"?j("stakeAccountListActivationInactive"):"",r?.state==="deactivating"?j("stakeAccountListActivationDeactivating"):""),U.default.createElement(Z,{size:14,color:`${o?"#21E56F":"#777777"}`,lineHeight:19,textAlign:"right",noWrap:!0},o&&"+",U.default.createElement(s6,null,A.inflationReward)))))},s0=A=>{let j=Mn(A),e=j.results??[],t=(0,U.useRef)(e);return t.current=e,(0,U.useMemo)(()=>new Map(t.current.map(o=>[o.voteAccountPubkey,o])),[j.dataUpdatedAt,t])};a();B();var Sr=G(I());var Tr=()=>{let{t:A}=O(),j=Q6(),{pushDetailView:e}=lA(),t=e7(o=>o.navigateTo),r=e7(o=>o.setNavigateTo);(0,Sr.useEffect)(()=>{if(t){if(t.screen==="Activity")j("/notifications");else if(t.screen==="FungibleDetail"){let{data:o}=t.fungible,n=W6(t.fungible),s=z6(n);e(Sr.default.createElement(Ye,{caip19:s,fungibleKey:o.key,entryPoint:"liquidStaking"}))}r(null)}},[j,t,r,e,A])};var no={container:T({height:"100%",display:"flex",flexDirection:"column",padding:"screen"}),accountList:T({height:"100%",overflow:"auto"}),buttonContainer:T({width:"100%",paddingTop:"screen"})},EB=()=>{let{t:A}=O(),{showValidatorListModal:j,hideValidatorListModal:e}=pj(),{handleShowModalVisibility:t}=eA(),{isSupported:r,defaultProvider:o}=Z6(WA.solana.mainnetID);Tr();let{hasConvertibleStakeAccounts:n}=qs(o),s=(0,Tj.useCallback)(()=>{r?t("stakingMethods",{onSelectNativeStaking:()=>j({onClose:e})}):j({onClose:e})},[t,e,r,j]),i=wr();return Tj.default.createElement("div",{className:no.container},Tj.default.createElement(ej,{onIconClick:s,icon:Tj.default.createElement(Yn,null)},A("stakeAccountListViewPrimaryText")),Tj.default.createElement("div",{className:no.accountList},Tj.default.createElement(iB,null)),r&&n?Tj.default.createElement("div",{className:no.buttonContainer},Tj.default.createElement(jj,{theme:"primary",onClick:i},A("convertToJitoSOL"))):null)};var i0=v(ht)`
  display: grid;
  grid-template-columns: 44px auto;
  column-gap: 10px;
  margin-bottom: 0;
`,a0=v.div`
  overflow: hidden;
`,so=v.div`
  display: grid;
  grid-template-columns: 1fr;
`,dB=v.div`
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 10px;
`,$B=()=>{let{t:A}=O(),{pushDetailView:j}=lA(),{showValidatorListModal:e,hideValidatorListModal:t}=pj(),{handleShowModalVisibility:r}=eA(),{data:o}=No("solana"),{isSupported:n,isLoading:s}=Z6(o?.networkID),i=o?.address??"",k=(0,tA.useMemo)(()=>Xo(o?.networkID),[o?.networkID]),l=ft(k,i),{isFetching:c,isError:d}=l,E=c||s,{totalStake:$,totalRewards:m,numAccounts:q}=(0,tA.useMemo)(()=>{let f=l.data??[];return{totalStake:f.reduce((b,P)=>b+P.lamports,0),totalRewards:f.reduce((b,P)=>b+(P.inflationReward??0),0),numAccounts:f.length}},[l.data]),h=(0,tA.useCallback)(()=>{if(d){l.refetch();return}E||(q>0?j(tA.default.createElement(EB,null)):n?r("stakingMethods",{onSelectNativeStaking:()=>e({onClose:t})}):e({onClose:t}))},[n,r,t,d,E,q,j,e,l]);return tA.default.createElement(i0,{role:"button",isDisabled:E,onClick:h},E?tA.default.createElement(gt,{diameter:44,color:I6("#AB9FF2",.2)},tA.default.createElement(ut,{diameter:28})):d?tA.default.createElement(gt,{diameter:44,color:I6("#EB3742",.1)},tA.default.createElement(Jn,null)):tA.default.createElement(gt,{diameter:44,color:`${I6(ZA.colors.brand.green,.1)}`},tA.default.createElement(dA.TrendingUp,{color:"accentSuccess"})),tA.default.createElement(a0,null,E?tA.default.createElement(so,null,tA.default.createElement(Z,{size:16,weight:600,lineHeight:19,textAlign:"left"},A("startEarningSolLoading")),tA.default.createElement(Z,{color:"#777777",size:14,lineHeight:17,textAlign:"left",noWrap:!0},A("startEarningSolSearching"))):d?tA.default.createElement(so,null,tA.default.createElement(Z,{size:16,weight:600,lineHeight:19,textAlign:"left"},A("startEarningSolErrorTroubleLoading")),tA.default.createElement(Z,{color:"#777777",size:14,lineHeight:17,textAlign:"left",noWrap:!0},A("startEarningSolErrorClosePhantom"))):q?tA.default.createElement(tA.default.Fragment,null,tA.default.createElement(dB,null,tA.default.createElement(Z,{size:16,weight:600,lineHeight:19,textAlign:"left"},A("startEarningSolYourStake")),tA.default.createElement(Z,{size:14,weight:400,lineHeight:17,textAlign:"right",noWrap:!0},tA.default.createElement(s6,null,$))),tA.default.createElement(dB,null,tA.default.createElement(Z,{color:"#777777",size:14,lineHeight:19,textAlign:"left",noWrap:!0},q," ",q===1?"account":"accounts"),tA.default.createElement(Z,{size:14,color:`${m>0?"#21E56F":"#777777"}`,lineHeight:17,textAlign:"right",noWrap:!0},m>0?tA.default.createElement(tA.default.Fragment,null,"+",tA.default.createElement(s6,null,m)):"\u2013"))):tA.default.createElement(so,null,tA.default.createElement(Z,{size:16,weight:600,lineHeight:19,textAlign:"left"},A("startEarningSolPrimaryText")),tA.default.createElement(Z,{color:"#777777",size:14,lineHeight:17,textAlign:"left",noWrap:!0},A("startEarningSolStakeTokens")))))};a();B();var ue=G(I()),pB=({partialErrorMessage:A})=>ue.default.createElement(F,{backgroundColor:"bgArea",padding:16,borderRadius:16,width:"100%",display:"flex",direction:"row",gap:8,position:"relative"},ue.default.createElement(F,null,ue.default.createElement(dA.InfoCircle,{size:18,color:"textSecondary"})),ue.default.createElement(F,{flex:1},ue.default.createElement(y,{font:"caption",color:"textSecondary"},A)));a();B();var R6=G(I());a();B();var N6=G(I());var uB=({fungible:A,leftButton:j})=>{let{handleShowModalVisibility:e}=eA(),t=(0,N6.useCallback)(i=>e("activityItem",i),[e]),r=(0,N6.useCallback)(i=>e("pendingTransaction",i),[e]),{activityItemsData:o,isLoadingHistory:n,isDeveloperMode:s}=Bt({fungible:A});return N6.default.createElement(F,{paddingX:"screen",paddingTop:16},N6.default.createElement(Tt,{leftButton:j},"Activity"),N6.default.createElement(Te,{dataPages:o.data?.pages,isLoading:n,fetchNextPage:o.fetchNextPage,refetch:o.refetch,hasNextPage:o.hasNextPage,isFetchingNextPage:o.isFetchingNextPage,isError:o.isError,isRefreshError:o.isRefetchError,isRefreshingConfirmedTxs:!1,isDeveloperMode:s,showActivityItemModal:t,showPendingTransactionModal:r}))};a();B();var XA=G(I());var mB=({refetch:A})=>XA.default.createElement(XA.default.Fragment,null,XA.default.createElement(y,{color:"textSecondary",align:"center"},AA.t("unifiedTokenDetailTransactionActivityError")),A&&XA.default.createElement(y,{align:"center",onPress:()=>A(),children:AA.t("commandRetry")})),B0=({fungible:A})=>{let{activityItemsData:j}=Bt({fungible:A}),{handleShowModalVisibility:e}=eA(),t=(0,XA.useCallback)(r=>e("activityItem",{activityItem:r}),[e]);return XA.default.createElement(F,{gap:8},j.status==="error"?XA.default.createElement(mB,{refetch:j.refetch}):j.status==="success"?j.data.pages[0]?.results.slice(0,3).map((r,o)=>XA.default.createElement(F,{key:o,gap:8},XA.default.createElement(Nt,{activityItem:r,onClick:()=>t(r)}))):Array.from({length:3}).map((r,o)=>XA.default.createElement(b6,{key:`row-loader-${o}`})))},FB=({fungible:A})=>XA.default.createElement(zn,{fallback:XA.default.createElement(mB,null)},XA.default.createElement(B0,{fungible:A}));var qB=({fungible:A})=>{let{pushDetailView:j,popDetailView:e}=lA();return R6.default.createElement(F,{gap:8},R6.default.createElement(F,{direction:"row",justifyContent:"space-between"},R6.default.createElement(y,{font:"bodySemibold",color:"textSecondary"},AA.t("unifiedTokenDetailTransactionActivity")),R6.default.createElement(y,{color:"brandPrimary",onPress:()=>j(R6.default.createElement(uB,{leftButton:{type:"back",onClick:e},fungible:A}))},AA.t("unifiedTokenDetailSeeMoreTransactionActivity"))),R6.default.createElement(FB,{fungible:A}))};a();B();var me=G(I());var fB=({fungible:A})=>{let{name:j,balance:e,symbol:t,tokenAddress:r,logoUri:o,chain:n,usd:s,usd_24h_change:i}=A.data,k=`${rt(e)} ${t}`,{t:l}=O();return me.default.createElement(yj,{truncate:"left",start:me.default.createElement(y6,{image:{type:"fungible",src:o,fallback:t||r},tokenType:A.type,chainMeta:n}),topLeft:{text:j??l("assetDetailUnknownToken"),after:me.default.createElement(us,{networkID:n.id,address:A.data.walletAddress})},bottomLeft:k,topRight:me.default.createElement(Aj,{fontWeight:"semibold",value:s,testID:"here"}),bottomRight:me.default.createElement(Aj,{signConfig:"exceptZero",color:"sentiment",font:"caption",value:i})})};a();B();var q6=G(I());var k0=v.button`
  background: none;
  background-color: rgba(60, 49, 91, 0.4);
  border: 1px solid rgb(60, 49, 91);
  border-radius: ${ZA.radiusRow};
  cursor: pointer;
  height: 74px;
  padding: 10px 12px;
  width: 100%;

  &:hover {
    background-color: rgba(60, 49, 91, 0.6);
  }
`,l0=v.div`
  align-items: center;
  display: flex;
`,c0=v.div`
  margin-right: 12px;
`,E0=v(Z).attrs({lineHeight:17,size:14})`
  -webkit-box-orient: vertical;
  -webkit-line-clamp: 2;
  display: -webkit-box;
  flex: 1;
  overflow: hidden;
  text-align: left;
`,d0=A=>{let j=wr();return Tr(),fs({fungible:A,goToConvertStake:j})},$0=q6.default.memo(({title:A,onPress:j})=>q6.default.createElement(k0,{onClick:j},q6.default.createElement(l0,null,q6.default.createElement(c0,null,q6.default.createElement(es,null)),q6.default.createElement(E0,{weight:600},A)))),GB=({fungible:A})=>{let j=d0(A);return j.canConvertStake?q6.default.createElement($0,{...j}):null};a();B();var t6=G(I());a();B();var oj=G(I());var gB=({stateType:A,progressPercentage:j})=>{let e=p0(A,j),t=u0(A,j);return oj.default.createElement(m0,{percentageContent:e,progress:t})},p0=(A,j)=>{let e=oj.default.createElement(y,{font:"bodySemibold",color:"textPrimary"},j,"%");switch(A){case"BondingCurve":return e;case"BondingCurveRefreshing":return oj.default.createElement(F,{direction:"row",alignItems:"center"},oj.default.createElement($j,{width:40,height:20,borderRadius:10}))}},u0=(A,j)=>{switch(A){case"BondingCurve":return oj.default.createElement(q0,{progressPercentage:j});case"BondingCurveRefreshing":return oj.default.createElement($j,{width:40,height:20,borderRadius:10})}},m0=({percentageContent:A,progress:j})=>{let{t:e}=O();return oj.default.createElement(F,{gap:8,backgroundColor:"bgRow",borderTopRadius:"row",padding:"screen",borderColor:"bgWallet",borderBottomWidth:1,marginBottom:1},oj.default.createElement(F,{direction:"row",gap:8,alignItems:"center",justifyContent:"space-between"},oj.default.createElement(hs,{label:e("bondingCurveProgressLabel"),tooltipContent:e("bondingCurveInfoDescription")},oj.default.createElement(y,{font:"captionMedium",color:"textPrimary"},A))),j)},F0=T({height:"100%",borderRadius:10,backgroundColor:"accentPrimary"}),q0=({progressPercentage:A})=>oj.default.createElement(F,{width:"100%",height:8,borderRadius:10,backgroundColor:"bgArea"},oj.default.createElement("div",{className:F0,style:{width:`${A}%`}}));var vB=({caip19:A,rows:j})=>{let e=Et(A);switch(e.type){case"BondingCurve":case"BondingCurveRefreshing":return t6.default.createElement("div",null,t6.default.createElement(gB,{stateType:e.type,progressPercentage:e.progressPercentage}),t6.default.createElement(Ae,{rows:j,borderRadius:`0 0 ${ZA.radiusRow} ${ZA.radiusRow}`}));case"Graduated":return t6.default.createElement(f0,{rows:j,ugcProgram:e.ugcProgram});default:return t6.default.createElement(Ae,{rows:j})}},f0=({rows:A,ugcProgram:j})=>{let{t:e}=O(),t=(0,t6.useMemo)(()=>(A[0]={label:e("ugcCreatedRowLabel"),value:j.name},A[1]={label:e("ugcStatusRowLabel"),value:e("ugcStatusRowValue")},A),[A,e,j.name]);return t6.default.createElement(Ae,{rows:t})};a();B();var _j=G(I()),hB=({caip19:A,spamStatus:j})=>{let e=Et(A),t=(0,_j.useMemo)(()=>j?j!=="VERIFIED":!1,[j]);switch(e.type){case"BondingCurve":return e.progressPercentage<100?_j.default.createElement(io,{warning:AA.t("ugcFungibleWarningBanner",{programName:e.ugcProgram?.name??""})}):t&&_j.default.createElement(io,{warning:AA.t("fungibleDetailUnverifiedToken")});case"NoBondingCurve":return t&&_j.default.createElement(io,{warning:AA.t("fungibleDetailUnverifiedToken")});default:return null}},io=({warning:A})=>_j.default.createElement(F,{direction:"row",flex:1,gap:8,backgroundColor:"bgRow",borderWidth:1,borderColor:"bgRow",borderRadius:"row",padding:16},_j.default.createElement(F,{flexShrink:0},_j.default.createElement(dA.AlertTriangle,{size:18})),_j.default.createElement(y,{font:"caption"},A));a();B();var V6=G(I());a();B();var Qe=new kn(IA);var bB=V6.default.memo(({actions:A,shortcuts:j,hostname:e,headerText:t,maxButtons:r,uiContextName:o,disabled:n=!1})=>{let{t:s}=O(),i=A.primary.length+A.more.length+(j?.length??0),k=A.more.length>0,{handleShowModalVisibility:l,handleHideModalVisibility:c}=eA(),d=(0,V6.useCallback)((E,$)=>{Qe.ctaBarTrackPrimaryButtonsClick({uiContext:{name:o},position:$,type:E.type,typeSpecificMetadata:E.typeSpecificMetadata,maxButtons:r,primaryActions:A.primary,moreActions:A.more})},[r,A.more,A.primary,o]);return V6.default.createElement(F,{gap:8,direction:"row",width:"100%"},A.primary.map(E=>V6.default.createElement(A7,{key:E.type,label:E.singleWordAltText??E.text,disabled:n,icon:Wr(E.type),onClick:()=>{d(E,"primary"),E.onClick(E.type)}})),k?V6.default.createElement(A7,{disabled:n,label:s("commandMore"),icon:Wr("more"),onClick:()=>{Qe.ctaBarTrackMoreButtonClick({uiContext:{name:o},maxButtons:r,totalButtons:i}),l("callToActionSheet",{headerText:t,actions:A,shortcuts:j,hostname:e,onClose:()=>{c("callToActionSheet")},trackAction:E=>{d(E,"more")}})}}):null)});a();B();var cj=G(I());var G0=v.p`
  display: -webkit-box;
  -webkit-line-clamp: ${({isExpanded:A})=>A?"none":3};
  -webkit-box-orient: vertical;
  overflow: hidden;
  text-overflow: ellipsis;
`,yB=({text:A})=>{let{t:j}=O(),[e,t]=(0,cj.useState)(!1),[r,o]=(0,cj.useState)(!1),n=(0,cj.useRef)(null),s=()=>{t(!e)};return(0,cj.useLayoutEffect)(()=>{(()=>{if(n.current){let k=n.current.scrollHeight>n.current.clientHeight;o(k)}})()},[A]),cj.default.createElement("div",null,cj.default.createElement(G0,{ref:n,className:ao.text,isExpanded:e,onClick:s},A),r&&cj.default.createElement("div",{className:ao.readMoreContainer,onClick:s},cj.default.createElement("span",{className:ao.readMoreText},j(e?"publicFungibleDetailShowLess":"publicFungibleDetailShowMore"))))},ao={text:T({font:"body",whiteSpace:"pre-line",color:"textSecondary"}),readMoreContainer:T({paddingTop:8}),readMoreText:T({color:"accentPrimary",cursor:"pointer"})};a();B();var DA=G(I()),I0=16,g0={discord:dA.Discord,telegram:dA.Telegram,website:dA.Globe,x:dA.XTwitter},v0={discord:"Discord",telegram:"Telegram",website:"Website",x:"X"},h0=({link:{type:A,url:j},trackAction:e})=>{let t=g0[A],r=v0[A],o=(0,DA.useCallback)(()=>{self.open(j),e(j)},[e,j]);return DA.default.createElement("div",{className:_r.button,onClick:o},DA.default.createElement(t,{className:_r.image,size:14}),DA.default.createElement(y,{className:_r.text,color:"white",children:r}))},xB=({data:A})=>{let j=ge(0),e=(0,DA.useRef)(null),[t,r]=(0,DA.useState)(0),o=(0,DA.useMemo)(()=>{let n=self.innerWidth-t-I0*2;return Math.min(0,n)},[t]);return(0,DA.useEffect)(()=>{e.current&&r(e.current.scrollWidth)},[A]),DA.default.createElement(wA.div,{ref:e},DA.default.createElement(wA.div,{className:_r.scrollView,style:{x:j},drag:"x",dragConstraints:{left:o,right:0}},A.links.map(n=>DA.default.createElement(h0,{key:n.url,link:n,trackAction:A.trackAction}))))},_r={scrollView:T({display:"flex",flexDirection:"row",gap:8,overflow:"visible"}),button:T({display:"flex",flexDirection:"row",alignItems:"center",backgroundColor:{base:"bgRow",hover:"bgButton"},cursor:"pointer",borderRadius:48,paddingX:12,paddingY:6}),image:T({marginRight:4}),text:T({font:"captionSemibold",color:"white"})};a();B();var UA=G(I());a();B();var f6={priceContainer:"_51gazn50 _51gazn3j _51gazn6l _51gazn20 _51gazn19s _51gazn1ho _51gazn1kv _51gazn1jw _51gazn1jj _51gazn1i3",priceSubTextContainer:"_51gazn1ho _51gazn1jj _51gazn1jw _51gazn1ks _51gaznjt",priceChangePercentageContainer:"_1nbc0st4 _51gaznrs _51gaznsr _51gaznup _51gazntq _51gazn1w _51gazn3f _51gazn4w _51gazn6f _51gazn1ho _51gazn1jj",priceLineChartContainer:"_1nbc0st7",timeFrameContainer:"_1nbc0st8 _51gazne5 _51gazn19s _51gazn1ho _51gaznjs",timeFrameButton:"_51gaznru _51gaznst _51gaznur _51gaznts _51gazn1ho _51gazn1jw _51gazn1jj _51gazn1ki _51gazn1q6 _51gazn3dc _51gazn1tx _51gazn1us",timeFrameButtonActive:"_51gaznru _51gaznst _51gaznur _51gaznts _51gazn1ho _51gazn1jw _51gazn1jj _51gazn1ki _51gazn1q6 _51gazn3dc _51gazn1tx _51gazn1us _51gazn1ur _51gazn1v7 _51gazn3e6"};var b0={left:0,right:32},Dr=({caip19:A})=>{let{activeTimeFrame:j,currentPrice:e,currentPriceChange:t,formatTimeFrameText:r,formattedPercentageChange:o,isPending:n,errorText:s,overallPriceChange:i,prices:k,setActiveTimeFrame:l,setScrubValue:c,timeFrames:d,hidePriceAmounts:E,hideTimeFrames:$}=Zo({caip19:A,userLocale:navigator.language}),m=Zr(t),q=Zr(i);return UA.default.createElement("div",null,UA.default.createElement("div",{className:f6.priceContainer,style:{minHeight:"86px"}},!E&&UA.default.createElement(UA.default.Fragment,null,UA.default.createElement(Aj,{value:e,font:"heading1Semibold"}),UA.default.createElement("div",{className:f6.priceSubTextContainer},UA.default.createElement(Aj,{value:t,signConfig:"exceptZero",font:"title1Semibold",color:"sentiment"}),o?UA.default.createElement("div",{className:`${f6.priceChangePercentageContainer} ${m.backgroundColor}`},UA.default.createElement(y,{children:o,font:"captionSemibold",color:"bgWallet"})):null))),UA.default.createElement("div",{className:f6.priceLineChartContainer},UA.default.createElement(fn,{onMouseOverValueChange:c,interactive:!0,prices:k,errorText:s,formatTooltip:r,isLoading:n,lineColor:q.__colorValue__,xAxisPadding:b0})),UA.default.createElement("div",{className:f6.timeFrameContainer},!$&&d.map(({timeFrame:h,label:f})=>UA.default.createElement("div",{className:j===h?f6.timeFrameButtonActive:f6.timeFrameButton,key:h,onClick:()=>{l(h)}},UA.default.createElement(y,{children:f,font:"labelBold"})))))};var y0=()=>jA.default.createElement(F,{className:Ze.unverifiedBanner},jA.default.createElement(dA.AlertTriangle,{size:18}),jA.default.createElement(y,{children:AA.t("unverifiedToken"),font:"caption"}));function PB(A){if(A.type==="staking")return{key:A.type,element:jA.default.createElement(jA.default.Fragment,null,jA.default.createElement(GB,{fungible:A.data}),jA.default.createElement($B,null))};if(A.type==="partialError")return{key:A.type,element:jA.default.createElement(pB,{partialErrorMessage:A.data})};if(A.type==="spamTreatment")return{key:A.type,element:jA.default.createElement(F,{marginTop:12},jA.default.createElement(ro,{onMarkNotSpam:A.data.markAsNotSpam}))};if(A.type==="unverifiedBanner")return{element:jA.default.createElement(y0,null),key:A.type};if(A.type==="sectionHeader")return{element:jA.default.createElement(y,{color:"textSecondary",className:Ze.sectionTitle,children:A.data}),key:[A.type,A.data].join(":")};if(A.type==="about"&&A.data.status==="success")return{element:jA.default.createElement(yB,{text:A.data.description}),key:A.type};if(A.type==="links")return{element:jA.default.createElement(F,{className:Ze.linkContainer},jA.default.createElement(xB,{data:A.data})),key:A.type};if(A.type==="priceHistory")return{element:jA.default.createElement(Dr,{...A.data}),key:A.type};if(A.type==="cta"&&A.data.status==="success")return{element:jA.default.createElement(F,{className:Ze.ctaContainer},jA.default.createElement(bB,{actions:A.data.actions,uiContextName:"unifiedFungibleDetail",maxButtons:4})),key:A.type};if(A.type==="table")return MB(A.data.rows),OB(A.data.rows),{element:jA.default.createElement(Ae,{rows:A.data.rows}),key:[A.type,A.data.key].join(":")};if(A.type==="ugcWarningBanner")return{element:jA.default.createElement(F,{marginTop:12},jA.default.createElement(hB,{caip19:A.data.caip19,spamStatus:A.data.spamStatus})),key:A.type};if(A.type==="tableWithBondingCurveProgress")return MB(A.data.rows),OB(A.data.rows),{element:jA.default.createElement(vB,{caip19:A.data.caip19,rows:A.data.rows}),key:[A.type,A.data.key].join(":")};if(A.type==="balance"&&A.data.status==="success"){let{fungible:j}=A.data;return{element:jA.default.createElement(jA.default.Fragment,null,jA.default.createElement(y,{color:"textSecondary",className:Ze.sectionTitle},AA.t("publicFungibleDetailYourBalance")),jA.default.createElement(F,null,jA.default.createElement(fB,{fungible:j}))),key:A.type}}return A.type==="transactionHistory"?{element:jA.default.createElement(F,{marginTop:16},jA.default.createElement(qB,{fungible:A.data.fungible,caip19:A.data.caip19,fungibleKey:A.data.fungibleKey??""})),key:A.type}:A.type==="error"?{element:jA.default.createElement(F,{flex:1,padding:16,justifyContent:"center",alignItems:"center"},jA.default.createElement(y,{color:"textSecondary"},AA.t("publicFungibleDetailErrorLoading"))),key:A.type}:null}function OB(A){for(let j of A)if("change"in j){let e=j.change;if(!j.value)return;let t=e.charAt(0)==="-";j.value=jA.default.createElement(F,{direction:"row"},jA.default.createElement(y,{font:"captionMedium",children:j.value}),jA.default.createElement(y,{paddingLeft:6,font:"captionMedium",color:t?"accentAlert":"accentSuccess",children:e}))}}function MB(A){for(let j of A)if("usdValue"in j){let e=j.usdValue;if(!e)return;j.value=jA.default.createElement(F,{direction:"row"},jA.default.createElement(Aj,{value:e,font:"captionMedium",intlNumberFormatOptions:{...Ie,notation:"compact"}}))}}var Ze={sectionTitle:T({font:"bodySemibold",paddingTop:12}),linkContainer:T({paddingTop:16}),ctaContainer:T({paddingTop:16}),unverifiedBanner:T({display:"flex",flex:1,gap:8,backgroundColor:"bgRow",padding:16,borderRadius:16})};a();B();var Bo=G(I());var wB=()=>{let{handleShowModalVisibility:A}=eA(),{trackMintModalContinue:j}=Gs(),e=(0,Bo.useCallback)(()=>{A("mintJitoInfo",{presentNext:!0})},[A]),t=(0,Bo.useCallback)(()=>{j(),A("mintStakeAmount")},[A,j]);return Gt({method:"mint",goToInfoPage:e,goToInitFlowPage:t})};a();B();var SB=G(I());var KB=(A,j)=>{if(A)return A;if(j)return z6(W6(j))},TB=()=>{let A=Q6(),{closeAllModals:j}=eA();return(0,SB.useCallback)(({sellFungible:t,sellFungibleCaip19:r,buyFungible:o,buyFungibleCaip19:n,sellAmount:s})=>{let i=KB(r,t),k=KB(n,o),l=new URLSearchParams;i&&l.append("sellFungible",i),k&&l.append("buyFungible",k),s&&l.append("sellAmount",s),j(),A(`/swap?${l.toString()}`)},[j,A])};a();B();var Hr=G(I()),ko={container:T({display:"flex",flexDirection:"column",height:"100%",maxHeight:"100%",minHeight:"100%",width:"100%",maxWidth:"100%",minWidth:"100%",overflow:"hidden"}),headerContainer:T({paddingX:16,paddingTop:16}),contentContainer:T({display:"flex",flexDirection:"column",flex:1,overflowY:"auto",overflowX:"hidden",paddingX:16,paddingBottom:"screen"})},_B=({header:A,content:j})=>Hr.default.createElement("div",{className:ko.container},Hr.default.createElement("div",{className:ko.headerContainer},A),Hr.default.createElement("div",{className:ko.contentContainer},j));var Ye=({caip19:A,fungibleKey:j,title:e,entryPoint:t,splTokenAccount:r})=>{let o=TB(),n=(0,iA.useMemo)(()=>S=>{o({sellFungibleCaip19:S.sellFungibleCaip19,buyFungibleCaip19:S.buyFungibleCaip19})},[o]),s=(0,iA.useCallback)((S,qA)=>{switch(qA){case"buy":n({buyFungibleCaip19:S});break;case"sell":n({sellFungibleCaip19:S})}},[n]),{data:i}=YA(),{handleShowModalVisibility:k}=eA(),{showDepositFungibleModal:l,hideDepositFungibleModal:c,showValidatorListModal:d,hideValidatorListModal:E}=pj(),$=(0,iA.useCallback)(S=>{self.open(S)},[]),m=ct(),q=Bn(j),{canBuy:h,openBuy:f}=sB({...q&&{addressType:q},caip19:A,context:"publicFungible",analyticsEvent:"fiatOnrampFromPublicFungible"}),b=(0,iA.useCallback)(S=>{navigator.clipboard.writeText(S),KA(AA.t("publicFungibleDetailLinkCopied"))},[]),{mutateAsync:P}=rn(),w=Q6(),H=(0,iA.useCallback)(async()=>{await P(),w("/notifications")},[w,P]),{mutateAsync:K}=on(),Q=(0,iA.useCallback)(async S=>{await K(S),w("/notifications")},[K,w]),C=(0,iA.useCallback)(()=>d({onClose:E}),[E,d]),z=wB(),g=(0,iA.useCallback)(()=>{self.open(On,"_blank")},[]),x=Is(A),W=Xr(A),{isSupported:R}=Z6(W.chainId),X=R&&"slip44"in W,rA=jn(S=>S.setSendFungibleKey),oA=(0,iA.useCallback)(S=>{rA(S.data.key,r??(S.type==="SPL"?S.data.splTokenAccountPubkey:void 0)),k("sendFungibleForm")},[rA,k,r]),sA=(0,iA.useCallback)(S=>{l({accountName:i?.name??"",walletAddress:S.data.walletAddress,address:j,symbol:S.data.symbol,onClose:c,networkID:S.data.chain.id})},[c,l,j,i?.name]),_=(0,iA.useMemo)(()=>{let S=Xr(A);return S.resourceType==="address"?iA.default.createElement(ws,{copyString:S.address},wo(S.address)):null},[A]),aA=Cn(A),BA=sn({caip19:A,canBuy:h,canSwap:m,copyAddress:_,entryPoint:t,fungibleAnalytics:Qe,fungibleKey:j,onNativeMintLSTPress:X?z:void 0,onReceive:sA,onSend:oA,onShare:b,onStakeLSTPress:x?z:void 0,onStakeSol:C,onUnstakeLSTPress:x?g:void 0,onUnwrapWrappedSol:H,onDecompressSpl:Q,openBuy:f,openLink:$,openSwapper:n,openBuySellToken:s,refetchBondingCurve:aA,title:e});return iA.default.createElement(_B,{header:iA.default.createElement(ej,null,BA.title),content:BA.isLoading?iA.default.createElement(F,{gap:"list"},iA.default.createElement(Dr,{caip19:A}),iA.default.createElement(F,{gap:8,direction:"row",className:Cr.ctaContainer},Array.from({length:3}).map((S,qA)=>iA.default.createElement(F,{flexGrow:1,flexShrink:1,key:qA},iA.default.createElement($j,{height:80,borderRadius:22})))),iA.default.createElement(F,{gap:16,paddingTop:12,className:Cr.sectionTitle},iA.default.createElement($j,{height:22,borderRadius:16,width:"40%"}),iA.default.createElement($j,{height:80,borderRadius:16})),iA.default.createElement(F,{gap:16,className:Cr.sectionTitle},iA.default.createElement($j,{height:22,borderRadius:16,width:"40%"}),iA.default.createElement($j,{height:200,borderRadius:16}))):iA.default.createElement(F,{className:Cr.container},BA.items.map(S=>{let qA=PB(S);return qA?iA.default.createElement(iA.default.Fragment,{key:qA.key},qA.element):null}))})},a4=Ye,Cr={container:T({display:"flex",flexDirection:"column",gap:"list",paddingBottom:8}),sectionTitle:T({font:"bodySemibold",paddingTop:12}),ctaContainer:T({paddingTop:16})};export{nc as a,m7 as b,sc as c,ac as d,Bc as e,zt as f,f7 as g,kc as h,Wt as i,Jj as j,Mj as k,bc as l,BE as m,jo as n,xe as o,QA as p,Os as q,tj as r,Mt as s,KA as t,H0 as u,C0 as v,Vt as w,fi as x,Gi as y,Oa as z,Pe as A,Ma as B,Tt as C,ii as D,ai as E,Ct as F,Ei as G,di as H,mi as I,Fi as J,f8 as K,G8 as L,I8 as M,g8 as N,v8 as O,h8 as P,Pa as Q,b8 as R,hr as S,yr as T,DE as U,Va as V,Xa as W,ws as X,Ld as Y,Pr as Z,oB as _,sB as $,pB as aa,Qe as ba,bB as ca,wB as da,TB as ea,Ye as fa,a4 as ga,eA as ha,ty as ia};
/*! Bundled license information:

@noble/hashes/esm/utils.js:
  (*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@noble/ciphers/esm/utils.js:
  (*! noble-ciphers - MIT License (c) 2023 Paul Miller (paulmillr.com) *)
*/
//# sourceMappingURL=chunk-DSGFIM4C.js.map
